(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function I4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yK(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var x={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=Symbol.for("react.element"),wK=Symbol.for("react.portal"),_K=Symbol.for("react.fragment"),bK=Symbol.for("react.strict_mode"),EK=Symbol.for("react.profiler"),SK=Symbol.for("react.provider"),TK=Symbol.for("react.context"),IK=Symbol.for("react.forward_ref"),CK=Symbol.for("react.suspense"),kK=Symbol.for("react.memo"),xK=Symbol.for("react.lazy"),r2=Symbol.iterator;function RK(e){return e===null||typeof e!="object"?null:(e=r2&&e[r2]||e["@@iterator"],typeof e=="function"?e:null)}var C4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k4=Object.assign,x4={};function mf(e,t,n){this.props=e,this.context=t,this.refs=x4,this.updater=n||C4}mf.prototype.isReactComponent={};mf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R4(){}R4.prototype=mf.prototype;function qI(e,t,n){this.props=e,this.context=t,this.refs=x4,this.updater=n||C4}var WI=qI.prototype=new R4;WI.constructor=qI;k4(WI,mf.prototype);WI.isPureReactComponent=!0;var i2=Array.isArray,N4=Object.prototype.hasOwnProperty,HI={current:null},A4={key:!0,ref:!0,__self:!0,__source:!0};function P4(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)N4.call(t,r)&&!A4.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Tp,type:e,key:o,ref:a,props:i,_owner:HI.current}}function NK(e,t){return{$$typeof:Tp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function KI(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tp}function AK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var o2=/\/+/g;function x1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AK(""+e.key):t.toString(36)}function hm(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Tp:case wK:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+x1(a,0):r,i2(i)?(n="",e!=null&&(n=e.replace(o2,"$&/")+"/"),hm(i,t,n,"",function(f){return f})):i!=null&&(KI(i)&&(i=NK(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(o2,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",i2(e))for(var u=0;u<e.length;u++){o=e[u];var c=r+x1(o,u);a+=hm(o,t,n,c,i)}else if(c=RK(e),typeof c=="function")for(e=c.call(e),u=0;!(o=e.next()).done;)o=o.value,c=r+x1(o,u++),a+=hm(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Rg(e,t,n){if(e==null)return e;var r=[],i=0;return hm(e,r,"","",function(o){return t.call(n,o,i++)}),r}function PK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pr={current:null},dm={transition:null},OK={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:dm,ReactCurrentOwner:HI};Xe.Children={map:Rg,forEach:function(e,t,n){Rg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rg(e,function(){t++}),t},toArray:function(e){return Rg(e,function(t){return t})||[]},only:function(e){if(!KI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=mf;Xe.Fragment=_K;Xe.Profiler=EK;Xe.PureComponent=qI;Xe.StrictMode=bK;Xe.Suspense=CK;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OK;Xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=k4({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=HI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)N4.call(t,c)&&!A4.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Tp,type:e.type,key:i,ref:o,props:r,_owner:a}};Xe.createContext=function(e){return e={$$typeof:TK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SK,_context:e},e.Consumer=e};Xe.createElement=P4;Xe.createFactory=function(e){var t=P4.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:IK,render:e}};Xe.isValidElement=KI;Xe.lazy=function(e){return{$$typeof:xK,_payload:{_status:-1,_result:e},_init:PK}};Xe.memo=function(e,t){return{$$typeof:kK,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=dm.transition;dm.transition={};try{e()}finally{dm.transition=t}};Xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xe.useCallback=function(e,t){return Pr.current.useCallback(e,t)};Xe.useContext=function(e){return Pr.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return Pr.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return Pr.current.useEffect(e,t)};Xe.useId=function(){return Pr.current.useId()};Xe.useImperativeHandle=function(e,t,n){return Pr.current.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return Pr.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return Pr.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return Pr.current.useMemo(e,t)};Xe.useReducer=function(e,t,n){return Pr.current.useReducer(e,t,n)};Xe.useRef=function(e){return Pr.current.useRef(e)};Xe.useState=function(e){return Pr.current.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return Pr.current.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return Pr.current.useTransition()};Xe.version="18.2.0";(function(e){e.exports=Xe})(x);const Re=I4(x.exports);var wS={},pi={exports:{}},vi={},O4={exports:{}},D4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,V){var j=U.length;U.push(V);e:for(;0<j;){var G=j-1>>>1,Q=U[G];if(0<i(Q,V))U[G]=V,U[j]=Q,j=G;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var V=U[0],j=U.pop();if(j!==V){U[0]=j;e:for(var G=0,Q=U.length,de=Q>>>1;G<de;){var ce=2*(G+1)-1,Ie=U[ce],ve=ce+1,Me=U[ve];if(0>i(Ie,j))ve<Q&&0>i(Me,Ie)?(U[G]=Me,U[ve]=j,G=ve):(U[G]=Ie,U[ce]=j,G=ce);else if(ve<Q&&0>i(Me,j))U[G]=Me,U[ve]=j,G=ve;else break e}}return V}function i(U,V){var j=U.sortIndex-V.sortIndex;return j!==0?j:U.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var c=[],f=[],d=1,p=null,g=3,m=!1,w=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(U){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=U)r(f),V.sortIndex=V.expirationTime,t(c,V);else break;V=n(f)}}function O(U){if(_=!1,C(U),!w)if(n(c)!==null)w=!0,pe(P);else{var V=n(f);V!==null&&Te(O,V.startTime-U)}}function P(U,V){w=!1,_&&(_=!1,b(L),L=-1),m=!0;var j=g;try{for(C(V),p=n(c);p!==null&&(!(p.expirationTime>V)||U&&!H());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var Q=G(p.expirationTime<=V);V=e.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(c)&&r(c),C(V)}else r(c);p=n(c)}if(p!==null)var de=!0;else{var ce=n(f);ce!==null&&Te(O,ce.startTime-V),de=!1}return de}finally{p=null,g=j,m=!1}}var R=!1,F=null,L=-1,$=5,k=-1;function H(){return!(e.unstable_now()-k<$)}function J(){if(F!==null){var U=e.unstable_now();k=U;var V=!0;try{V=F(!0,U)}finally{V?ae():(R=!1,F=null)}}else R=!1}var ae;if(typeof S=="function")ae=function(){S(J)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,se=ne.port2;ne.port1.onmessage=J,ae=function(){se.postMessage(null)}}else ae=function(){T(J,0)};function pe(U){F=U,R||(R=!0,ae())}function Te(U,V){L=T(function(){U(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,pe(P))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var j=g;g=V;try{return U()}finally{g=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var j=g;g=U;try{return V()}finally{g=j}},e.unstable_scheduleCallback=function(U,V,j){var G=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?G+j:G):j=G,U){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=j+Q,U={id:d++,callback:V,priorityLevel:U,startTime:j,expirationTime:Q,sortIndex:-1},j>G?(U.sortIndex=j,t(f,U),n(c)===null&&U===n(f)&&(_?(b(L),L=-1):_=!0,Te(O,j-G))):(U.sortIndex=Q,t(c,U),w||m||(w=!0,pe(P))),U},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(U){var V=g;return function(){var j=g;g=V;try{return U.apply(this,arguments)}finally{g=j}}}})(D4);(function(e){e.exports=D4})(O4);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M4=x.exports,li=O4.exports;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L4=new Set,Nd={};function al(e,t){Dc(e,t),Dc(e+"Capture",t)}function Dc(e,t){for(Nd[e]=t,e=0;e<t.length;e++)L4.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_S=Object.prototype.hasOwnProperty,DK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s2={},a2={};function MK(e){return _S.call(a2,e)?!0:_S.call(s2,e)?!1:DK.test(e)?a2[e]=!0:(s2[e]=!0,!1)}function LK(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FK(e,t,n,r){if(t===null||typeof t>"u"||LK(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Or(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gn[e]=new Or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gn[t]=new Or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gn[e]=new Or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gn[e]=new Or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gn[e]=new Or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gn[e]=new Or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gn[e]=new Or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gn[e]=new Or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gn[e]=new Or(e,5,!1,e.toLowerCase(),null,!1,!1)});var GI=/[\-:]([a-z])/g;function QI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(GI,QI);Gn[t]=new Or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(GI,QI);Gn[t]=new Or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(GI,QI);Gn[t]=new Or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gn[e]=new Or(e,1,!1,e.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gn[e]=new Or(e,1,!1,e.toLowerCase(),null,!0,!0)});function YI(e,t,n,r){var i=Gn.hasOwnProperty(t)?Gn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FK(t,n,i,r)&&(n=null),r||i===null?MK(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ys=M4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ng=Symbol.for("react.element"),sc=Symbol.for("react.portal"),ac=Symbol.for("react.fragment"),XI=Symbol.for("react.strict_mode"),bS=Symbol.for("react.profiler"),F4=Symbol.for("react.provider"),$4=Symbol.for("react.context"),JI=Symbol.for("react.forward_ref"),ES=Symbol.for("react.suspense"),SS=Symbol.for("react.suspense_list"),ZI=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),U4=Symbol.for("react.offscreen"),u2=Symbol.iterator;function Th(e){return e===null||typeof e!="object"?null:(e=u2&&e[u2]||e["@@iterator"],typeof e=="function"?e:null)}var Bt=Object.assign,R1;function zh(e){if(R1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R1=t&&t[1]||""}return`
`+R1+e}var N1=!1;function A1(e,t){if(!e||N1)return"";N1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==o[u]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=u);break}}}finally{N1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zh(e):""}function $K(e){switch(e.tag){case 5:return zh(e.type);case 16:return zh("Lazy");case 13:return zh("Suspense");case 19:return zh("SuspenseList");case 0:case 2:case 15:return e=A1(e.type,!1),e;case 11:return e=A1(e.type.render,!1),e;case 1:return e=A1(e.type,!0),e;default:return""}}function TS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ac:return"Fragment";case sc:return"Portal";case bS:return"Profiler";case XI:return"StrictMode";case ES:return"Suspense";case SS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $4:return(e.displayName||"Context")+".Consumer";case F4:return(e._context.displayName||"Context")+".Provider";case JI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ZI:return t=e.displayName||null,t!==null?t:TS(e.type)||"Memo";case Bs:t=e._payload,e=e._init;try{return TS(e(t))}catch{}}return null}function UK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return TS(t);case 8:return t===XI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ya(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function j4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jK(e){var t=j4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ag(e){e._valueTracker||(e._valueTracker=jK(e))}function V4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=j4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function IS(e,t){var n=t.checked;return Bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function l2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ya(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function B4(e,t){t=t.checked,t!=null&&YI(e,"checked",t,!1)}function CS(e,t){B4(e,t);var n=ya(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kS(e,t.type,n):t.hasOwnProperty("defaultValue")&&kS(e,t.type,ya(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function c2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kS(e,t,n){(t!=="number"||Fm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qh=Array.isArray;function bc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ya(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function f2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(qh(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ya(n)}}function z4(e,t){var n=ya(t.value),r=ya(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function h2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function RS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pg,W4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pg=Pg||document.createElement("div"),Pg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ad(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var td={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VK=["Webkit","ms","Moz","O"];Object.keys(td).forEach(function(e){VK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),td[t]=td[e]})});function H4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||td.hasOwnProperty(e)&&td[e]?(""+t).trim():t+"px"}function K4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=H4(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var BK=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NS(e,t){if(t){if(BK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function AS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PS=null;function eC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var OS=null,Ec=null,Sc=null;function d2(e){if(e=kp(e)){if(typeof OS!="function")throw Error(X(280));var t=e.stateNode;t&&(t=v0(t),OS(e.stateNode,e.type,t))}}function G4(e){Ec?Sc?Sc.push(e):Sc=[e]:Ec=e}function Q4(){if(Ec){var e=Ec,t=Sc;if(Sc=Ec=null,d2(e),t)for(e=0;e<t.length;e++)d2(t[e])}}function Y4(e,t){return e(t)}function X4(){}var P1=!1;function J4(e,t,n){if(P1)return e(t,n);P1=!0;try{return Y4(e,t,n)}finally{P1=!1,(Ec!==null||Sc!==null)&&(X4(),Q4())}}function Pd(e,t){var n=e.stateNode;if(n===null)return null;var r=v0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var DS=!1;if(us)try{var Ih={};Object.defineProperty(Ih,"passive",{get:function(){DS=!0}}),window.addEventListener("test",Ih,Ih),window.removeEventListener("test",Ih,Ih)}catch{DS=!1}function zK(e,t,n,r,i,o,a,u,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(d){this.onError(d)}}var nd=!1,$m=null,Um=!1,MS=null,qK={onError:function(e){nd=!0,$m=e}};function WK(e,t,n,r,i,o,a,u,c){nd=!1,$m=null,zK.apply(qK,arguments)}function HK(e,t,n,r,i,o,a,u,c){if(WK.apply(this,arguments),nd){if(nd){var f=$m;nd=!1,$m=null}else throw Error(X(198));Um||(Um=!0,MS=f)}}function ul(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Z4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p2(e){if(ul(e)!==e)throw Error(X(188))}function KK(e){var t=e.alternate;if(!t){if(t=ul(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return p2(i),e;if(o===r)return p2(i),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function e$(e){return e=KK(e),e!==null?t$(e):null}function t$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=t$(e);if(t!==null)return t;e=e.sibling}return null}var n$=li.unstable_scheduleCallback,v2=li.unstable_cancelCallback,GK=li.unstable_shouldYield,QK=li.unstable_requestPaint,Yt=li.unstable_now,YK=li.unstable_getCurrentPriorityLevel,tC=li.unstable_ImmediatePriority,r$=li.unstable_UserBlockingPriority,jm=li.unstable_NormalPriority,XK=li.unstable_LowPriority,i$=li.unstable_IdlePriority,f0=null,ko=null;function JK(e){if(ko&&typeof ko.onCommitFiberRoot=="function")try{ko.onCommitFiberRoot(f0,e,void 0,(e.current.flags&128)===128)}catch{}}var oo=Math.clz32?Math.clz32:tG,ZK=Math.log,eG=Math.LN2;function tG(e){return e>>>=0,e===0?32:31-(ZK(e)/eG|0)|0}var Og=64,Dg=4194304;function Wh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=Wh(u):(o&=a,o!==0&&(r=Wh(o)))}else a=n&~i,a!==0?r=Wh(a):o!==0&&(r=Wh(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-oo(t),i=1<<n,r|=e[n],t&=~i;return r}function nG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rG(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-oo(o),u=1<<a,c=i[a];c===-1?((u&n)===0||(u&r)!==0)&&(i[a]=nG(u,t)):c<=t&&(e.expiredLanes|=u),o&=~u}}function LS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o$(){var e=Og;return Og<<=1,(Og&4194240)===0&&(Og=64),e}function O1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ip(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oo(t),e[t]=n}function iG(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-oo(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function nC(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-oo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var dt=0;function s$(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var a$,rC,u$,l$,c$,FS=!1,Mg=[],na=null,ra=null,ia=null,Od=new Map,Dd=new Map,Ws=[],oG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g2(e,t){switch(e){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Od.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dd.delete(t.pointerId)}}function Ch(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=kp(t),t!==null&&rC(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sG(e,t,n,r,i){switch(t){case"focusin":return na=Ch(na,e,t,n,r,i),!0;case"dragenter":return ra=Ch(ra,e,t,n,r,i),!0;case"mouseover":return ia=Ch(ia,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Od.set(o,Ch(Od.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dd.set(o,Ch(Dd.get(o)||null,e,t,n,r,i)),!0}return!1}function f$(e){var t=bu(e.target);if(t!==null){var n=ul(t);if(n!==null){if(t=n.tag,t===13){if(t=Z4(n),t!==null){e.blockedOn=t,c$(e.priority,function(){u$(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$S(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);PS=r,n.target.dispatchEvent(r),PS=null}else return t=kp(n),t!==null&&rC(t),e.blockedOn=n,!1;t.shift()}return!0}function m2(e,t,n){pm(e)&&n.delete(t)}function aG(){FS=!1,na!==null&&pm(na)&&(na=null),ra!==null&&pm(ra)&&(ra=null),ia!==null&&pm(ia)&&(ia=null),Od.forEach(m2),Dd.forEach(m2)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,FS||(FS=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,aG)))}function Md(e){function t(i){return kh(i,e)}if(0<Mg.length){kh(Mg[0],e);for(var n=1;n<Mg.length;n++){var r=Mg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(na!==null&&kh(na,e),ra!==null&&kh(ra,e),ia!==null&&kh(ia,e),Od.forEach(t),Dd.forEach(t),n=0;n<Ws.length;n++)r=Ws[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ws.length&&(n=Ws[0],n.blockedOn===null);)f$(n),n.blockedOn===null&&Ws.shift()}var Tc=ys.ReactCurrentBatchConfig,Bm=!0;function uG(e,t,n,r){var i=dt,o=Tc.transition;Tc.transition=null;try{dt=1,iC(e,t,n,r)}finally{dt=i,Tc.transition=o}}function lG(e,t,n,r){var i=dt,o=Tc.transition;Tc.transition=null;try{dt=4,iC(e,t,n,r)}finally{dt=i,Tc.transition=o}}function iC(e,t,n,r){if(Bm){var i=$S(e,t,n,r);if(i===null)z1(e,t,r,zm,n),g2(e,r);else if(sG(i,e,t,n,r))r.stopPropagation();else if(g2(e,r),t&4&&-1<oG.indexOf(e)){for(;i!==null;){var o=kp(i);if(o!==null&&a$(o),o=$S(e,t,n,r),o===null&&z1(e,t,r,zm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else z1(e,t,r,null,n)}}var zm=null;function $S(e,t,n,r){if(zm=null,e=eC(r),e=bu(e),e!==null)if(t=ul(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Z4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zm=e,null}function h$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YK()){case tC:return 1;case r$:return 4;case jm:case XK:return 16;case i$:return 536870912;default:return 16}default:return 16}}var Js=null,oC=null,vm=null;function d$(){if(vm)return vm;var e,t=oC,n=t.length,r,i="value"in Js?Js.value:Js.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return vm=i.slice(e,1<r?1-r:void 0)}function gm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lg(){return!0}function y2(){return!1}function gi(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Lg:y2,this.isPropagationStopped=y2,this}return Bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lg)},persist:function(){},isPersistent:Lg}),t}var yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sC=gi(yf),Cp=Bt({},yf,{view:0,detail:0}),cG=gi(Cp),D1,M1,xh,h0=Bt({},Cp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xh&&(xh&&e.type==="mousemove"?(D1=e.screenX-xh.screenX,M1=e.screenY-xh.screenY):M1=D1=0,xh=e),D1)},movementY:function(e){return"movementY"in e?e.movementY:M1}}),w2=gi(h0),fG=Bt({},h0,{dataTransfer:0}),hG=gi(fG),dG=Bt({},Cp,{relatedTarget:0}),L1=gi(dG),pG=Bt({},yf,{animationName:0,elapsedTime:0,pseudoElement:0}),vG=gi(pG),gG=Bt({},yf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mG=gi(gG),yG=Bt({},yf,{data:0}),_2=gi(yG),wG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bG[e])?!!t[e]:!1}function aC(){return EG}var SG=Bt({},Cp,{key:function(e){if(e.key){var t=wG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_G[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aC,charCode:function(e){return e.type==="keypress"?gm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TG=gi(SG),IG=Bt({},h0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b2=gi(IG),CG=Bt({},Cp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aC}),kG=gi(CG),xG=Bt({},yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),RG=gi(xG),NG=Bt({},h0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AG=gi(NG),PG=[9,13,27,32],uC=us&&"CompositionEvent"in window,rd=null;us&&"documentMode"in document&&(rd=document.documentMode);var OG=us&&"TextEvent"in window&&!rd,p$=us&&(!uC||rd&&8<rd&&11>=rd),E2=String.fromCharCode(32),S2=!1;function v$(e,t){switch(e){case"keyup":return PG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uc=!1;function DG(e,t){switch(e){case"compositionend":return g$(t);case"keypress":return t.which!==32?null:(S2=!0,E2);case"textInput":return e=t.data,e===E2&&S2?null:e;default:return null}}function MG(e,t){if(uc)return e==="compositionend"||!uC&&v$(e,t)?(e=d$(),vm=oC=Js=null,uc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p$&&t.locale!=="ko"?null:t.data;default:return null}}var LG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LG[e.type]:t==="textarea"}function m$(e,t,n,r){G4(r),t=qm(t,"onChange"),0<t.length&&(n=new sC("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var id=null,Ld=null;function FG(e){x$(e,0)}function d0(e){var t=fc(e);if(V4(t))return e}function $G(e,t){if(e==="change")return t}var y$=!1;if(us){var F1;if(us){var $1="oninput"in document;if(!$1){var I2=document.createElement("div");I2.setAttribute("oninput","return;"),$1=typeof I2.oninput=="function"}F1=$1}else F1=!1;y$=F1&&(!document.documentMode||9<document.documentMode)}function C2(){id&&(id.detachEvent("onpropertychange",w$),Ld=id=null)}function w$(e){if(e.propertyName==="value"&&d0(Ld)){var t=[];m$(t,Ld,e,eC(e)),J4(FG,t)}}function UG(e,t,n){e==="focusin"?(C2(),id=t,Ld=n,id.attachEvent("onpropertychange",w$)):e==="focusout"&&C2()}function jG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return d0(Ld)}function VG(e,t){if(e==="click")return d0(t)}function BG(e,t){if(e==="input"||e==="change")return d0(t)}function zG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lo=typeof Object.is=="function"?Object.is:zG;function Fd(e,t){if(lo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_S.call(t,i)||!lo(e[i],t[i]))return!1}return!0}function k2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x2(e,t){var n=k2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k2(n)}}function _$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b$(){for(var e=window,t=Fm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fm(e.document)}return t}function lC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qG(e){var t=b$(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_$(n.ownerDocument.documentElement,n)){if(r!==null&&lC(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=x2(n,o);var a=x2(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WG=us&&"documentMode"in document&&11>=document.documentMode,lc=null,US=null,od=null,jS=!1;function R2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jS||lc==null||lc!==Fm(r)||(r=lc,"selectionStart"in r&&lC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),od&&Fd(od,r)||(od=r,r=qm(US,"onSelect"),0<r.length&&(t=new sC("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lc)))}function Fg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cc={animationend:Fg("Animation","AnimationEnd"),animationiteration:Fg("Animation","AnimationIteration"),animationstart:Fg("Animation","AnimationStart"),transitionend:Fg("Transition","TransitionEnd")},U1={},E$={};us&&(E$=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);function p0(e){if(U1[e])return U1[e];if(!cc[e])return e;var t=cc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in E$)return U1[e]=t[n];return e}var S$=p0("animationend"),T$=p0("animationiteration"),I$=p0("animationstart"),C$=p0("transitionend"),k$=new Map,N2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(e,t){k$.set(e,t),al(t,[e])}for(var j1=0;j1<N2.length;j1++){var V1=N2[j1],HG=V1.toLowerCase(),KG=V1[0].toUpperCase()+V1.slice(1);Na(HG,"on"+KG)}Na(S$,"onAnimationEnd");Na(T$,"onAnimationIteration");Na(I$,"onAnimationStart");Na("dblclick","onDoubleClick");Na("focusin","onFocus");Na("focusout","onBlur");Na(C$,"onTransitionEnd");Dc("onMouseEnter",["mouseout","mouseover"]);Dc("onMouseLeave",["mouseout","mouseover"]);Dc("onPointerEnter",["pointerout","pointerover"]);Dc("onPointerLeave",["pointerout","pointerover"]);al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));al("onBeforeInput",["compositionend","keypress","textInput","paste"]);al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hh));function A2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HK(r,t,void 0,e),e.currentTarget=null}function x$(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;A2(i,u,f),o=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;A2(i,u,f),o=c}}}if(Um)throw e=MS,Um=!1,MS=null,e}function Ct(e,t){var n=t[WS];n===void 0&&(n=t[WS]=new Set);var r=e+"__bubble";n.has(r)||(R$(t,e,2,!1),n.add(r))}function B1(e,t,n){var r=0;t&&(r|=4),R$(n,e,r,t)}var $g="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[$g]){e[$g]=!0,L4.forEach(function(n){n!=="selectionchange"&&(GG.has(n)||B1(n,!1,e),B1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$g]||(t[$g]=!0,B1("selectionchange",!1,t))}}function R$(e,t,n,r){switch(h$(t)){case 1:var i=uG;break;case 4:i=lG;break;default:i=iC}n=i.bind(null,t,n,e),i=void 0,!DS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function z1(e,t,n,r,i){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=bu(u),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}u=u.parentNode}}r=r.return}J4(function(){var f=o,d=eC(n),p=[];e:{var g=k$.get(e);if(g!==void 0){var m=sC,w=e;switch(e){case"keypress":if(gm(n)===0)break e;case"keydown":case"keyup":m=TG;break;case"focusin":w="focus",m=L1;break;case"focusout":w="blur",m=L1;break;case"beforeblur":case"afterblur":m=L1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=w2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kG;break;case S$:case T$:case I$:m=vG;break;case C$:m=RG;break;case"scroll":m=cG;break;case"wheel":m=AG;break;case"copy":case"cut":case"paste":m=mG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=b2}var _=(t&4)!==0,T=!_&&e==="scroll",b=_?g!==null?g+"Capture":null:g;_=[];for(var S=f,C;S!==null;){C=S;var O=C.stateNode;if(C.tag===5&&O!==null&&(C=O,b!==null&&(O=Pd(S,b),O!=null&&_.push(Ud(S,O,C)))),T)break;S=S.return}0<_.length&&(g=new m(g,w,null,n,d),p.push({event:g,listeners:_}))}}if((t&7)===0){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==PS&&(w=n.relatedTarget||n.fromElement)&&(bu(w)||w[ls]))break e;if((m||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=f,w=w?bu(w):null,w!==null&&(T=ul(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=f),m!==w)){if(_=w2,O="onMouseLeave",b="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(_=b2,O="onPointerLeave",b="onPointerEnter",S="pointer"),T=m==null?g:fc(m),C=w==null?g:fc(w),g=new _(O,S+"leave",m,n,d),g.target=T,g.relatedTarget=C,O=null,bu(d)===f&&(_=new _(b,S+"enter",w,n,d),_.target=C,_.relatedTarget=T,O=_),T=O,m&&w)t:{for(_=m,b=w,S=0,C=_;C;C=Kl(C))S++;for(C=0,O=b;O;O=Kl(O))C++;for(;0<S-C;)_=Kl(_),S--;for(;0<C-S;)b=Kl(b),C--;for(;S--;){if(_===b||b!==null&&_===b.alternate)break t;_=Kl(_),b=Kl(b)}_=null}else _=null;m!==null&&P2(p,g,m,_,!1),w!==null&&T!==null&&P2(p,T,w,_,!0)}}e:{if(g=f?fc(f):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var P=$G;else if(T2(g))if(y$)P=BG;else{P=jG;var R=UG}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=VG);if(P&&(P=P(e,f))){m$(p,P,n,d);break e}R&&R(e,g,f),e==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&kS(g,"number",g.value)}switch(R=f?fc(f):window,e){case"focusin":(T2(R)||R.contentEditable==="true")&&(lc=R,US=f,od=null);break;case"focusout":od=US=lc=null;break;case"mousedown":jS=!0;break;case"contextmenu":case"mouseup":case"dragend":jS=!1,R2(p,n,d);break;case"selectionchange":if(WG)break;case"keydown":case"keyup":R2(p,n,d)}var F;if(uC)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else uc?v$(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(p$&&n.locale!=="ko"&&(uc||L!=="onCompositionStart"?L==="onCompositionEnd"&&uc&&(F=d$()):(Js=d,oC="value"in Js?Js.value:Js.textContent,uc=!0)),R=qm(f,L),0<R.length&&(L=new _2(L,e,null,n,d),p.push({event:L,listeners:R}),F?L.data=F:(F=g$(n),F!==null&&(L.data=F)))),(F=OG?DG(e,n):MG(e,n))&&(f=qm(f,"onBeforeInput"),0<f.length&&(d=new _2("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:f}),d.data=F))}x$(p,t)})}function Ud(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pd(e,n),o!=null&&r.unshift(Ud(e,o,i)),o=Pd(e,t),o!=null&&r.push(Ud(e,o,i))),e=e.return}return r}function Kl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function P2(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=Pd(n,o),c!=null&&a.unshift(Ud(n,c,u))):i||(c=Pd(n,o),c!=null&&a.push(Ud(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var QG=/\r\n?/g,YG=/\u0000|\uFFFD/g;function O2(e){return(typeof e=="string"?e:""+e).replace(QG,`
`).replace(YG,"")}function Ug(e,t,n){if(t=O2(t),O2(e)!==t&&n)throw Error(X(425))}function Wm(){}var VS=null,BS=null;function zS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qS=typeof setTimeout=="function"?setTimeout:void 0,XG=typeof clearTimeout=="function"?clearTimeout:void 0,D2=typeof Promise=="function"?Promise:void 0,JG=typeof queueMicrotask=="function"?queueMicrotask:typeof D2<"u"?function(e){return D2.resolve(null).then(e).catch(ZG)}:qS;function ZG(e){setTimeout(function(){throw e})}function q1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Md(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Md(t)}function oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function M2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wf=Math.random().toString(36).slice(2),Io="__reactFiber$"+wf,jd="__reactProps$"+wf,ls="__reactContainer$"+wf,WS="__reactEvents$"+wf,e9="__reactListeners$"+wf,t9="__reactHandles$"+wf;function bu(e){var t=e[Io];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ls]||n[Io]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=M2(e);e!==null;){if(n=e[Io])return n;e=M2(e)}return t}e=n,n=e.parentNode}return null}function kp(e){return e=e[Io]||e[ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function v0(e){return e[jd]||null}var HS=[],hc=-1;function Aa(e){return{current:e}}function xt(e){0>hc||(e.current=HS[hc],HS[hc]=null,hc--)}function bt(e,t){hc++,HS[hc]=e.current,e.current=t}var wa={},cr=Aa(wa),Br=Aa(!1),Vu=wa;function Mc(e,t){var n=e.type.contextTypes;if(!n)return wa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function zr(e){return e=e.childContextTypes,e!=null}function Hm(){xt(Br),xt(cr)}function L2(e,t,n){if(cr.current!==wa)throw Error(X(168));bt(cr,t),bt(Br,n)}function N$(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(X(108,UK(e)||"Unknown",i));return Bt({},n,r)}function Km(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wa,Vu=cr.current,bt(cr,e),bt(Br,Br.current),!0}function F2(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=N$(e,t,Vu),r.__reactInternalMemoizedMergedChildContext=e,xt(Br),xt(cr),bt(cr,e)):xt(Br),bt(Br,n)}var Xo=null,g0=!1,W1=!1;function A$(e){Xo===null?Xo=[e]:Xo.push(e)}function n9(e){g0=!0,A$(e)}function Pa(){if(!W1&&Xo!==null){W1=!0;var e=0,t=dt;try{var n=Xo;for(dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xo=null,g0=!1}catch(i){throw Xo!==null&&(Xo=Xo.slice(e+1)),n$(tC,Pa),i}finally{dt=t,W1=!1}}return null}var dc=[],pc=0,Gm=null,Qm=0,Si=[],Ti=0,Bu=null,Zo=1,es="";function cu(e,t){dc[pc++]=Qm,dc[pc++]=Gm,Gm=e,Qm=t}function P$(e,t,n){Si[Ti++]=Zo,Si[Ti++]=es,Si[Ti++]=Bu,Bu=e;var r=Zo;e=es;var i=32-oo(r)-1;r&=~(1<<i),n+=1;var o=32-oo(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zo=1<<32-oo(t)+i|n<<i|r,es=o+e}else Zo=1<<o|n<<i|r,es=e}function cC(e){e.return!==null&&(cu(e,1),P$(e,1,0))}function fC(e){for(;e===Gm;)Gm=dc[--pc],dc[pc]=null,Qm=dc[--pc],dc[pc]=null;for(;e===Bu;)Bu=Si[--Ti],Si[Ti]=null,es=Si[--Ti],Si[Ti]=null,Zo=Si[--Ti],Si[Ti]=null}var ui=null,ii=null,Dt=!1,no=null;function O$(e,t){var n=Ii(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ui=e,ii=oa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ui=e,ii=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bu!==null?{id:Zo,overflow:es}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ii(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ui=e,ii=null,!0):!1;default:return!1}}function KS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function GS(e){if(Dt){var t=ii;if(t){var n=t;if(!$2(e,t)){if(KS(e))throw Error(X(418));t=oa(n.nextSibling);var r=ui;t&&$2(e,t)?O$(r,n):(e.flags=e.flags&-4097|2,Dt=!1,ui=e)}}else{if(KS(e))throw Error(X(418));e.flags=e.flags&-4097|2,Dt=!1,ui=e}}}function U2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ui=e}function jg(e){if(e!==ui)return!1;if(!Dt)return U2(e),Dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zS(e.type,e.memoizedProps)),t&&(t=ii)){if(KS(e))throw D$(),Error(X(418));for(;t;)O$(e,t),t=oa(t.nextSibling)}if(U2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ii=oa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ii=null}}else ii=ui?oa(e.stateNode.nextSibling):null;return!0}function D$(){for(var e=ii;e;)e=oa(e.nextSibling)}function Lc(){ii=ui=null,Dt=!1}function hC(e){no===null?no=[e]:no.push(e)}var r9=ys.ReactCurrentBatchConfig;function Zi(e,t){if(e&&e.defaultProps){t=Bt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ym=Aa(null),Xm=null,vc=null,dC=null;function pC(){dC=vc=Xm=null}function vC(e){var t=Ym.current;xt(Ym),e._currentValue=t}function QS(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ic(e,t){Xm=e,dC=vc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(jr=!0),e.firstContext=null)}function Mi(e){var t=e._currentValue;if(dC!==e)if(e={context:e,memoizedValue:t,next:null},vc===null){if(Xm===null)throw Error(X(308));vc=e,Xm.dependencies={lanes:0,firstContext:e}}else vc=vc.next=e;return t}var Eu=null;function gC(e){Eu===null?Eu=[e]:Eu.push(e)}function M$(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gC(t)):(n.next=i.next,i.next=n),t.interleaved=n,cs(e,r)}function cs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zs=!1;function mC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(rt&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,cs(e,n)}return i=r.interleaved,i===null?(t.next=t,gC(r)):(t.next=i.next,i.next=t),r.interleaved=t,cs(e,n)}function mm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nC(e,n)}}function j2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jm(e,t,n,r){var i=e.updateQueue;zs=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,a===null?o=f:a.next=f,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==a&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;a=0,d=f=c=null,u=o;do{var g=u.lane,m=u.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:m,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=e,_=u;switch(g=t,m=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){p=w.call(m,p,g);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,g=typeof w=="function"?w.call(m,p,g):w,g==null)break e;p=Bt({},p,g);break e;case 2:zs=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else m={eventTime:m,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=m,c=p):d=d.next=m,a|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);qu|=a,e.lanes=a,e.memoizedState=p}}function V2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var F$=new M4.Component().refs;function YS(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Bt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var m0={isMounted:function(e){return(e=e._reactInternals)?ul(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xr(),i=ua(e),o=is(r,i);o.payload=t,n!=null&&(o.callback=n),t=sa(e,o,i),t!==null&&(so(t,e,i,r),mm(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xr(),i=ua(e),o=is(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=sa(e,o,i),t!==null&&(so(t,e,i,r),mm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xr(),r=ua(e),i=is(n,r);i.tag=2,t!=null&&(i.callback=t),t=sa(e,i,r),t!==null&&(so(t,e,r,n),mm(t,e,r))}};function B2(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Fd(n,r)||!Fd(i,o):!0}function $$(e,t,n){var r=!1,i=wa,o=t.contextType;return typeof o=="object"&&o!==null?o=Mi(o):(i=zr(t)?Vu:cr.current,r=t.contextTypes,o=(r=r!=null)?Mc(e,i):wa),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=m0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function z2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&m0.enqueueReplaceState(t,t.state,null)}function XS(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=F$,mC(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Mi(o):(o=zr(t)?Vu:cr.current,i.context=Mc(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(YS(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&m0.enqueueReplaceState(i,i.state,null),Jm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Rh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var u=i.refs;u===F$&&(u=i.refs={}),a===null?delete u[o]:u[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function Vg(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function q2(e){var t=e._init;return t(e._payload)}function U$(e){function t(b,S){if(e){var C=b.deletions;C===null?(b.deletions=[S],b.flags|=16):C.push(S)}}function n(b,S){if(!e)return null;for(;S!==null;)t(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=la(b,S),b.index=0,b.sibling=null,b}function o(b,S,C){return b.index=C,e?(C=b.alternate,C!==null?(C=C.index,C<S?(b.flags|=2,S):C):(b.flags|=2,S)):(b.flags|=1048576,S)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,S,C,O){return S===null||S.tag!==6?(S=J1(C,b.mode,O),S.return=b,S):(S=i(S,C),S.return=b,S)}function c(b,S,C,O){var P=C.type;return P===ac?d(b,S,C.props.children,O,C.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Bs&&q2(P)===S.type)?(O=i(S,C.props),O.ref=Rh(b,S,C),O.return=b,O):(O=Sm(C.type,C.key,C.props,null,b.mode,O),O.ref=Rh(b,S,C),O.return=b,O)}function f(b,S,C,O){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=Z1(C,b.mode,O),S.return=b,S):(S=i(S,C.children||[]),S.return=b,S)}function d(b,S,C,O,P){return S===null||S.tag!==7?(S=Ou(C,b.mode,O,P),S.return=b,S):(S=i(S,C),S.return=b,S)}function p(b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=J1(""+S,b.mode,C),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ng:return C=Sm(S.type,S.key,S.props,null,b.mode,C),C.ref=Rh(b,null,S),C.return=b,C;case sc:return S=Z1(S,b.mode,C),S.return=b,S;case Bs:var O=S._init;return p(b,O(S._payload),C)}if(qh(S)||Th(S))return S=Ou(S,b.mode,C,null),S.return=b,S;Vg(b,S)}return null}function g(b,S,C,O){var P=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return P!==null?null:u(b,S,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ng:return C.key===P?c(b,S,C,O):null;case sc:return C.key===P?f(b,S,C,O):null;case Bs:return P=C._init,g(b,S,P(C._payload),O)}if(qh(C)||Th(C))return P!==null?null:d(b,S,C,O,null);Vg(b,C)}return null}function m(b,S,C,O,P){if(typeof O=="string"&&O!==""||typeof O=="number")return b=b.get(C)||null,u(S,b,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ng:return b=b.get(O.key===null?C:O.key)||null,c(S,b,O,P);case sc:return b=b.get(O.key===null?C:O.key)||null,f(S,b,O,P);case Bs:var R=O._init;return m(b,S,C,R(O._payload),P)}if(qh(O)||Th(O))return b=b.get(C)||null,d(S,b,O,P,null);Vg(S,O)}return null}function w(b,S,C,O){for(var P=null,R=null,F=S,L=S=0,$=null;F!==null&&L<C.length;L++){F.index>L?($=F,F=null):$=F.sibling;var k=g(b,F,C[L],O);if(k===null){F===null&&(F=$);break}e&&F&&k.alternate===null&&t(b,F),S=o(k,S,L),R===null?P=k:R.sibling=k,R=k,F=$}if(L===C.length)return n(b,F),Dt&&cu(b,L),P;if(F===null){for(;L<C.length;L++)F=p(b,C[L],O),F!==null&&(S=o(F,S,L),R===null?P=F:R.sibling=F,R=F);return Dt&&cu(b,L),P}for(F=r(b,F);L<C.length;L++)$=m(F,b,L,C[L],O),$!==null&&(e&&$.alternate!==null&&F.delete($.key===null?L:$.key),S=o($,S,L),R===null?P=$:R.sibling=$,R=$);return e&&F.forEach(function(H){return t(b,H)}),Dt&&cu(b,L),P}function _(b,S,C,O){var P=Th(C);if(typeof P!="function")throw Error(X(150));if(C=P.call(C),C==null)throw Error(X(151));for(var R=P=null,F=S,L=S=0,$=null,k=C.next();F!==null&&!k.done;L++,k=C.next()){F.index>L?($=F,F=null):$=F.sibling;var H=g(b,F,k.value,O);if(H===null){F===null&&(F=$);break}e&&F&&H.alternate===null&&t(b,F),S=o(H,S,L),R===null?P=H:R.sibling=H,R=H,F=$}if(k.done)return n(b,F),Dt&&cu(b,L),P;if(F===null){for(;!k.done;L++,k=C.next())k=p(b,k.value,O),k!==null&&(S=o(k,S,L),R===null?P=k:R.sibling=k,R=k);return Dt&&cu(b,L),P}for(F=r(b,F);!k.done;L++,k=C.next())k=m(F,b,L,k.value,O),k!==null&&(e&&k.alternate!==null&&F.delete(k.key===null?L:k.key),S=o(k,S,L),R===null?P=k:R.sibling=k,R=k);return e&&F.forEach(function(J){return t(b,J)}),Dt&&cu(b,L),P}function T(b,S,C,O){if(typeof C=="object"&&C!==null&&C.type===ac&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ng:e:{for(var P=C.key,R=S;R!==null;){if(R.key===P){if(P=C.type,P===ac){if(R.tag===7){n(b,R.sibling),S=i(R,C.props.children),S.return=b,b=S;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Bs&&q2(P)===R.type){n(b,R.sibling),S=i(R,C.props),S.ref=Rh(b,R,C),S.return=b,b=S;break e}n(b,R);break}else t(b,R);R=R.sibling}C.type===ac?(S=Ou(C.props.children,b.mode,O,C.key),S.return=b,b=S):(O=Sm(C.type,C.key,C.props,null,b.mode,O),O.ref=Rh(b,S,C),O.return=b,b=O)}return a(b);case sc:e:{for(R=C.key;S!==null;){if(S.key===R)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(b,S.sibling),S=i(S,C.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else t(b,S);S=S.sibling}S=Z1(C,b.mode,O),S.return=b,b=S}return a(b);case Bs:return R=C._init,T(b,S,R(C._payload),O)}if(qh(C))return w(b,S,C,O);if(Th(C))return _(b,S,C,O);Vg(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(b,S.sibling),S=i(S,C),S.return=b,b=S):(n(b,S),S=J1(C,b.mode,O),S.return=b,b=S),a(b)):n(b,S)}return T}var Fc=U$(!0),j$=U$(!1),xp={},xo=Aa(xp),Vd=Aa(xp),Bd=Aa(xp);function Su(e){if(e===xp)throw Error(X(174));return e}function yC(e,t){switch(bt(Bd,t),bt(Vd,e),bt(xo,xp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:RS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=RS(t,e)}xt(xo),bt(xo,t)}function $c(){xt(xo),xt(Vd),xt(Bd)}function V$(e){Su(Bd.current);var t=Su(xo.current),n=RS(t,e.type);t!==n&&(bt(Vd,e),bt(xo,n))}function wC(e){Vd.current===e&&(xt(xo),xt(Vd))}var $t=Aa(0);function Zm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var H1=[];function _C(){for(var e=0;e<H1.length;e++)H1[e]._workInProgressVersionPrimary=null;H1.length=0}var ym=ys.ReactCurrentDispatcher,K1=ys.ReactCurrentBatchConfig,zu=0,Vt=null,pn=null,Tn=null,ey=!1,sd=!1,zd=0,i9=0;function Zn(){throw Error(X(321))}function bC(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lo(e[n],t[n]))return!1;return!0}function EC(e,t,n,r,i,o){if(zu=o,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ym.current=e===null||e.memoizedState===null?u9:l9,e=n(r,i),sd){o=0;do{if(sd=!1,zd=0,25<=o)throw Error(X(301));o+=1,Tn=pn=null,t.updateQueue=null,ym.current=c9,e=n(r,i)}while(sd)}if(ym.current=ty,t=pn!==null&&pn.next!==null,zu=0,Tn=pn=Vt=null,ey=!1,t)throw Error(X(300));return e}function SC(){var e=zd!==0;return zd=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Vt.memoizedState=Tn=e:Tn=Tn.next=e,Tn}function Li(){if(pn===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=pn.next;var t=Tn===null?Vt.memoizedState:Tn.next;if(t!==null)Tn=t,pn=e;else{if(e===null)throw Error(X(310));pn=e,e={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},Tn===null?Vt.memoizedState=Tn=e:Tn=Tn.next=e}return Tn}function qd(e,t){return typeof t=="function"?t(e):t}function G1(e){var t=Li(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=pn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=a=null,c=null,f=o;do{var d=f.lane;if((zu&d)===d)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var p={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=p,a=r):c=c.next=p,Vt.lanes|=d,qu|=d}f=f.next}while(f!==null&&f!==o);c===null?a=r:c.next=u,lo(r,t.memoizedState)||(jr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Vt.lanes|=o,qu|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Q1(e){var t=Li(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);lo(o,t.memoizedState)||(jr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function B$(){}function z$(e,t){var n=Vt,r=Li(),i=t(),o=!lo(r.memoizedState,i);if(o&&(r.memoizedState=i,jr=!0),r=r.queue,TC(H$.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,Wd(9,W$.bind(null,n,r,i,t),void 0,null),Nn===null)throw Error(X(349));(zu&30)!==0||q$(n,t,i)}return i}function q$(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function W$(e,t,n,r){t.value=n,t.getSnapshot=r,K$(t)&&G$(e)}function H$(e,t,n){return n(function(){K$(t)&&G$(e)})}function K$(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lo(e,n)}catch{return!0}}function G$(e){var t=cs(e,1);t!==null&&so(t,e,1,-1)}function W2(e){var t=So();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:e},t.queue=e,e=e.dispatch=a9.bind(null,Vt,e),[t.memoizedState,e]}function Wd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Q$(){return Li().memoizedState}function wm(e,t,n,r){var i=So();Vt.flags|=e,i.memoizedState=Wd(1|t,n,void 0,r===void 0?null:r)}function y0(e,t,n,r){var i=Li();r=r===void 0?null:r;var o=void 0;if(pn!==null){var a=pn.memoizedState;if(o=a.destroy,r!==null&&bC(r,a.deps)){i.memoizedState=Wd(t,n,o,r);return}}Vt.flags|=e,i.memoizedState=Wd(1|t,n,o,r)}function H2(e,t){return wm(8390656,8,e,t)}function TC(e,t){return y0(2048,8,e,t)}function Y$(e,t){return y0(4,2,e,t)}function X$(e,t){return y0(4,4,e,t)}function J$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Z$(e,t,n){return n=n!=null?n.concat([e]):null,y0(4,4,J$.bind(null,t,e),n)}function IC(){}function e3(e,t){var n=Li();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bC(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function t3(e,t){var n=Li();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bC(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function n3(e,t,n){return(zu&21)===0?(e.baseState&&(e.baseState=!1,jr=!0),e.memoizedState=n):(lo(n,t)||(n=o$(),Vt.lanes|=n,qu|=n,e.baseState=!0),t)}function o9(e,t){var n=dt;dt=n!==0&&4>n?n:4,e(!0);var r=K1.transition;K1.transition={};try{e(!1),t()}finally{dt=n,K1.transition=r}}function r3(){return Li().memoizedState}function s9(e,t,n){var r=ua(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i3(e))o3(t,n);else if(n=M$(e,t,n,r),n!==null){var i=xr();so(n,e,r,i),s3(n,t,r)}}function a9(e,t,n){var r=ua(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i3(e))o3(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,lo(u,a)){var c=t.interleaved;c===null?(i.next=i,gC(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=M$(e,t,i,r),n!==null&&(i=xr(),so(n,e,r,i),s3(n,t,r))}}function i3(e){var t=e.alternate;return e===Vt||t!==null&&t===Vt}function o3(e,t){sd=ey=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function s3(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nC(e,n)}}var ty={readContext:Mi,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},u9={readContext:Mi,useCallback:function(e,t){return So().memoizedState=[e,t===void 0?null:t],e},useContext:Mi,useEffect:H2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wm(4194308,4,J$.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wm(4194308,4,e,t)},useInsertionEffect:function(e,t){return wm(4,2,e,t)},useMemo:function(e,t){var n=So();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=s9.bind(null,Vt,e),[r.memoizedState,e]},useRef:function(e){var t=So();return e={current:e},t.memoizedState=e},useState:W2,useDebugValue:IC,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=W2(!1),t=e[0];return e=o9.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vt,i=So();if(Dt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),Nn===null)throw Error(X(349));(zu&30)!==0||q$(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,H2(H$.bind(null,r,o,e),[e]),r.flags|=2048,Wd(9,W$.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Nn.identifierPrefix;if(Dt){var n=es,r=Zo;n=(r&~(1<<32-oo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=i9++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},l9={readContext:Mi,useCallback:e3,useContext:Mi,useEffect:TC,useImperativeHandle:Z$,useInsertionEffect:Y$,useLayoutEffect:X$,useMemo:t3,useReducer:G1,useRef:Q$,useState:function(){return G1(qd)},useDebugValue:IC,useDeferredValue:function(e){var t=Li();return n3(t,pn.memoizedState,e)},useTransition:function(){var e=G1(qd)[0],t=Li().memoizedState;return[e,t]},useMutableSource:B$,useSyncExternalStore:z$,useId:r3,unstable_isNewReconciler:!1},c9={readContext:Mi,useCallback:e3,useContext:Mi,useEffect:TC,useImperativeHandle:Z$,useInsertionEffect:Y$,useLayoutEffect:X$,useMemo:t3,useReducer:Q1,useRef:Q$,useState:function(){return Q1(qd)},useDebugValue:IC,useDeferredValue:function(e){var t=Li();return pn===null?t.memoizedState=e:n3(t,pn.memoizedState,e)},useTransition:function(){var e=Q1(qd)[0],t=Li().memoizedState;return[e,t]},useMutableSource:B$,useSyncExternalStore:z$,useId:r3,unstable_isNewReconciler:!1};function Uc(e,t){try{var n="",r=t;do n+=$K(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Y1(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function JS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var f9=typeof WeakMap=="function"?WeakMap:Map;function a3(e,t,n){n=is(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ry||(ry=!0,uT=r),JS(e,t)},n}function u3(e,t,n){n=is(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){JS(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){JS(e,t),typeof r!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function K2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new f9;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=I9.bind(null,e,t,n),t.then(e,e))}function G2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Q2(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=is(-1,1),t.tag=2,sa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var h9=ys.ReactCurrentOwner,jr=!1;function wr(e,t,n,r){t.child=e===null?j$(t,null,n,r):Fc(t,e.child,n,r)}function Y2(e,t,n,r,i){n=n.render;var o=t.ref;return Ic(t,i),r=EC(e,t,n,r,o,i),n=SC(),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fs(e,t,i)):(Dt&&n&&cC(t),t.flags|=1,wr(e,t,r,i),t.child)}function X2(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!OC(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,l3(e,t,o,r,i)):(e=Sm(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)===0){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fd,n(a,r)&&e.ref===t.ref)return fs(e,t,i)}return t.flags|=1,e=la(o,r),e.ref=t.ref,e.return=t,t.child=e}function l3(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Fd(o,r)&&e.ref===t.ref)if(jr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(jr=!0);else return t.lanes=e.lanes,fs(e,t,i)}return ZS(e,t,n,r,i)}function c3(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(mc,ei),ei|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bt(mc,ei),ei|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,bt(mc,ei),ei|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,bt(mc,ei),ei|=r;return wr(e,t,i,n),t.child}function f3(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ZS(e,t,n,r,i){var o=zr(n)?Vu:cr.current;return o=Mc(t,o),Ic(t,i),n=EC(e,t,n,r,o,i),r=SC(),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fs(e,t,i)):(Dt&&r&&cC(t),t.flags|=1,wr(e,t,n,i),t.child)}function J2(e,t,n,r,i){if(zr(n)){var o=!0;Km(t)}else o=!1;if(Ic(t,i),t.stateNode===null)_m(e,t),$$(t,n,r),XS(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Mi(f):(f=zr(n)?Vu:cr.current,f=Mc(t,f));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==f)&&z2(t,a,r,f),zs=!1;var g=t.memoizedState;a.state=g,Jm(t,r,a,i),c=t.memoizedState,u!==r||g!==c||Br.current||zs?(typeof d=="function"&&(YS(t,n,d,r),c=t.memoizedState),(u=zs||B2(t,n,u,r,g,c,f))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=f,r=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,L$(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:Zi(t.type,u),a.props=f,p=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mi(c):(c=zr(n)?Vu:cr.current,c=Mc(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==p||g!==c)&&z2(t,a,r,c),zs=!1,g=t.memoizedState,a.state=g,Jm(t,r,a,i);var w=t.memoizedState;u!==p||g!==w||Br.current||zs?(typeof m=="function"&&(YS(t,n,m,r),w=t.memoizedState),(f=zs||B2(t,n,f,r,g,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return eT(e,t,n,r,o,i)}function eT(e,t,n,r,i,o){f3(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&F2(t,n,!1),fs(e,t,o);r=t.stateNode,h9.current=t;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Fc(t,e.child,null,o),t.child=Fc(t,null,u,o)):wr(e,t,u,o),t.memoizedState=r.state,i&&F2(t,n,!0),t.child}function h3(e){var t=e.stateNode;t.pendingContext?L2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&L2(e,t.context,!1),yC(e,t.containerInfo)}function Z2(e,t,n,r,i){return Lc(),hC(i),t.flags|=256,wr(e,t,n,r),t.child}var tT={dehydrated:null,treeContext:null,retryLane:0};function nT(e){return{baseLanes:e,cachePool:null,transitions:null}}function d3(e,t,n){var r=t.pendingProps,i=$t.current,o=!1,a=(t.flags&128)!==0,u;if((u=a)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),bt($t,i&1),e===null)return GS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=a):o=b0(a,r,0,null),e=Ou(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=nT(n),t.memoizedState=tT,e):CC(t,a));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return d9(e,t,a,r,u,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,u=i.sibling;var c={mode:"hidden",children:r.children};return(a&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=la(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=la(u,o):(o=Ou(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?nT(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=tT,r}return o=e.child,e=o.sibling,r=la(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function CC(e,t){return t=b0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bg(e,t,n,r){return r!==null&&hC(r),Fc(t,e.child,null,n),e=CC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d9(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Y1(Error(X(422))),Bg(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=b0({mode:"visible",children:r.children},i,0,null),o=Ou(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&Fc(t,e.child,null,a),t.child.memoizedState=nT(a),t.memoizedState=tT,o);if((t.mode&1)===0)return Bg(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(X(419)),r=Y1(o,r,void 0),Bg(e,t,a,r)}if(u=(a&e.childLanes)!==0,jr||u){if(r=Nn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|a))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,cs(e,i),so(r,e,i,-1))}return PC(),r=Y1(Error(X(421))),Bg(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=C9.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ii=oa(i.nextSibling),ui=t,Dt=!0,no=null,e!==null&&(Si[Ti++]=Zo,Si[Ti++]=es,Si[Ti++]=Bu,Zo=e.id,es=e.overflow,Bu=t),t=CC(t,r.children),t.flags|=4096,t)}function eD(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),QS(e.return,t,n)}function X1(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function p3(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wr(e,t,r.children,n),r=$t.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eD(e,n,t);else if(e.tag===19)eD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bt($t,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),X1(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}X1(t,!0,n,null,o);break;case"together":X1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _m(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qu|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=la(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=la(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function p9(e,t,n){switch(t.tag){case 3:h3(t),Lc();break;case 5:V$(t);break;case 1:zr(t.type)&&Km(t);break;case 4:yC(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bt(Ym,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(bt($t,$t.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?d3(e,t,n):(bt($t,$t.current&1),e=fs(e,t,n),e!==null?e.sibling:null);bt($t,$t.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return p3(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt($t,$t.current),r)break;return null;case 22:case 23:return t.lanes=0,c3(e,t,n)}return fs(e,t,n)}var v3,rT,g3,m3;v3=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rT=function(){};g3=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Su(xo.current);var o=null;switch(n){case"input":i=IS(e,i),r=IS(e,r),o=[];break;case"select":i=Bt({},i,{value:void 0}),r=Bt({},r,{value:void 0}),o=[];break;case"textarea":i=xS(e,i),r=xS(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wm)}NS(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Nd.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Nd.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Ct("scroll",e),o||u===c||(o=[])):(o=o||[]).push(f,c))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};m3=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nh(e,t){if(!Dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function v9(e,t,n){var r=t.pendingProps;switch(fC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return zr(t.type)&&Hm(),er(t),null;case 3:return r=t.stateNode,$c(),xt(Br),xt(cr),_C(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,no!==null&&(fT(no),no=null))),rT(e,t),er(t),null;case 5:wC(t);var i=Su(Bd.current);if(n=t.type,e!==null&&t.stateNode!=null)g3(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return er(t),null}if(e=Su(xo.current),jg(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Io]=t,r[jd]=o,e=(t.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(i=0;i<Hh.length;i++)Ct(Hh[i],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":l2(r,o),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ct("invalid",r);break;case"textarea":f2(r,o),Ct("invalid",r)}NS(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Ug(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Ug(r.textContent,u,e),i=["children",""+u]):Nd.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Ct("scroll",r)}switch(n){case"input":Ag(r),c2(r,o,!0);break;case"textarea":Ag(r),h2(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Io]=t,e[jd]=r,v3(e,t,!1,!1),t.stateNode=e;e:{switch(a=AS(n,r),n){case"dialog":Ct("cancel",e),Ct("close",e),i=r;break;case"iframe":case"object":case"embed":Ct("load",e),i=r;break;case"video":case"audio":for(i=0;i<Hh.length;i++)Ct(Hh[i],e);i=r;break;case"source":Ct("error",e),i=r;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),i=r;break;case"details":Ct("toggle",e),i=r;break;case"input":l2(e,r),i=IS(e,r),Ct("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Bt({},r,{value:void 0}),Ct("invalid",e);break;case"textarea":f2(e,r),i=xS(e,r),Ct("invalid",e);break;default:i=r}NS(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?K4(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&W4(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ad(e,c):typeof c=="number"&&Ad(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nd.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ct("scroll",e):c!=null&&YI(e,o,c,a))}switch(n){case"input":Ag(e),c2(e,r,!1);break;case"textarea":Ag(e),h2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ya(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?bc(e,!!r.multiple,o,!1):r.defaultValue!=null&&bc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)m3(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=Su(Bd.current),Su(xo.current),jg(t)){if(r=t.stateNode,n=t.memoizedProps,r[Io]=t,(o=r.nodeValue!==n)&&(e=ui,e!==null))switch(e.tag){case 3:Ug(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ug(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Io]=t,t.stateNode=r}return er(t),null;case 13:if(xt($t),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dt&&ii!==null&&(t.mode&1)!==0&&(t.flags&128)===0)D$(),Lc(),t.flags|=98560,o=!1;else if(o=jg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(X(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[Io]=t}else Lc(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;er(t),o=!1}else no!==null&&(fT(no),no=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||($t.current&1)!==0?gn===0&&(gn=3):PC())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return $c(),rT(e,t),e===null&&$d(t.stateNode.containerInfo),er(t),null;case 10:return vC(t.type._context),er(t),null;case 17:return zr(t.type)&&Hm(),er(t),null;case 19:if(xt($t),o=t.memoizedState,o===null)return er(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Nh(o,!1);else{if(gn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=Zm(e),a!==null){for(t.flags|=128,Nh(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bt($t,$t.current&1|2),t.child}e=e.sibling}o.tail!==null&&Yt()>jc&&(t.flags|=128,r=!0,Nh(o,!1),t.lanes=4194304)}else{if(!r)if(e=Zm(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Dt)return er(t),null}else 2*Yt()-o.renderingStartTime>jc&&n!==1073741824&&(t.flags|=128,r=!0,Nh(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,n=$t.current,bt($t,r?n&1|2:n&1),t):(er(t),null);case 22:case 23:return AC(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(ei&1073741824)!==0&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function g9(e,t){switch(fC(t),t.tag){case 1:return zr(t.type)&&Hm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $c(),xt(Br),xt(cr),_C(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return wC(t),null;case 13:if(xt($t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Lc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xt($t),null;case 4:return $c(),null;case 10:return vC(t.type._context),null;case 22:case 23:return AC(),null;case 24:return null;default:return null}}var zg=!1,ir=!1,m9=typeof WeakSet=="function"?WeakSet:Set,ue=null;function gc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(e,t,r)}else n.current=null}function iT(e,t,n){try{n()}catch(r){Wt(e,t,r)}}var tD=!1;function y9(e,t){if(VS=Bm,e=b$(),lC(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,f=0,d=0,p=e,g=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(u=a+i),p!==o||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(m=p.firstChild)!==null;)g=p,p=m;for(;;){if(p===e)break t;if(g===n&&++f===i&&(u=a),g===o&&++d===r&&(c=a),(m=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=m}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(BS={focusedElem:e,selectionRange:n},Bm=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var w=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,T=w.memoizedState,b=t.stateNode,S=b.getSnapshotBeforeUpdate(t.elementType===t.type?_:Zi(t.type,_),T);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(O){Wt(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return w=tD,tD=!1,w}function ad(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&iT(t,n,o)}i=i.next}while(i!==r)}}function w0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oT(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function y3(e){var t=e.alternate;t!==null&&(e.alternate=null,y3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Io],delete t[jd],delete t[WS],delete t[e9],delete t[t9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w3(e){return e.tag===5||e.tag===3||e.tag===4}function nD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wm));else if(r!==4&&(e=e.child,e!==null))for(sT(e,t,n),e=e.sibling;e!==null;)sT(e,t,n),e=e.sibling}function aT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(aT(e,t,n),e=e.sibling;e!==null;)aT(e,t,n),e=e.sibling}var Un=null,to=!1;function Os(e,t,n){for(n=n.child;n!==null;)_3(e,t,n),n=n.sibling}function _3(e,t,n){if(ko&&typeof ko.onCommitFiberUnmount=="function")try{ko.onCommitFiberUnmount(f0,n)}catch{}switch(n.tag){case 5:ir||gc(n,t);case 6:var r=Un,i=to;Un=null,Os(e,t,n),Un=r,to=i,Un!==null&&(to?(e=Un,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(to?(e=Un,n=n.stateNode,e.nodeType===8?q1(e.parentNode,n):e.nodeType===1&&q1(e,n),Md(e)):q1(Un,n.stateNode));break;case 4:r=Un,i=to,Un=n.stateNode.containerInfo,to=!0,Os(e,t,n),Un=r,to=i;break;case 0:case 11:case 14:case 15:if(!ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&((o&2)!==0||(o&4)!==0)&&iT(n,t,a),i=i.next}while(i!==r)}Os(e,t,n);break;case 1:if(!ir&&(gc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Wt(n,t,u)}Os(e,t,n);break;case 21:Os(e,t,n);break;case 22:n.mode&1?(ir=(r=ir)||n.memoizedState!==null,Os(e,t,n),ir=r):Os(e,t,n);break;default:Os(e,t,n)}}function rD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new m9),t.forEach(function(r){var i=k9.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,u=a;e:for(;u!==null;){switch(u.tag){case 5:Un=u.stateNode,to=!1;break e;case 3:Un=u.stateNode.containerInfo,to=!0;break e;case 4:Un=u.stateNode.containerInfo,to=!0;break e}u=u.return}if(Un===null)throw Error(X(160));_3(o,a,i),Un=null,to=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){Wt(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)b3(t,e),t=t.sibling}function b3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gi(t,e),Eo(e),r&4){try{ad(3,e,e.return),w0(3,e)}catch(_){Wt(e,e.return,_)}try{ad(5,e,e.return)}catch(_){Wt(e,e.return,_)}}break;case 1:Gi(t,e),Eo(e),r&512&&n!==null&&gc(n,n.return);break;case 5:if(Gi(t,e),Eo(e),r&512&&n!==null&&gc(n,n.return),e.flags&32){var i=e.stateNode;try{Ad(i,"")}catch(_){Wt(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&B4(i,o),AS(u,a);var f=AS(u,o);for(a=0;a<c.length;a+=2){var d=c[a],p=c[a+1];d==="style"?K4(i,p):d==="dangerouslySetInnerHTML"?W4(i,p):d==="children"?Ad(i,p):YI(i,d,p,f)}switch(u){case"input":CS(i,o);break;case"textarea":z4(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?bc(i,!!o.multiple,m,!1):g!==!!o.multiple&&(o.defaultValue!=null?bc(i,!!o.multiple,o.defaultValue,!0):bc(i,!!o.multiple,o.multiple?[]:"",!1))}i[jd]=o}catch(_){Wt(e,e.return,_)}}break;case 6:if(Gi(t,e),Eo(e),r&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Wt(e,e.return,_)}}break;case 3:if(Gi(t,e),Eo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Md(t.containerInfo)}catch(_){Wt(e,e.return,_)}break;case 4:Gi(t,e),Eo(e);break;case 13:Gi(t,e),Eo(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(RC=Yt())),r&4&&rD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ir=(f=ir)||d,Gi(t,e),ir=f):Gi(t,e),Eo(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!d&&(e.mode&1)!==0)for(ue=e,d=e.child;d!==null;){for(p=ue=d;ue!==null;){switch(g=ue,m=g.child,g.tag){case 0:case 11:case 14:case 15:ad(4,g,g.return);break;case 1:gc(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(_){Wt(r,n,_)}}break;case 5:gc(g,g.return);break;case 22:if(g.memoizedState!==null){oD(p);continue}}m!==null?(m.return=g,ue=m):oD(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=H4("display",a))}catch(_){Wt(e,e.return,_)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(_){Wt(e,e.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Gi(t,e),Eo(e),r&4&&rD(e);break;case 21:break;default:Gi(t,e),Eo(e)}}function Eo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(w3(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ad(i,""),r.flags&=-33);var o=nD(e);aT(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=nD(e);sT(e,u,a);break;default:throw Error(X(161))}}catch(c){Wt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w9(e,t,n){ue=e,E3(e)}function E3(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||zg;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||ir;u=zg;var f=ir;if(zg=a,(ir=c)&&!f)for(ue=i;ue!==null;)a=ue,c=a.child,a.tag===22&&a.memoizedState!==null?sD(i):c!==null?(c.return=a,ue=c):sD(i);for(;o!==null;)ue=o,E3(o),o=o.sibling;ue=i,zg=u,ir=f}iD(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,ue=o):iD(e)}}function iD(e){for(;ue!==null;){var t=ue;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ir||w0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ir)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&V2(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}V2(t,a,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Md(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}ir||t.flags&512&&oT(t)}catch(g){Wt(t,t.return,g)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function oD(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function sD(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{w0(4,t)}catch(c){Wt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Wt(t,i,c)}}var o=t.return;try{oT(t)}catch(c){Wt(t,o,c)}break;case 5:var a=t.return;try{oT(t)}catch(c){Wt(t,a,c)}}}catch(c){Wt(t,t.return,c)}if(t===e){ue=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ue=u;break}ue=t.return}}var _9=Math.ceil,ny=ys.ReactCurrentDispatcher,kC=ys.ReactCurrentOwner,Ai=ys.ReactCurrentBatchConfig,rt=0,Nn=null,sn=null,qn=0,ei=0,mc=Aa(0),gn=0,Hd=null,qu=0,_0=0,xC=0,ud=null,Ur=null,RC=0,jc=1/0,Qo=null,ry=!1,uT=null,aa=null,qg=!1,Zs=null,iy=0,ld=0,lT=null,bm=-1,Em=0;function xr(){return(rt&6)!==0?Yt():bm!==-1?bm:bm=Yt()}function ua(e){return(e.mode&1)===0?1:(rt&2)!==0&&qn!==0?qn&-qn:r9.transition!==null?(Em===0&&(Em=o$()),Em):(e=dt,e!==0||(e=window.event,e=e===void 0?16:h$(e.type)),e)}function so(e,t,n,r){if(50<ld)throw ld=0,lT=null,Error(X(185));Ip(e,n,r),((rt&2)===0||e!==Nn)&&(e===Nn&&((rt&2)===0&&(_0|=n),gn===4&&Hs(e,qn)),qr(e,r),n===1&&rt===0&&(t.mode&1)===0&&(jc=Yt()+500,g0&&Pa()))}function qr(e,t){var n=e.callbackNode;rG(e,t);var r=Vm(e,e===Nn?qn:0);if(r===0)n!==null&&v2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&v2(n),t===1)e.tag===0?n9(aD.bind(null,e)):A$(aD.bind(null,e)),JG(function(){(rt&6)===0&&Pa()}),n=null;else{switch(s$(r)){case 1:n=tC;break;case 4:n=r$;break;case 16:n=jm;break;case 536870912:n=i$;break;default:n=jm}n=N3(n,S3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function S3(e,t){if(bm=-1,Em=0,(rt&6)!==0)throw Error(X(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=Vm(e,e===Nn?qn:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=oy(e,r);else{t=r;var i=rt;rt|=2;var o=I3();(Nn!==e||qn!==t)&&(Qo=null,jc=Yt()+500,Pu(e,t));do try{S9();break}catch(u){T3(e,u)}while(1);pC(),ny.current=o,rt=i,sn!==null?t=0:(Nn=null,qn=0,t=gn)}if(t!==0){if(t===2&&(i=LS(e),i!==0&&(r=i,t=cT(e,i))),t===1)throw n=Hd,Pu(e,0),Hs(e,r),qr(e,Yt()),n;if(t===6)Hs(e,r);else{if(i=e.current.alternate,(r&30)===0&&!b9(i)&&(t=oy(e,r),t===2&&(o=LS(e),o!==0&&(r=o,t=cT(e,o))),t===1))throw n=Hd,Pu(e,0),Hs(e,r),qr(e,Yt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:fu(e,Ur,Qo);break;case 3:if(Hs(e,r),(r&130023424)===r&&(t=RC+500-Yt(),10<t)){if(Vm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){xr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qS(fu.bind(null,e,Ur,Qo),t);break}fu(e,Ur,Qo);break;case 4:if(Hs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-oo(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_9(r/1960))-r,10<r){e.timeoutHandle=qS(fu.bind(null,e,Ur,Qo),r);break}fu(e,Ur,Qo);break;case 5:fu(e,Ur,Qo);break;default:throw Error(X(329))}}}return qr(e,Yt()),e.callbackNode===n?S3.bind(null,e):null}function cT(e,t){var n=ud;return e.current.memoizedState.isDehydrated&&(Pu(e,t).flags|=256),e=oy(e,t),e!==2&&(t=Ur,Ur=n,t!==null&&fT(t)),e}function fT(e){Ur===null?Ur=e:Ur.push.apply(Ur,e)}function b9(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lo(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hs(e,t){for(t&=~xC,t&=~_0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-oo(t),r=1<<n;e[n]=-1,t&=~r}}function aD(e){if((rt&6)!==0)throw Error(X(327));Cc();var t=Vm(e,0);if((t&1)===0)return qr(e,Yt()),null;var n=oy(e,t);if(e.tag!==0&&n===2){var r=LS(e);r!==0&&(t=r,n=cT(e,r))}if(n===1)throw n=Hd,Pu(e,0),Hs(e,t),qr(e,Yt()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fu(e,Ur,Qo),qr(e,Yt()),null}function NC(e,t){var n=rt;rt|=1;try{return e(t)}finally{rt=n,rt===0&&(jc=Yt()+500,g0&&Pa())}}function Wu(e){Zs!==null&&Zs.tag===0&&(rt&6)===0&&Cc();var t=rt;rt|=1;var n=Ai.transition,r=dt;try{if(Ai.transition=null,dt=1,e)return e()}finally{dt=r,Ai.transition=n,rt=t,(rt&6)===0&&Pa()}}function AC(){ei=mc.current,xt(mc)}function Pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,XG(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(fC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hm();break;case 3:$c(),xt(Br),xt(cr),_C();break;case 5:wC(r);break;case 4:$c();break;case 13:xt($t);break;case 19:xt($t);break;case 10:vC(r.type._context);break;case 22:case 23:AC()}n=n.return}if(Nn=e,sn=e=la(e.current,null),qn=ei=t,gn=0,Hd=null,xC=_0=qu=0,Ur=ud=null,Eu!==null){for(t=0;t<Eu.length;t++)if(n=Eu[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Eu=null}return e}function T3(e,t){do{var n=sn;try{if(pC(),ym.current=ty,ey){for(var r=Vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ey=!1}if(zu=0,Tn=pn=Vt=null,sd=!1,zd=0,kC.current=null,n===null||n.return===null){gn=1,Hd=t,sn=null;break}e:{var o=e,a=n.return,u=n,c=t;if(t=qn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,d=u,p=d.tag;if((d.mode&1)===0&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=G2(a);if(m!==null){m.flags&=-257,Q2(m,a,u,o,t),m.mode&1&&K2(o,f,t),t=m,c=f;var w=t.updateQueue;if(w===null){var _=new Set;_.add(c),t.updateQueue=_}else w.add(c);break e}else{if((t&1)===0){K2(o,f,t),PC();break e}c=Error(X(426))}}else if(Dt&&u.mode&1){var T=G2(a);if(T!==null){(T.flags&65536)===0&&(T.flags|=256),Q2(T,a,u,o,t),hC(Uc(c,u));break e}}o=c=Uc(c,u),gn!==4&&(gn=2),ud===null?ud=[o]:ud.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=a3(o,c,t);j2(o,b);break e;case 1:u=c;var S=o.type,C=o.stateNode;if((o.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(aa===null||!aa.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=u3(o,u,t);j2(o,O);break e}}o=o.return}while(o!==null)}k3(n)}catch(P){t=P,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(1)}function I3(){var e=ny.current;return ny.current=ty,e===null?ty:e}function PC(){(gn===0||gn===3||gn===2)&&(gn=4),Nn===null||(qu&268435455)===0&&(_0&268435455)===0||Hs(Nn,qn)}function oy(e,t){var n=rt;rt|=2;var r=I3();(Nn!==e||qn!==t)&&(Qo=null,Pu(e,t));do try{E9();break}catch(i){T3(e,i)}while(1);if(pC(),rt=n,ny.current=r,sn!==null)throw Error(X(261));return Nn=null,qn=0,gn}function E9(){for(;sn!==null;)C3(sn)}function S9(){for(;sn!==null&&!GK();)C3(sn)}function C3(e){var t=R3(e.alternate,e,ei);e.memoizedProps=e.pendingProps,t===null?k3(e):sn=t,kC.current=null}function k3(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=v9(n,t,ei),n!==null){sn=n;return}}else{if(n=g9(n,t),n!==null){n.flags&=32767,sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gn=6,sn=null;return}}if(t=t.sibling,t!==null){sn=t;return}sn=t=e}while(t!==null);gn===0&&(gn=5)}function fu(e,t,n){var r=dt,i=Ai.transition;try{Ai.transition=null,dt=1,T9(e,t,n,r)}finally{Ai.transition=i,dt=r}return null}function T9(e,t,n,r){do Cc();while(Zs!==null);if((rt&6)!==0)throw Error(X(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(iG(e,o),e===Nn&&(sn=Nn=null,qn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||qg||(qg=!0,N3(jm,function(){return Cc(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Ai.transition,Ai.transition=null;var a=dt;dt=1;var u=rt;rt|=4,kC.current=null,y9(e,n),b3(n,e),qG(BS),Bm=!!VS,BS=VS=null,e.current=n,w9(n),QK(),rt=u,dt=a,Ai.transition=o}else e.current=n;if(qg&&(qg=!1,Zs=e,iy=i),o=e.pendingLanes,o===0&&(aa=null),JK(n.stateNode),qr(e,Yt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ry)throw ry=!1,e=uT,uT=null,e;return(iy&1)!==0&&e.tag!==0&&Cc(),o=e.pendingLanes,(o&1)!==0?e===lT?ld++:(ld=0,lT=e):ld=0,Pa(),null}function Cc(){if(Zs!==null){var e=s$(iy),t=Ai.transition,n=dt;try{if(Ai.transition=null,dt=16>e?16:e,Zs===null)var r=!1;else{if(e=Zs,Zs=null,iy=0,(rt&6)!==0)throw Error(X(331));var i=rt;for(rt|=4,ue=e.current;ue!==null;){var o=ue,a=o.child;if((ue.flags&16)!==0){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(ue=f;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:ad(8,d,o)}var p=d.child;if(p!==null)p.return=d,ue=p;else for(;ue!==null;){d=ue;var g=d.sibling,m=d.return;if(y3(d),d===f){ue=null;break}if(g!==null){g.return=m,ue=g;break}ue=m}}}var w=o.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var T=_.sibling;_.sibling=null,_=T}while(_!==null)}}ue=o}}if((o.subtreeFlags&2064)!==0&&a!==null)a.return=o,ue=a;else e:for(;ue!==null;){if(o=ue,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:ad(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ue=b;break e}ue=o.return}}var S=e.current;for(ue=S;ue!==null;){a=ue;var C=a.child;if((a.subtreeFlags&2064)!==0&&C!==null)C.return=a,ue=C;else e:for(a=S;ue!==null;){if(u=ue,(u.flags&2048)!==0)try{switch(u.tag){case 0:case 11:case 15:w0(9,u)}}catch(P){Wt(u,u.return,P)}if(u===a){ue=null;break e}var O=u.sibling;if(O!==null){O.return=u.return,ue=O;break e}ue=u.return}}if(rt=i,Pa(),ko&&typeof ko.onPostCommitFiberRoot=="function")try{ko.onPostCommitFiberRoot(f0,e)}catch{}r=!0}return r}finally{dt=n,Ai.transition=t}}return!1}function uD(e,t,n){t=Uc(n,t),t=a3(e,t,1),e=sa(e,t,1),t=xr(),e!==null&&(Ip(e,1,t),qr(e,t))}function Wt(e,t,n){if(e.tag===3)uD(e,e,n);else for(;t!==null;){if(t.tag===3){uD(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(aa===null||!aa.has(r))){e=Uc(n,e),e=u3(t,e,1),t=sa(t,e,1),e=xr(),t!==null&&(Ip(t,1,e),qr(t,e));break}}t=t.return}}function I9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xr(),e.pingedLanes|=e.suspendedLanes&n,Nn===e&&(qn&n)===n&&(gn===4||gn===3&&(qn&130023424)===qn&&500>Yt()-RC?Pu(e,0):xC|=n),qr(e,t)}function x3(e,t){t===0&&((e.mode&1)===0?t=1:(t=Dg,Dg<<=1,(Dg&130023424)===0&&(Dg=4194304)));var n=xr();e=cs(e,t),e!==null&&(Ip(e,t,n),qr(e,n))}function C9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x3(e,n)}function k9(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),x3(e,n)}var R3;R3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)jr=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return jr=!1,p9(e,t,n);jr=(e.flags&131072)!==0}else jr=!1,Dt&&(t.flags&1048576)!==0&&P$(t,Qm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_m(e,t),e=t.pendingProps;var i=Mc(t,cr.current);Ic(t,n),i=EC(null,t,r,e,i,n);var o=SC();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zr(r)?(o=!0,Km(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mC(t),i.updater=m0,t.stateNode=i,i._reactInternals=t,XS(t,r,e,n),t=eT(null,t,r,!0,o,n)):(t.tag=0,Dt&&o&&cC(t),wr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_m(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=R9(r),e=Zi(r,e),i){case 0:t=ZS(null,t,r,e,n);break e;case 1:t=J2(null,t,r,e,n);break e;case 11:t=Y2(null,t,r,e,n);break e;case 14:t=X2(null,t,r,Zi(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),ZS(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),J2(e,t,r,i,n);case 3:e:{if(h3(t),e===null)throw Error(X(387));r=t.pendingProps,o=t.memoizedState,i=o.element,L$(e,t),Jm(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Uc(Error(X(423)),t),t=Z2(e,t,r,n,i);break e}else if(r!==i){i=Uc(Error(X(424)),t),t=Z2(e,t,r,n,i);break e}else for(ii=oa(t.stateNode.containerInfo.firstChild),ui=t,Dt=!0,no=null,n=j$(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lc(),r===i){t=fs(e,t,n);break e}wr(e,t,r,n)}t=t.child}return t;case 5:return V$(t),e===null&&GS(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,zS(r,i)?a=null:o!==null&&zS(r,o)&&(t.flags|=32),f3(e,t),wr(e,t,a,n),t.child;case 6:return e===null&&GS(t),null;case 13:return d3(e,t,n);case 4:return yC(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fc(t,null,r,n):wr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),Y2(e,t,r,i,n);case 7:return wr(e,t,t.pendingProps,n),t.child;case 8:return wr(e,t,t.pendingProps.children,n),t.child;case 12:return wr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,bt(Ym,r._currentValue),r._currentValue=a,o!==null)if(lo(o.value,a)){if(o.children===i.children&&!Br.current){t=fs(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=is(-1,n&-n),c.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),QS(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(X(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),QS(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}wr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ic(t,n),i=Mi(i),r=r(i),t.flags|=1,wr(e,t,r,n),t.child;case 14:return r=t.type,i=Zi(r,t.pendingProps),i=Zi(r.type,i),X2(e,t,r,i,n);case 15:return l3(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),_m(e,t),t.tag=1,zr(r)?(e=!0,Km(t)):e=!1,Ic(t,n),$$(t,r,i),XS(t,r,i,n),eT(null,t,r,!0,e,n);case 19:return p3(e,t,n);case 22:return c3(e,t,n)}throw Error(X(156,t.tag))};function N3(e,t){return n$(e,t)}function x9(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(e,t,n,r){return new x9(e,t,n,r)}function OC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R9(e){if(typeof e=="function")return OC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===JI)return 11;if(e===ZI)return 14}return 2}function la(e,t){var n=e.alternate;return n===null?(n=Ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sm(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")OC(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ac:return Ou(n.children,i,o,t);case XI:a=8,i|=8;break;case bS:return e=Ii(12,n,t,i|2),e.elementType=bS,e.lanes=o,e;case ES:return e=Ii(13,n,t,i),e.elementType=ES,e.lanes=o,e;case SS:return e=Ii(19,n,t,i),e.elementType=SS,e.lanes=o,e;case U4:return b0(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F4:a=10;break e;case $4:a=9;break e;case JI:a=11;break e;case ZI:a=14;break e;case Bs:a=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Ii(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ou(e,t,n,r){return e=Ii(7,e,r,t),e.lanes=n,e}function b0(e,t,n,r){return e=Ii(22,e,r,t),e.elementType=U4,e.lanes=n,e.stateNode={isHidden:!1},e}function J1(e,t,n){return e=Ii(6,e,null,t),e.lanes=n,e}function Z1(e,t,n){return t=Ii(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N9(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O1(0),this.expirationTimes=O1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function DC(e,t,n,r,i,o,a,u,c){return e=new N9(e,t,n,u,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ii(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mC(o),e}function A9(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function A3(e){if(!e)return wa;e=e._reactInternals;e:{if(ul(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(zr(n))return N$(e,n,t)}return t}function P3(e,t,n,r,i,o,a,u,c){return e=DC(n,r,!0,e,i,o,a,u,c),e.context=A3(null),n=e.current,r=xr(),i=ua(n),o=is(r,i),o.callback=t!=null?t:null,sa(n,o,i),e.current.lanes=i,Ip(e,i,r),qr(e,r),e}function E0(e,t,n,r){var i=t.current,o=xr(),a=ua(i);return n=A3(n),t.context===null?t.context=n:t.pendingContext=n,t=is(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sa(i,t,a),e!==null&&(so(e,i,a,o),mm(e,i,a)),a}function sy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function MC(e,t){lD(e,t),(e=e.alternate)&&lD(e,t)}function P9(){return null}var O3=typeof reportError=="function"?reportError:function(e){console.error(e)};function LC(e){this._internalRoot=e}S0.prototype.render=LC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));E0(e,t,null,null)};S0.prototype.unmount=LC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wu(function(){E0(null,e,null,null)}),t[ls]=null}};function S0(e){this._internalRoot=e}S0.prototype.unstable_scheduleHydration=function(e){if(e){var t=l$();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ws.length&&t!==0&&t<Ws[n].priority;n++);Ws.splice(n,0,e),n===0&&f$(e)}};function FC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function T0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cD(){}function O9(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=sy(a);o.call(f)}}var a=P3(t,r,e,0,null,!1,!1,"",cD);return e._reactRootContainer=a,e[ls]=a.current,$d(e.nodeType===8?e.parentNode:e),Wu(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=sy(c);u.call(f)}}var c=DC(e,0,!1,null,null,!1,!1,"",cD);return e._reactRootContainer=c,e[ls]=c.current,$d(e.nodeType===8?e.parentNode:e),Wu(function(){E0(t,c,n,r)}),c}function I0(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var u=i;i=function(){var c=sy(a);u.call(c)}}E0(t,a,e,i)}else a=O9(n,t,e,i,r);return sy(a)}a$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wh(t.pendingLanes);n!==0&&(nC(t,n|1),qr(t,Yt()),(rt&6)===0&&(jc=Yt()+500,Pa()))}break;case 13:Wu(function(){var r=cs(e,1);if(r!==null){var i=xr();so(r,e,1,i)}}),MC(e,1)}};rC=function(e){if(e.tag===13){var t=cs(e,134217728);if(t!==null){var n=xr();so(t,e,134217728,n)}MC(e,134217728)}};u$=function(e){if(e.tag===13){var t=ua(e),n=cs(e,t);if(n!==null){var r=xr();so(n,e,t,r)}MC(e,t)}};l$=function(){return dt};c$=function(e,t){var n=dt;try{return dt=e,t()}finally{dt=n}};OS=function(e,t,n){switch(t){case"input":if(CS(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=v0(r);if(!i)throw Error(X(90));V4(r),CS(r,i)}}}break;case"textarea":z4(e,n);break;case"select":t=n.value,t!=null&&bc(e,!!n.multiple,t,!1)}};Y4=NC;X4=Wu;var D9={usingClientEntryPoint:!1,Events:[kp,fc,v0,G4,Q4,NC]},Ah={findFiberByHostInstance:bu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M9={bundleType:Ah.bundleType,version:Ah.version,rendererPackageName:Ah.rendererPackageName,rendererConfig:Ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=e$(e),e===null?null:e.stateNode},findFiberByHostInstance:Ah.findFiberByHostInstance||P9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wg.isDisabled&&Wg.supportsFiber)try{f0=Wg.inject(M9),ko=Wg}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D9;vi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FC(t))throw Error(X(200));return A9(e,t,null,n)};vi.createRoot=function(e,t){if(!FC(e))throw Error(X(299));var n=!1,r="",i=O3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=DC(e,1,!1,null,null,n,!1,r,i),e[ls]=t.current,$d(e.nodeType===8?e.parentNode:e),new LC(t)};vi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=e$(t),e=e===null?null:e.stateNode,e};vi.flushSync=function(e){return Wu(e)};vi.hydrate=function(e,t,n){if(!T0(t))throw Error(X(200));return I0(null,e,t,!0,n)};vi.hydrateRoot=function(e,t,n){if(!FC(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=O3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=P3(t,null,e,1,n!=null?n:null,i,!1,o,a),e[ls]=t.current,$d(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new S0(t)};vi.render=function(e,t,n){if(!T0(t))throw Error(X(200));return I0(null,e,t,!1,n)};vi.unmountComponentAtNode=function(e){if(!T0(e))throw Error(X(40));return e._reactRootContainer?(Wu(function(){I0(null,null,e,!1,function(){e._reactRootContainer=null,e[ls]=null})}),!0):!1};vi.unstable_batchedUpdates=NC;vi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!T0(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return I0(e,t,n,!1,r)};vi.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=vi})(pi);const Hg=I4(pi.exports);var fD=pi.exports;wS.createRoot=fD.createRoot,wS.hydrateRoot=fD.hydrateRoot;var hT={exports:{}},L9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F9=L9,$9=F9;function D3(){}function M3(){}M3.resetWarningCache=D3;var U9=function(){function e(r,i,o,a,u,c){if(c!==$9){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:M3,resetWarningCache:D3};return n.PropTypes=n,n};hT.exports=U9();var _a=Re.createContext(null);function j9(e){e()}var L3=j9,V9=function(t){return L3=t},B9=function(){return L3};function z9(){var e=B9(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,a=n={callback:i,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!o||t===null||(o=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var hD={notify:function(){},get:function(){return[]}};function F3(e,t){var n,r=hD;function i(p){return c(),r.subscribe(p)}function o(){r.notify()}function a(){d.onStateChange&&d.onStateChange()}function u(){return Boolean(n)}function c(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=z9())}function f(){n&&(n(),n=void 0,r.clear(),r=hD)}var d={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:u,trySubscribe:c,tryUnsubscribe:f,getListeners:function(){return r}};return d}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.exports.useLayoutEffect:x.exports.useEffect,C0={exports:{}},k0={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q9=x.exports,W9=Symbol.for("react.element"),H9=Symbol.for("react.fragment"),K9=Object.prototype.hasOwnProperty,G9=q9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q9={key:!0,ref:!0,__self:!0,__source:!0};function $3(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)K9.call(t,r)&&!Q9.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:W9,type:e,key:o,ref:a,props:i,_owner:G9.current}}k0.Fragment=H9;k0.jsx=$3;k0.jsxs=$3;(function(e){e.exports=k0})(C0);const ba=C0.exports.Fragment,N=C0.exports.jsx,re=C0.exports.jsxs;function Y9(e){var t=e.store,n=e.context,r=e.children,i=x.exports.useMemo(function(){var u=F3(t);return{store:t,subscription:u}},[t]),o=x.exports.useMemo(function(){return t.getState()},[t]);dT(function(){var u=i.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==t.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[i,o]);var a=n||_a;return N(a.Provider,{value:i,children:r})}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}function Oa(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var U3={exports:{}},pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=typeof Symbol=="function"&&Symbol.for,$C=On?Symbol.for("react.element"):60103,UC=On?Symbol.for("react.portal"):60106,x0=On?Symbol.for("react.fragment"):60107,R0=On?Symbol.for("react.strict_mode"):60108,N0=On?Symbol.for("react.profiler"):60114,A0=On?Symbol.for("react.provider"):60109,P0=On?Symbol.for("react.context"):60110,jC=On?Symbol.for("react.async_mode"):60111,O0=On?Symbol.for("react.concurrent_mode"):60111,D0=On?Symbol.for("react.forward_ref"):60112,M0=On?Symbol.for("react.suspense"):60113,X9=On?Symbol.for("react.suspense_list"):60120,L0=On?Symbol.for("react.memo"):60115,F0=On?Symbol.for("react.lazy"):60116,J9=On?Symbol.for("react.block"):60121,Z9=On?Symbol.for("react.fundamental"):60117,e7=On?Symbol.for("react.responder"):60118,t7=On?Symbol.for("react.scope"):60119;function mi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $C:switch(e=e.type,e){case jC:case O0:case x0:case N0:case R0:case M0:return e;default:switch(e=e&&e.$$typeof,e){case P0:case D0:case F0:case L0:case A0:return e;default:return t}}case UC:return t}}}function j3(e){return mi(e)===O0}pt.AsyncMode=jC;pt.ConcurrentMode=O0;pt.ContextConsumer=P0;pt.ContextProvider=A0;pt.Element=$C;pt.ForwardRef=D0;pt.Fragment=x0;pt.Lazy=F0;pt.Memo=L0;pt.Portal=UC;pt.Profiler=N0;pt.StrictMode=R0;pt.Suspense=M0;pt.isAsyncMode=function(e){return j3(e)||mi(e)===jC};pt.isConcurrentMode=j3;pt.isContextConsumer=function(e){return mi(e)===P0};pt.isContextProvider=function(e){return mi(e)===A0};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$C};pt.isForwardRef=function(e){return mi(e)===D0};pt.isFragment=function(e){return mi(e)===x0};pt.isLazy=function(e){return mi(e)===F0};pt.isMemo=function(e){return mi(e)===L0};pt.isPortal=function(e){return mi(e)===UC};pt.isProfiler=function(e){return mi(e)===N0};pt.isStrictMode=function(e){return mi(e)===R0};pt.isSuspense=function(e){return mi(e)===M0};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===x0||e===O0||e===N0||e===R0||e===M0||e===X9||typeof e=="object"&&e!==null&&(e.$$typeof===F0||e.$$typeof===L0||e.$$typeof===A0||e.$$typeof===P0||e.$$typeof===D0||e.$$typeof===Z9||e.$$typeof===e7||e.$$typeof===t7||e.$$typeof===J9)};pt.typeOf=mi;(function(e){e.exports=pt})(U3);var VC=U3.exports,n7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i7={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BC={};BC[VC.ForwardRef]=i7;BC[VC.Memo]=V3;function dD(e){return VC.isMemo(e)?V3:BC[e.$$typeof]||n7}var o7=Object.defineProperty,s7=Object.getOwnPropertyNames,pD=Object.getOwnPropertySymbols,a7=Object.getOwnPropertyDescriptor,u7=Object.getPrototypeOf,vD=Object.prototype;function B3(e,t,n){if(typeof t!="string"){if(vD){var r=u7(t);r&&r!==vD&&B3(e,r,n)}var i=s7(t);pD&&(i=i.concat(pD(t)));for(var o=dD(e),a=dD(t),u=0;u<i.length;++u){var c=i[u];if(!r7[c]&&!(n&&n[c])&&!(a&&a[c])&&!(o&&o[c])){var f=a7(t,c);try{o7(e,c,f)}catch{}}}}return e}var l7=B3,c7={exports:{}},yt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=60103,U0=60106,Rp=60107,Np=60108,Ap=60114,Pp=60109,Op=60110,Dp=60112,Mp=60113,zC=60120,Lp=60115,Fp=60116,z3=60121,q3=60122,W3=60117,H3=60129,K3=60131;if(typeof Symbol=="function"&&Symbol.for){var Ln=Symbol.for;$0=Ln("react.element"),U0=Ln("react.portal"),Rp=Ln("react.fragment"),Np=Ln("react.strict_mode"),Ap=Ln("react.profiler"),Pp=Ln("react.provider"),Op=Ln("react.context"),Dp=Ln("react.forward_ref"),Mp=Ln("react.suspense"),zC=Ln("react.suspense_list"),Lp=Ln("react.memo"),Fp=Ln("react.lazy"),z3=Ln("react.block"),q3=Ln("react.server.block"),W3=Ln("react.fundamental"),H3=Ln("react.debug_trace_mode"),K3=Ln("react.legacy_hidden")}function fo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $0:switch(e=e.type,e){case Rp:case Ap:case Np:case Mp:case zC:return e;default:switch(e=e&&e.$$typeof,e){case Op:case Dp:case Fp:case Lp:case Pp:return e;default:return t}}case U0:return t}}}var f7=Pp,h7=$0,d7=Dp,p7=Rp,v7=Fp,g7=Lp,m7=U0,y7=Ap,w7=Np,_7=Mp;yt.ContextConsumer=Op;yt.ContextProvider=f7;yt.Element=h7;yt.ForwardRef=d7;yt.Fragment=p7;yt.Lazy=v7;yt.Memo=g7;yt.Portal=m7;yt.Profiler=y7;yt.StrictMode=w7;yt.Suspense=_7;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(e){return fo(e)===Op};yt.isContextProvider=function(e){return fo(e)===Pp};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$0};yt.isForwardRef=function(e){return fo(e)===Dp};yt.isFragment=function(e){return fo(e)===Rp};yt.isLazy=function(e){return fo(e)===Fp};yt.isMemo=function(e){return fo(e)===Lp};yt.isPortal=function(e){return fo(e)===U0};yt.isProfiler=function(e){return fo(e)===Ap};yt.isStrictMode=function(e){return fo(e)===Np};yt.isSuspense=function(e){return fo(e)===Mp};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rp||e===Ap||e===H3||e===Np||e===Mp||e===zC||e===K3||typeof e=="object"&&e!==null&&(e.$$typeof===Fp||e.$$typeof===Lp||e.$$typeof===Pp||e.$$typeof===Op||e.$$typeof===Dp||e.$$typeof===W3||e.$$typeof===z3||e[0]===q3)};yt.typeOf=fo;(function(e){e.exports=yt})(c7);function G3(){var e=x.exports.useContext(_a);return e}function Q3(e){e===void 0&&(e=_a);var t=e===_a?G3:function(){return x.exports.useContext(e)};return function(){var r=t(),i=r.store;return i}}var b7=Q3();function E7(e){e===void 0&&(e=_a);var t=e===_a?b7:Q3(e);return function(){var r=t();return r.dispatch}}var qC=E7(),S7=function(t,n){return t===n};function T7(e,t,n,r){var i=x.exports.useReducer(function(w){return w+1},0),o=i[1],a=x.exports.useMemo(function(){return F3(n,r)},[n,r]),u=x.exports.useRef(),c=x.exports.useRef(),f=x.exports.useRef(),d=x.exports.useRef(),p=n.getState(),g;try{if(e!==c.current||p!==f.current||u.current){var m=e(p);d.current===void 0||!t(m,d.current)?g=m:g=d.current}else g=d.current}catch(w){throw u.current&&(w.message+=`
The error may be correlated with this previous error:
`+u.current.stack+`

`),w}return dT(function(){c.current=e,f.current=p,d.current=g,u.current=void 0}),dT(function(){function w(){try{var _=n.getState();if(_===f.current)return;var T=c.current(_);if(t(T,d.current))return;d.current=T,f.current=_}catch(b){u.current=b}o()}return a.onStateChange=w,a.trySubscribe(),w(),function(){return a.tryUnsubscribe()}},[n,a]),g}function I7(e){e===void 0&&(e=_a);var t=e===_a?G3:function(){return x.exports.useContext(e)};return function(r,i){i===void 0&&(i=S7);var o=t(),a=o.store,u=o.subscription,c=T7(r,i,a,u);return x.exports.useDebugValue(c),c}}var Da=I7();V9(pi.exports.unstable_batchedUpdates);function pT(e,t){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pT(e,t)}function Gr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pT(e,t)}function Kg(e){return e.charAt(0)==="/"}function eE(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function C7(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&Kg(e),o=t&&Kg(t),a=i||o;if(e&&Kg(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var u;if(r.length){var c=r[r.length-1];u=c==="."||c===".."||c===""}else u=!1;for(var f=0,d=r.length;d>=0;d--){var p=r[d];p==="."?eE(r,d):p===".."?(eE(r,d),f++):f&&(eE(r,d),f--)}if(!a)for(;f--;f)r.unshift("..");a&&r[0]!==""&&(!r[0]||!Kg(r[0]))&&r.unshift("");var g=r.join("/");return u&&g.substr(-1)!=="/"&&(g+="/"),g}function gD(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function Tm(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(i,o){return Tm(i,t[o])});if(typeof e=="object"||typeof t=="object"){var n=gD(e),r=gD(t);return n!==e||r!==t?Tm(n,r):Object.keys(Object.assign({},e,t)).every(function(i){return Tm(e[i],t[i])})}return!1}var k7=!0,tE="Invariant failed";function Ma(e,t){if(!e){if(k7)throw new Error(tE);var n=typeof t=="function"?t():t,r=n?"".concat(tE,": ").concat(n):tE;throw new Error(r)}}function cd(e){return e.charAt(0)==="/"?e:"/"+e}function mD(e){return e.charAt(0)==="/"?e.substr(1):e}function x7(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function Y3(e,t){return x7(e,t)?e.substr(t.length):e}function X3(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function R7(e){var t=e||"/",n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return o!==-1&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function $r(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Ir(e,t,n,r){var i;typeof e=="string"?(i=R7(e),i.state=t):(i=ee({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=C7(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function N7(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Tm(e.state,t.state)}function WC(){var e=null;function t(a){return e=a,function(){e===a&&(e=null)}}function n(a,u,c,f){if(e!=null){var d=typeof e=="function"?e(a,u):e;typeof d=="string"?typeof c=="function"?c(d,f):f(!0):f(d!==!1)}else f(!0)}var r=[];function i(a){var u=!0;function c(){u&&a.apply(void 0,arguments)}return r.push(c),function(){u=!1,r=r.filter(function(f){return f!==c})}}function o(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];r.forEach(function(f){return f.apply(void 0,u)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var J3=!!(typeof window<"u"&&window.document&&window.document.createElement);function Z3(e,t){t(window.confirm(e))}function A7(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function P7(){return window.navigator.userAgent.indexOf("Trident")===-1}function O7(){return window.navigator.userAgent.indexOf("Firefox")===-1}function D7(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var yD="popstate",wD="hashchange";function _D(){try{return window.history.state||{}}catch{return{}}}function M7(e){e===void 0&&(e={}),J3||Ma(!1);var t=window.history,n=A7(),r=!P7(),i=e,o=i.forceRefresh,a=o===void 0?!1:o,u=i.getUserConfirmation,c=u===void 0?Z3:u,f=i.keyLength,d=f===void 0?6:f,p=e.basename?X3(cd(e.basename)):"";function g(V){var j=V||{},G=j.key,Q=j.state,de=window.location,ce=de.pathname,Ie=de.search,ve=de.hash,Me=ce+Ie+ve;return p&&(Me=Y3(Me,p)),Ir(Me,Q,G)}function m(){return Math.random().toString(36).substr(2,d)}var w=WC();function _(V){ee(U,V),U.length=t.length,w.notifyListeners(U.location,U.action)}function T(V){D7(V)||C(g(V.state))}function b(){C(g(_D()))}var S=!1;function C(V){if(S)S=!1,_();else{var j="POP";w.confirmTransitionTo(V,j,c,function(G){G?_({action:j,location:V}):O(V)})}}function O(V){var j=U.location,G=R.indexOf(j.key);G===-1&&(G=0);var Q=R.indexOf(V.key);Q===-1&&(Q=0);var de=G-Q;de&&(S=!0,k(de))}var P=g(_D()),R=[P.key];function F(V){return p+$r(V)}function L(V,j){var G="PUSH",Q=Ir(V,j,m(),U.location);w.confirmTransitionTo(Q,G,c,function(de){if(!!de){var ce=F(Q),Ie=Q.key,ve=Q.state;if(n)if(t.pushState({key:Ie,state:ve},null,ce),a)window.location.href=ce;else{var Me=R.indexOf(U.location.key),ye=R.slice(0,Me+1);ye.push(Q.key),R=ye,_({action:G,location:Q})}else window.location.href=ce}})}function $(V,j){var G="REPLACE",Q=Ir(V,j,m(),U.location);w.confirmTransitionTo(Q,G,c,function(de){if(!!de){var ce=F(Q),Ie=Q.key,ve=Q.state;if(n)if(t.replaceState({key:Ie,state:ve},null,ce),a)window.location.replace(ce);else{var Me=R.indexOf(U.location.key);Me!==-1&&(R[Me]=Q.key),_({action:G,location:Q})}else window.location.replace(ce)}})}function k(V){t.go(V)}function H(){k(-1)}function J(){k(1)}var ae=0;function ne(V){ae+=V,ae===1&&V===1?(window.addEventListener(yD,T),r&&window.addEventListener(wD,b)):ae===0&&(window.removeEventListener(yD,T),r&&window.removeEventListener(wD,b))}var se=!1;function pe(V){V===void 0&&(V=!1);var j=w.setPrompt(V);return se||(ne(1),se=!0),function(){return se&&(se=!1,ne(-1)),j()}}function Te(V){var j=w.appendListener(V);return ne(1),function(){ne(-1),j()}}var U={length:t.length,action:"POP",location:P,createHref:F,push:L,replace:$,go:k,goBack:H,goForward:J,block:pe,listen:Te};return U}var bD="hashchange",L7={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+mD(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:mD,decodePath:cd},slash:{encodePath:cd,decodePath:cd}};function eU(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Ph(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function F7(e){window.location.hash=e}function nE(e){window.location.replace(eU(window.location.href)+"#"+e)}function $7(e){e===void 0&&(e={}),J3||Ma(!1);var t=window.history;O7();var n=e,r=n.getUserConfirmation,i=r===void 0?Z3:r,o=n.hashType,a=o===void 0?"slash":o,u=e.basename?X3(cd(e.basename)):"",c=L7[a],f=c.encodePath,d=c.decodePath;function p(){var j=d(Ph());return u&&(j=Y3(j,u)),Ir(j)}var g=WC();function m(j){ee(V,j),V.length=t.length,g.notifyListeners(V.location,V.action)}var w=!1,_=null;function T(j,G){return j.pathname===G.pathname&&j.search===G.search&&j.hash===G.hash}function b(){var j=Ph(),G=f(j);if(j!==G)nE(G);else{var Q=p(),de=V.location;if(!w&&T(de,Q)||_===$r(Q))return;_=null,S(Q)}}function S(j){if(w)w=!1,m();else{var G="POP";g.confirmTransitionTo(j,G,i,function(Q){Q?m({action:G,location:j}):C(j)})}}function C(j){var G=V.location,Q=F.lastIndexOf($r(G));Q===-1&&(Q=0);var de=F.lastIndexOf($r(j));de===-1&&(de=0);var ce=Q-de;ce&&(w=!0,H(ce))}var O=Ph(),P=f(O);O!==P&&nE(P);var R=p(),F=[$r(R)];function L(j){var G=document.querySelector("base"),Q="";return G&&G.getAttribute("href")&&(Q=eU(window.location.href)),Q+"#"+f(u+$r(j))}function $(j,G){var Q="PUSH",de=Ir(j,void 0,void 0,V.location);g.confirmTransitionTo(de,Q,i,function(ce){if(!!ce){var Ie=$r(de),ve=f(u+Ie),Me=Ph()!==ve;if(Me){_=Ie,F7(ve);var ye=F.lastIndexOf($r(V.location)),Rt=F.slice(0,ye+1);Rt.push(Ie),F=Rt,m({action:Q,location:de})}else m()}})}function k(j,G){var Q="REPLACE",de=Ir(j,void 0,void 0,V.location);g.confirmTransitionTo(de,Q,i,function(ce){if(!!ce){var Ie=$r(de),ve=f(u+Ie),Me=Ph()!==ve;Me&&(_=Ie,nE(ve));var ye=F.indexOf($r(V.location));ye!==-1&&(F[ye]=Ie),m({action:Q,location:de})}})}function H(j){t.go(j)}function J(){H(-1)}function ae(){H(1)}var ne=0;function se(j){ne+=j,ne===1&&j===1?window.addEventListener(bD,b):ne===0&&window.removeEventListener(bD,b)}var pe=!1;function Te(j){j===void 0&&(j=!1);var G=g.setPrompt(j);return pe||(se(1),pe=!0),function(){return pe&&(pe=!1,se(-1)),G()}}function U(j){var G=g.appendListener(j);return se(1),function(){se(-1),G()}}var V={length:t.length,action:"POP",location:R,createHref:L,push:$,replace:k,go:H,goBack:J,goForward:ae,block:Te,listen:U};return V}function ED(e,t,n){return Math.min(Math.max(e,t),n)}function U7(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=r===void 0?["/"]:r,o=t.initialIndex,a=o===void 0?0:o,u=t.keyLength,c=u===void 0?6:u,f=WC();function d(L){ee(F,L),F.length=F.entries.length,f.notifyListeners(F.location,F.action)}function p(){return Math.random().toString(36).substr(2,c)}var g=ED(a,0,i.length-1),m=i.map(function(L){return typeof L=="string"?Ir(L,void 0,p()):Ir(L,void 0,L.key||p())}),w=$r;function _(L,$){var k="PUSH",H=Ir(L,$,p(),F.location);f.confirmTransitionTo(H,k,n,function(J){if(!!J){var ae=F.index,ne=ae+1,se=F.entries.slice(0);se.length>ne?se.splice(ne,se.length-ne,H):se.push(H),d({action:k,location:H,index:ne,entries:se})}})}function T(L,$){var k="REPLACE",H=Ir(L,$,p(),F.location);f.confirmTransitionTo(H,k,n,function(J){!J||(F.entries[F.index]=H,d({action:k,location:H}))})}function b(L){var $=ED(F.index+L,0,F.entries.length-1),k="POP",H=F.entries[$];f.confirmTransitionTo(H,k,n,function(J){J?d({action:k,location:H,index:$}):d()})}function S(){b(-1)}function C(){b(1)}function O(L){var $=F.index+L;return $>=0&&$<F.entries.length}function P(L){return L===void 0&&(L=!1),f.setPrompt(L)}function R(L){return f.appendListener(L)}var F={length:m.length,action:"POP",location:m[g],index:g,entries:m,createHref:w,push:_,replace:T,go:b,goBack:S,goForward:C,canGo:O,block:P,listen:R};return F}var ll={exports:{}},j7=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},ay=j7;ll.exports=rU;ll.exports.parse=HC;ll.exports.compile=B7;ll.exports.tokensToFunction=tU;ll.exports.tokensToRegExp=nU;var V7=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function HC(e,t){for(var n=[],r=0,i=0,o="",a=t&&t.delimiter||"/",u;(u=V7.exec(e))!=null;){var c=u[0],f=u[1],d=u.index;if(o+=e.slice(i,d),i=d+c.length,f){o+=f[1];continue}var p=e[i],g=u[2],m=u[3],w=u[4],_=u[5],T=u[6],b=u[7];o&&(n.push(o),o="");var S=g!=null&&p!=null&&p!==g,C=T==="+"||T==="*",O=T==="?"||T==="*",P=u[2]||a,R=w||_;n.push({name:m||r++,prefix:g||"",delimiter:P,optional:O,repeat:C,partial:S,asterisk:!!b,pattern:R?W7(R):b?".*":"[^"+Im(P)+"]+?"})}return i<e.length&&(o+=e.substr(i)),o&&n.push(o),n}function B7(e,t){return tU(HC(e,t),t)}function z7(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function q7(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function tU(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",GC(t)));return function(i,o){for(var a="",u=i||{},c=o||{},f=c.pretty?z7:encodeURIComponent,d=0;d<e.length;d++){var p=e[d];if(typeof p=="string"){a+=p;continue}var g=u[p.name],m;if(g==null)if(p.optional){p.partial&&(a+=p.prefix);continue}else throw new TypeError('Expected "'+p.name+'" to be defined');if(ay(g)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(g)+"`");if(g.length===0){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var w=0;w<g.length;w++){if(m=f(g[w]),!n[d].test(m))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(m)+"`");a+=(w===0?p.prefix:p.delimiter)+m}continue}if(m=p.asterisk?q7(g):f(g),!n[d].test(m))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+m+'"');a+=p.prefix+m}return a}}function Im(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function W7(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function KC(e,t){return e.keys=t,e}function GC(e){return e&&e.sensitive?"":"i"}function H7(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return KC(e,t)}function K7(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(rU(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",GC(n));return KC(o,t)}function G7(e,t,n){return nU(HC(e,n),t,n)}function nU(e,t,n){ay(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,o="",a=0;a<e.length;a++){var u=e[a];if(typeof u=="string")o+=Im(u);else{var c=Im(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+c+f+")*"),u.optional?u.partial?f=c+"("+f+")?":f="(?:"+c+"("+f+"))?":f=c+"("+f+")",o+=f}}var d=Im(n.delimiter||"/"),p=o.slice(-d.length)===d;return r||(o=(p?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),i?o+="$":o+=r&&p?"":"(?="+d+"|$)",KC(new RegExp("^"+o,GC(n)),t)}function rU(e,t,n){return ay(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?H7(e,t):ay(e)?K7(e,t,n):G7(e,t,n)}var rE=1073741823,SD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function Q7(){var e="__global_unique_id__";return SD[e]=(SD[e]||0)+1}function Y7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function X7(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(i){return i!==r})},get:function(){return e},set:function(r,i){e=r,t.forEach(function(o){return o(e,i)})}}}function J7(e){return Array.isArray(e)?e[0]:e}function Z7(e,t){var n,r,i="__create-react-context-"+Q7()+"__",o=function(u){Gr(c,u);function c(){for(var d,p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];return d=u.call.apply(u,[this].concat(g))||this,d.emitter=X7(d.props.value),d}var f=c.prototype;return f.getChildContext=function(){var p;return p={},p[i]=this.emitter,p},f.componentWillReceiveProps=function(p){if(this.props.value!==p.value){var g=this.props.value,m=p.value,w;Y7(g,m)?w=0:(w=typeof t=="function"?t(g,m):rE,w|=0,w!==0&&this.emitter.set(p.value,w))}},f.render=function(){return this.props.children},c}(Re.Component);o.childContextTypes=(n={},n[i]=hT.exports.object.isRequired,n);var a=function(u){Gr(c,u);function c(){for(var d,p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];return d=u.call.apply(u,[this].concat(g))||this,d.observedBits=void 0,d.state={value:d.getValue()},d.onUpdate=function(w,_){var T=d.observedBits|0;(T&_)!==0&&d.setState({value:d.getValue()})},d}var f=c.prototype;return f.componentWillReceiveProps=function(p){var g=p.observedBits;this.observedBits=g==null?rE:g},f.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var p=this.props.observedBits;this.observedBits=p==null?rE:p},f.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},f.getValue=function(){return this.context[i]?this.context[i].get():e},f.render=function(){return J7(this.props.children)(this.state.value)},c}(Re.Component);return a.contextTypes=(r={},r[i]=hT.exports.object,r),{Provider:o,Consumer:a}}var eQ=Re.createContext||Z7,iU=function(t){var n=eQ();return n.displayName=t,n},oU=iU("Router-History"),hs=iU("Router"),j0=function(e){Gr(t,e),t.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function t(r){var i;return i=e.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(o){i._pendingLocation=o})),i}var n=t.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){i._isMounted&&i.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return Re.createElement(hs.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Re.createElement(oU.Provider,{children:this.props.children||null,value:this.props.history}))},t}(Re.Component);Re.Component;var tQ=function(e){Gr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(Re.Component),iE={},nQ=1e4,TD=0;function rQ(e){if(iE[e])return iE[e];var t=ll.exports.compile(e);return TD<nQ&&(iE[e]=t,TD++),t}function ID(e,t){return e===void 0&&(e="/"),t===void 0&&(t={}),e==="/"?e:rQ(e)(t,{pretty:!0})}function vT(e){var t=e.computedMatch,n=e.to,r=e.push,i=r===void 0?!1:r;return Re.createElement(hs.Consumer,null,function(o){o||Ma(!1);var a=o.history,u=o.staticContext,c=i?a.push:a.replace,f=Ir(t?typeof n=="string"?ID(n,t.params):ee({},n,{pathname:ID(n.pathname,t.params)}):n);return u?(c(f),null):N(tQ,{onMount:function(){c(f)},onUpdate:function(p,g){var m=Ir(g.to);N7(m,ee({},f,{key:m.key}))||c(f)},to:n})})}var CD={},iQ=1e4,kD=0;function oQ(e,t){var n=""+t.end+t.strict+t.sensitive,r=CD[n]||(CD[n]={});if(r[e])return r[e];var i=[],o=ll.exports(e,i,t),a={regexp:o,keys:i};return kD<iQ&&(r[e]=a,kD++),a}function QC(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=i===void 0?!1:i,a=n.strict,u=a===void 0?!1:a,c=n.sensitive,f=c===void 0?!1:c,d=[].concat(r);return d.reduce(function(p,g){if(!g&&g!=="")return null;if(p)return p;var m=oQ(g,{end:o,strict:u,sensitive:f}),w=m.regexp,_=m.keys,T=w.exec(e);if(!T)return null;var b=T[0],S=T.slice(1),C=e===b;return o&&!C?null:{path:g,url:g==="/"&&b===""?"/":b,isExact:C,params:_.reduce(function(O,P,R){return O[P.name]=S[R],O},{})}},null)}function sQ(e){return Re.Children.count(e)===0}var Cm=function(e){Gr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return Re.createElement(hs.Consumer,null,function(o){o||Ma(!1);var a=i.props.location||o.location,u=i.props.computedMatch?i.props.computedMatch:i.props.path?QC(a.pathname,i.props):o.match,c=ee({},o,{location:a,match:u}),f=i.props,d=f.children,p=f.component,g=f.render;return Array.isArray(d)&&sQ(d)&&(d=null),Re.createElement(hs.Provider,{value:c},c.match?d?typeof d=="function"?d(c):d:p?Re.createElement(p,c):g?g(c):null:typeof d=="function"?d(c):null)})},t}(Re.Component);function YC(e){return e.charAt(0)==="/"?e:"/"+e}function aQ(e,t){return e?ee({},t,{pathname:YC(e)+t.pathname}):t}function uQ(e,t){if(!e)return t;var n=YC(e);return t.pathname.indexOf(n)!==0?t:ee({},t,{pathname:t.pathname.substr(n.length)})}function xD(e){return typeof e=="string"?e:$r(e)}function oE(e){return function(){Ma(!1)}}function RD(){}Re.Component;var lQ=function(e){Gr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return Re.createElement(hs.Consumer,null,function(o){o||Ma(!1);var a=i.props.location||o.location,u,c;return Re.Children.forEach(i.props.children,function(f){if(c==null&&Re.isValidElement(f)){u=f;var d=f.props.path||f.props.from;c=d?QC(a.pathname,ee({},f.props,{path:d})):o.match}}),c?Re.cloneElement(u,{location:a,computedMatch:c}):null})},t}(Re.Component),XC=Re.useContext;function sU(){return XC(oU)}function cQ(){return XC(hs).location}function aU(){var e=XC(hs).match;return e?e.params:{}}var fQ=function(e){Gr(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,r.history=M7(r.props),r}var n=t.prototype;return n.render=function(){return N(j0,{history:this.history,children:this.props.children})},t}(Re.Component);Re.Component;var gT=function(t,n){return typeof t=="function"?t(n):t},mT=function(t,n){return typeof t=="string"?Ir(t,null,null,n):t},JC=function(t){return t},Vc=Re.forwardRef;typeof Vc>"u"&&(Vc=JC);function hQ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var dQ=Vc(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Oa(e,["innerRef","navigate","onClick"]),a=o.target,u=ee({},o,{onClick:function(f){try{i&&i(f)}catch(d){throw f.preventDefault(),d}!f.defaultPrevented&&f.button===0&&(!a||a==="_self")&&!hQ(f)&&(f.preventDefault(),r())}});return JC!==Vc?u.ref=t||n:u.ref=n,N("a",{...u})}),Pi=Vc(function(e,t){var n=e.component,r=n===void 0?dQ:n,i=e.replace,o=e.to,a=e.innerRef,u=Oa(e,["component","replace","to","innerRef"]);return Re.createElement(hs.Consumer,null,function(c){c||Ma(!1);var f=c.history,d=mT(gT(o,c.location),c.location),p=d?f.createHref(d):"",g=ee({},u,{href:p,navigate:function(){var w=gT(o,c.location),_=$r(c.location)===$r(mT(w)),T=i||_?f.replace:f.push;T(w)}});return JC!==Vc?g.ref=t||a:g.innerRef=a,Re.createElement(r,g)})}),uU=function(t){return t},uy=Re.forwardRef;typeof uy>"u"&&(uy=uU);function pQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}uy(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,i=e.activeClassName,o=i===void 0?"active":i,a=e.activeStyle,u=e.className,c=e.exact,f=e.isActive,d=e.location,p=e.sensitive,g=e.strict,m=e.style,w=e.to,_=e.innerRef,T=Oa(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Re.createElement(hs.Consumer,null,function(b){b||Ma(!1);var S=d||b.location,C=mT(gT(w,S),S),O=C.pathname,P=O&&O.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),R=P?QC(S.pathname,{path:P,exact:c,sensitive:p,strict:g}):null,F=!!(f?f(R,S):R),L=typeof u=="function"?u(F):u,$=typeof m=="function"?m(F):m;F&&(L=pQ(L,o),$=ee({},$,a));var k=ee({"aria-current":F&&r||null,className:L,style:$,to:C},T);return uU!==uy?k.ref=t||_:k.innerRef=_,N(Pi,{...k})})});var yT=function(e,t){return yT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yT(e,t)};function oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yT(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Se=function(){return Se=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Se.apply(this,arguments)};function M(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(d){try{f(r.next(d))}catch(p){a(p)}}function c(d){try{f(r.throw(d))}catch(p){a(p)}}function f(d){d.done?o(d.value):i(d.value).then(u,c)}f((r=r.apply(e,t||[])).next())})}function D(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(d){return c([f,d])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(d){f=[6,d],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function An(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function je(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lU={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z=function(e,t){if(!e)throw _f(t)},_f=function(e){return new Error("Firebase Database ("+lU.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cU=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},vQ=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],a=e[n++],u=e[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var o=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,c=i+2<e.length,f=c?e[i+2]:0,d=o>>2,p=(o&3)<<4|u>>4,g=(u&15)<<2|f>>6,m=f&63;c||(m=64,a||(g=64)),r.push(n[d],n[p],n[g],n[m])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cU(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):vQ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length,u=a?n[e.charAt(i)]:0;++i;var c=i<e.length,f=c?n[e.charAt(i)]:64;++i;var d=i<e.length,p=d?n[e.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw Error();var g=o<<2|u>>4;if(r.push(g),f!==64){var m=u<<4&240|f>>2;if(r.push(m),p!==64){var w=f<<6&192|p;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},fU=function(e){var t=cU(e);return V0.encodeByteArray(t,!0)},ND=function(e){return fU(e).replace(/\./g,"")},AD=function(e){try{return V0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(e){return Kd(void 0,e)}function Kd(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!gQ(r)||(e[r]=Kd(e[r],t[r]));return e}function gQ(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Se({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[ND(JSON.stringify(n)),ND(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ek(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hu())}function dU(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mQ(){return typeof self=="object"&&self.self===self}function tk(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yQ(){return Hu().indexOf("Electron/")>=0}function wQ(){var e=Hu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _Q(){return Hu().indexOf("MSAppHost/")>=0}function vU(){return lU.NODE_ADMIN===!0}function bQ(){return!dU()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $p(){return"indexedDB"in self&&indexedDB!=null}function nk(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){t(o)}})}function gU(){return!(!navigator||!navigator.cookieEnabled)}function EQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SQ="FirebaseError",bf=function(e){oe(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=SQ,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ws.prototype.create),o}return t}(Error),ws=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,a=this.errors[t],u=a?TQ(a,i):"Error",c=this.serviceName+": "+u+" ("+o+").",f=new bf(o,c,i);return f},e}();function TQ(e,t){return e.replace(IQ,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var IQ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(e){return JSON.parse(e)}function vn(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rk=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=Gd(AD(o[0])||""),n=Gd(AD(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},CQ=function(e){var t=rk(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},kQ=function(e){var t=rk(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xQ=function(e){var t=rk(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ku(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function wT(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ly(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RQ(e){for(var t=[],n=function(c,f){Array.isArray(f)?f.forEach(function(d){t.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(f))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],u=o[1];n(a,u)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NQ=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p,g,i=0;i<80;i++){i<40?i<20?(p=f^u&(c^f),g=1518500249):(p=u^c^f,g=1859775393):i<60?(p=u&c|f&(u|c),g=2400959708):(p=u^c^f,g=3395469782);var o=(a<<5|a>>>27)+p+d+g+r[i]&4294967295;d=f,f=c,c=(u<<30|u>>>2)&4294967295,u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=t[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)t[i]=this.chain_[r]>>o&255,++i;return t},e}();function AQ(e,t){var n=new PQ(e,t);return n.subscribe.bind(n)}var PQ=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OQ(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=sE),o.error===void 0&&(o.error=sE),o.complete===void 0&&(o.complete=sE);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function OQ(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function sE(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Wr(e,t){return e+" failed: "+t+" argument "}function In(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Wr(e,t)+"must be a valid function.")}function PD(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Wr(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DQ=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Z(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},B0=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MQ=1e3,LQ=2,FQ=4*60*60*1e3,$Q=.5;function _T(e,t,n){t===void 0&&(t=MQ),n===void 0&&(n=LQ);var r=t*Math.pow(n,e),i=Math.round($Q*r*(Math.random()-.5)*2);return Math.min(FQ,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(e){return e&&e._delegate?e._delegate:e}var fr=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mU=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new xn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(jQ(t))try{this.getOrInitializeService({instanceIdentifier:hu})}catch{}try{for(var i=An(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Bn(o.value,2),u=a[0],c=a[1],f=this.normalizeInstanceIdentifier(u);try{var d=this.getOrInitializeService({instanceIdentifier:f});c.resolve(d)}catch{}}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=hu),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(je(je([],Bn(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Bn(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=hu),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=hu),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=An(this.instancesDeferred.entries()),f=c.next();!f.done;f=c.next()){var d=Bn(f.value,2),p=d[0],g=d[1],m=this.normalizeInstanceIdentifier(p);a===m&&g.resolve(u)}}catch(w){n={error:w}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return u},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var a=this.instances.get(i);return a&&t(a,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(!!o)try{for(var a=An(o),u=a.next();!u.done;u=a.next()){var c=u.value;try{c(t,n)}catch{}}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:UQ(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=hu),this.component?this.component.multipleInstances?t:hu:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function UQ(e){return e===hu?void 0:e}function jQ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yU=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new mU(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ji(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uu,ik=[],qe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(qe||(qe={}));var wU={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},VQ=qe.INFO,BQ=(uu={},uu[qe.DEBUG]="log",uu[qe.VERBOSE]="log",uu[qe.INFO]="info",uu[qe.WARN]="warn",uu[qe.ERROR]="error",uu),zQ=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=BQ[t];if(o)console[o].apply(console,Ji(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},cl=function(){function e(t){this.name=t,this._logLevel=VQ,this._logHandler=zQ,this._userLogHandler=null,ik.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in qe))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?wU[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,qe.DEBUG],t)),this._logHandler.apply(this,Ji([this,qe.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,qe.VERBOSE],t)),this._logHandler.apply(this,Ji([this,qe.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,qe.INFO],t)),this._logHandler.apply(this,Ji([this,qe.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,qe.WARN],t)),this._logHandler.apply(this,Ji([this,qe.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ji([this,qe.ERROR],t)),this._logHandler.apply(this,Ji([this,qe.ERROR],t))},e}();function qQ(e){ik.forEach(function(t){t.setLogLevel(e)})}function WQ(e,t){for(var n=function(a){var u=null;t&&t.level&&(u=wU[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,f){for(var d=[],p=2;p<arguments.length;p++)d[p-2]=arguments[p];var g=d.map(function(m){if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(function(m){return m}).join(" ");f>=(u!=null?u:c.logLevel)&&e({level:qe[f].toLowerCase(),message:g,args:d,type:c.name})}},r=0,i=ik;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ds,HQ=(Ds={},Ds["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ds["bad-app-name"]="Illegal App name: '{$appName}",Ds["duplicate-app"]="Firebase App named '{$appName}' already exists",Ds["app-deleted"]="Firebase App named '{$appName}' already deleted",Ds["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ds["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ds),nc=new ws("app","Firebase",HQ),_U="@firebase/app",KQ="0.6.30",GQ="@firebase/analytics",QQ="@firebase/app-check",YQ="@firebase/auth",XQ="@firebase/database",JQ="@firebase/functions",ZQ="@firebase/installations",eY="@firebase/messaging",tY="@firebase/performance",nY="@firebase/remote-config",rY="@firebase/storage",iY="@firebase/firestore",oY="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,cy="[DEFAULT]",sY=(tr={},tr[_U]="fire-core",tr[GQ]="fire-analytics",tr[QQ]="fire-app-check",tr[YQ]="fire-auth",tr[XQ]="fire-rtdb",tr[JQ]="fire-fn",tr[ZQ]="fire-iid",tr[eY]="fire-fcm",tr[tY]="fire-perf",tr[nY]="fire-rc",tr[rY]="fire-gcs",tr[iY]="fire-fst",tr["fire-js"]="fire-js",tr[oY]="fire-js-all",tr);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bc=new cl("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var km=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=hU(t),this.container=new yU(n.name),this._addComponent(new fr("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=cy),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=cy),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Bc.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw nc.create("app-deleted",{appName:this.name_})},e}();km.prototype.name&&km.prototype.options||km.prototype.delete||console.log("dc");var aY="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:f,setLogLevel:qQ,onLog:d,apps:null,SDK_VERSION:aY,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:p}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(g){delete t[g]}function o(g){if(g=g||cy,!ci(t,g))throw nc.create("no-app",{appName:g});return t[g]}o.App=e;function a(g,m){if(m===void 0&&(m={}),typeof m!="object"||m===null){var w=m;m={name:w}}var _=m;_.name===void 0&&(_.name=cy);var T=_.name;if(typeof T!="string"||!T)throw nc.create("bad-app-name",{appName:String(T)});if(ci(t,T))throw nc.create("duplicate-app",{appName:T});var b=new e(g,_,r);return t[T]=b,b}function u(){return Object.keys(t).map(function(g){return t[g]})}function c(g){var m=g.name;if(n.has(m))return Bc.debug("There were multiple attempts to register component "+m+"."),g.type==="PUBLIC"?r[m]:null;if(n.set(m,g),g.type==="PUBLIC"){var w=function(S){if(S===void 0&&(S=o()),typeof S[m]!="function")throw nc.create("invalid-app-argument",{appName:m});return S[m]()};g.serviceProps!==void 0&&Kd(w,g.serviceProps),r[m]=w,e.prototype[m]=function(){for(var S=[],C=0;C<arguments.length;C++)S[C]=arguments[C];var O=this._getService.bind(this,m);return O.apply(this,g.multipleInstances?S:[])}}for(var _=0,T=Object.keys(t);_<T.length;_++){var b=T[_];t[b]._addComponent(g)}return g.type==="PUBLIC"?r[m]:null}function f(g,m,w){var _,T=(_=sY[g])!==null&&_!==void 0?_:g;w&&(T+="-"+w);var b=T.match(/\s|\//),S=m.match(/\s|\//);if(b||S){var C=['Unable to register library "'+T+'" with version "'+m+'":'];b&&C.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),b&&S&&C.push("and"),S&&C.push('version name "'+m+'" contains illegal characters (whitespace or "/")'),Bc.warn(C.join(" "));return}c(new fr(T+"-version",function(){return{library:T,version:m}},"VERSION"))}function d(g,m){if(g!==null&&typeof g!="function")throw nc.create("invalid-log-argument");WQ(g,m)}function p(g,m){if(m==="serverAuth")return null;var w=m;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(){var e=uY(km);e.INTERNAL=Se(Se({},e.INTERNAL),{createFirebaseNamespace:bU,extendNamespace:t,createSubscribe:AQ,ErrorFactory:ws,deepExtend:Kd});function t(n){Kd(e,n)}return e}var ok=bU();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lY=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(cY(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function cY(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(e,t){e.INTERNAL.registerComponent(new fr("platform-logger",function(n){return new lY(n)},"PRIVATE")),e.registerVersion(_U,KQ,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(mQ()&&self.firebase!==void 0){Bc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var OD=self.firebase.SDK_VERSION;OD&&OD.indexOf("LITE")>=0&&Bc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var hY=ok.initializeApp;ok.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dU()&&Bc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),hY.apply(void 0,e)};var ge=ok;fY(ge);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,h){s!=Array.prototype&&s!=Object.prototype&&(s[l]=h.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var l=0;l<s.length;++l){var h=s[l];if(h&&h.Math==Math)return h}return globalThis}var r=n(this);function i(s,l){if(l){var h=r;s=s.split(".");for(var v=0;v<s.length-1;v++){var y=s[v];y in h||(h[y]={}),h=h[y]}s=s[s.length-1],v=h[s],l=l(v),l!=v&&l!=null&&t(h,s,{configurable:!0,writable:!0,value:l})}}function o(s){var l=0;return function(){return l<s.length?{done:!1,value:s[l++]}:{done:!0}}}function a(s){var l=typeof Symbol<"u"&&Symbol.iterator&&s[Symbol.iterator];return l?l.call(s):{next:o(s)}}i("Promise",function(s){function l(I){this.b=0,this.c=void 0,this.a=[];var A=this.f();try{I(A.resolve,A.reject)}catch(z){A.reject(z)}}function h(){this.a=null}function v(I){return I instanceof l?I:new l(function(A){A(I)})}if(s)return s;h.prototype.b=function(I){if(this.a==null){this.a=[];var A=this;this.c(function(){A.g()})}this.a.push(I)};var y=r.setTimeout;h.prototype.c=function(I){y(I,0)},h.prototype.g=function(){for(;this.a&&this.a.length;){var I=this.a;this.a=[];for(var A=0;A<I.length;++A){var z=I[A];I[A]=null;try{z()}catch(W){this.f(W)}}}this.a=null},h.prototype.f=function(I){this.c(function(){throw I})},l.prototype.f=function(){function I(W){return function(Pe){z||(z=!0,W.call(A,Pe))}}var A=this,z=!1;return{resolve:I(this.m),reject:I(this.g)}},l.prototype.m=function(I){if(I===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(I instanceof l)this.s(I);else{e:switch(typeof I){case"object":var A=I!=null;break e;case"function":A=!0;break e;default:A=!1}A?this.v(I):this.h(I)}},l.prototype.v=function(I){var A=void 0;try{A=I.then}catch(z){this.g(z);return}typeof A=="function"?this.u(A,I):this.h(I)},l.prototype.g=function(I){this.i(2,I)},l.prototype.h=function(I){this.i(1,I)},l.prototype.i=function(I,A){if(this.b!=0)throw Error("Cannot settle("+I+", "+A+"): Promise already settled in state"+this.b);this.b=I,this.c=A,this.l()},l.prototype.l=function(){if(this.a!=null){for(var I=0;I<this.a.length;++I)E.b(this.a[I]);this.a=null}};var E=new h;return l.prototype.s=function(I){var A=this.f();I.Ra(A.resolve,A.reject)},l.prototype.u=function(I,A){var z=this.f();try{I.call(A,z.resolve,z.reject)}catch(W){z.reject(W)}},l.prototype.then=function(I,A){function z(it,En){return typeof it=="function"?function(Ko){try{W(it(Ko))}catch(k1){Pe(k1)}}:En}var W,Pe,ct=new l(function(it,En){W=it,Pe=En});return this.Ra(z(I,W),z(A,Pe)),ct},l.prototype.catch=function(I){return this.then(void 0,I)},l.prototype.Ra=function(I,A){function z(){switch(W.b){case 1:I(W.c);break;case 2:A(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?E.b(z):this.a.push(z)},l.resolve=v,l.reject=function(I){return new l(function(A,z){z(I)})},l.race=function(I){return new l(function(A,z){for(var W=a(I),Pe=W.next();!Pe.done;Pe=W.next())v(Pe.value).Ra(A,z)})},l.all=function(I){var A=a(I),z=A.next();return z.done?v([]):new l(function(W,Pe){function ct(Ko){return function(k1){it[Ko]=k1,En--,En==0&&W(it)}}var it=[],En=0;do it.push(void 0),En++,v(z.value).Ra(ct(it.length-1),Pe),z=A.next();while(!z.done)})},l});var u=u||{},c=this||self,f=/^[\w+/_-]+[=]{0,2}$/,d=null;function p(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&f.test(s)?s:""}function g(){}function m(s){var l=typeof s;return l!="object"?l:s?Array.isArray(s)?"array":l:"null"}function w(s){var l=m(s);return l=="array"||l=="object"&&typeof s.length=="number"}function _(s){return m(s)=="function"}function T(s){var l=typeof s;return l=="object"&&s!=null||l=="function"}function b(s){return Object.prototype.hasOwnProperty.call(s,S)&&s[S]||(s[S]=++C)}var S="closure_uid_"+(1e9*Math.random()>>>0),C=0;function O(s,l,h){return s.call.apply(s.bind,arguments)}function P(s,l,h){if(!s)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,v),s.apply(l,y)}}return function(){return s.apply(l,arguments)}}function R(s,l,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R=O:R=P,R.apply(null,arguments)}function F(s,l){var h=Array.prototype.slice.call(arguments,1);return function(){var v=h.slice();return v.push.apply(v,arguments),s.apply(this,v)}}function L(s,l){function h(){}h.prototype=l.prototype,s.bb=l.prototype,s.prototype=new h,s.prototype.constructor=s}function $(s){return s}function k(s,l,h){this.code=J+s,this.message=l||ae[s]||"",this.a=h||null}L(k,Error),k.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},k.prototype.toJSON=function(){return this.w()};function H(s){var l=s&&s.code;return l?new k(l.substring(J.length),s.message,s.serverResponse):null}var J="auth/",ae={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ne={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function se(s){for(var l in ne)if(ne[l].id===s)return s=ne[l],{firebaseEndpoint:s.Ua,secureTokenEndpoint:s.$a,identityPlatformEndpoint:s.Xa};return null}var pe;pe=se("__EID__")?"__EID__":void 0;function Te(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function U(s){if(Error.captureStackTrace)Error.captureStackTrace(this,U);else{var l=Error().stack;l&&(this.stack=l)}s&&(this.message=String(s))}L(U,Error),U.prototype.name="CustomError";function V(s,l){s=s.split("%s");for(var h="",v=s.length-1,y=0;y<v;y++)h+=s[y]+(y<l.length?l[y]:"%s");U.call(this,h+s[v])}L(V,U),V.prototype.name="AssertionError";function j(s,l){throw new V("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function G(s,l){this.c=s,this.f=l,this.b=0,this.a=null}G.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function Q(s,l){s.f(l),100>s.b&&(s.b++,l.next=s.a,s.a=l)}function de(){this.b=this.a=null}var ce=new G(function(){return new ve},function(s){s.reset()});de.prototype.add=function(s,l){var h=ce.get();h.set(s,l),this.b?this.b.next=h:this.a=h,this.b=h};function Ie(){var s=BN,l=null;return s.a&&(l=s.a,s.a=s.a.next,s.a||(s.b=null),l.next=null),l}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(s,l){this.a=s,this.b=l,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var Me=Array.prototype.indexOf?function(s,l){return Array.prototype.indexOf.call(s,l,void 0)}:function(s,l){if(typeof s=="string")return typeof l!="string"||l.length!=1?-1:s.indexOf(l,0);for(var h=0;h<s.length;h++)if(h in s&&s[h]===l)return h;return-1},ye=Array.prototype.forEach?function(s,l,h){Array.prototype.forEach.call(s,l,h)}:function(s,l,h){for(var v=s.length,y=typeof s=="string"?s.split(""):s,E=0;E<v;E++)E in y&&l.call(h,y[E],E,s)};function Rt(s,l){for(var h=typeof s=="string"?s.split(""):s,v=s.length-1;0<=v;--v)v in h&&l.call(void 0,h[v],v,s)}var _n=Array.prototype.filter?function(s,l){return Array.prototype.filter.call(s,l,void 0)}:function(s,l){for(var h=s.length,v=[],y=0,E=typeof s=="string"?s.split(""):s,I=0;I<h;I++)if(I in E){var A=E[I];l.call(void 0,A,I,s)&&(v[y++]=A)}return v},Oe=Array.prototype.map?function(s,l){return Array.prototype.map.call(s,l,void 0)}:function(s,l){for(var h=s.length,v=Array(h),y=typeof s=="string"?s.split(""):s,E=0;E<h;E++)E in y&&(v[E]=l.call(void 0,y[E],E,s));return v},We=Array.prototype.some?function(s,l){return Array.prototype.some.call(s,l,void 0)}:function(s,l){for(var h=s.length,v=typeof s=="string"?s.split(""):s,y=0;y<h;y++)if(y in v&&l.call(void 0,v[y],y,s))return!0;return!1};function lt(s){e:{for(var l=XW,h=s.length,v=typeof s=="string"?s.split(""):s,y=0;y<h;y++)if(y in v&&l.call(void 0,v[y],y,s)){l=y;break e}l=-1}return 0>l?null:typeof s=="string"?s.charAt(l):s[l]}function Ae(s,l){return 0<=Me(s,l)}function _t(s,l){l=Me(s,l);var h;return(h=0<=l)&&Array.prototype.splice.call(s,l,1),h}function Ee(s,l){var h=0;Rt(s,function(v,y){l.call(void 0,v,y,s)&&Array.prototype.splice.call(s,y,1).length==1&&h++})}function nt(s){return Array.prototype.concat.apply([],arguments)}function St(s){var l=s.length;if(0<l){for(var h=Array(l),v=0;v<l;v++)h[v]=s[v];return h}return[]}var pr=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},Xn=/&/g,Yr=/</g,bn=/>/g,zt=/"/g,Tt=/'/g,Jn=/\x00/g,Dn=/[\x00&<>"']/;function Je(s,l){return s.indexOf(l)!=-1}function fn(s,l){return s<l?-1:s>l?1:0}var Ze;e:{var ji=c.navigator;if(ji){var Vi=ji.userAgent;if(Vi){Ze=Vi;break e}}Ze=""}function ke(s){return Je(Ze,s)}function Ne(s,l){for(var h in s)l.call(void 0,s[h],h,s)}function gt(s){for(var l in s)return!1;return!0}function It(s){var l={},h;for(h in s)l[h]=s[h];return l}var Bo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(s,l){for(var h,v,y=1;y<arguments.length;y++){v=arguments[y];for(h in v)s[h]=v[h];for(var E=0;E<Bo.length;E++)h=Bo[E],Object.prototype.hasOwnProperty.call(v,h)&&(s[h]=v[h])}}function Ts(s,l){e:{try{var h=s&&s.ownerDocument,v=h&&(h.defaultView||h.parentWindow);if(v=v||c,v.Element&&v.Location){var y=v;break e}}catch{}y=null}if(y&&typeof y[l]<"u"&&(!s||!(s instanceof y[l])&&(s instanceof y.Location||s instanceof y.Element))){if(T(s))try{var E=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch{E="<object could not be stringified>"}else E=s===void 0?"undefined":s===null?"null":typeof s;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",l,E)}}function yi(s,l){this.a=s===xv&&l||"",this.b=kv}yi.prototype.ta=!0,yi.prototype.sa=function(){return this.a},yi.prototype.toString=function(){return"Const{"+this.a+"}"};function Sl(s){return s instanceof yi&&s.constructor===yi&&s.b===kv?s.a:(j("expected object of type Const, got '"+s+"'"),"type_error:Const")}var kv={},xv={},Rv;function TN(){if(Rv===void 0){var s=null,l=c.trustedTypes;if(l&&l.createPolicy){try{s=l.createPolicy("goog#html",{createHTML:$,createScript:$,createScriptURL:$})}catch(h){c.console&&c.console.error(h.message)}Rv=s}else Rv=s}return Rv}function Tl(s,l){this.a=l===CN?s:""}Tl.prototype.ta=!0,Tl.prototype.sa=function(){return this.a.toString()},Tl.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function IN(s){return s instanceof Tl&&s.constructor===Tl?s.a:(j("expected object of type TrustedResourceUrl, got '"+s+"' of type "+m(s)),"type_error:TrustedResourceUrl")}function t_(s,l){var h=Sl(s);if(!kq.test(h))throw Error("Invalid TrustedResourceUrl format: "+h);return s=h.replace(Cq,function(v,y){if(!Object.prototype.hasOwnProperty.call(l,y))throw Error('Found marker, "'+y+'", in format string, "'+h+'", but no valid label mapping found in args: '+JSON.stringify(l));return v=l[y],v instanceof yi?Sl(v):encodeURIComponent(String(v))}),xq(s)}var Cq=/%{(\w+)}/g,kq=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,CN={};function xq(s){var l=TN();return s=l?l.createScriptURL(s):s,new Tl(s,CN)}function Dr(s,l){this.a=l===Bf?s:""}Dr.prototype.ta=!0,Dr.prototype.sa=function(){return this.a.toString()},Dr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Nv(s){return s instanceof Dr&&s.constructor===Dr?s.a:(j("expected object of type SafeUrl, got '"+s+"' of type "+m(s)),"type_error:SafeUrl")}var Rq=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Nq=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,kN=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xN(s){if(s instanceof Dr)return s;if(s=typeof s=="object"&&s.ta?s.sa():String(s),kN.test(s))s=new Dr(s,Bf);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var l=s.match(Nq);s=l&&Rq.test(l[1])?new Dr(s,Bf):null}return s}function RN(s){return s instanceof Dr?s:(s=typeof s=="object"&&s.ta?s.sa():String(s),kN.test(s)||(s="about:invalid#zClosurez"),new Dr(s,Bf))}var Bf={},NN=new Dr("about:invalid#zClosurez",Bf);function Il(s,l,h){this.a=h===AN?s:""}Il.prototype.ta=!0,Il.prototype.sa=function(){return this.a.toString()},Il.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Aq(s){return s instanceof Il&&s.constructor===Il?s.a:(j("expected object of type SafeHtml, got '"+s+"' of type "+m(s)),"type_error:SafeHtml")}var AN={};function Pq(s,l){Ts(s,"HTMLScriptElement"),s.src=IN(l),(l=s.ownerDocument&&s.ownerDocument.defaultView)&&l!=c?l=p(l.document):(d===null&&(d=p(c.document)),l=d),l&&s.setAttribute("nonce",l)}function PN(s,l,h,v){return s=s instanceof Dr?s:RN(s),l=l||c,h=h instanceof yi?Sl(h):h||"",l.open(Nv(s),h,v,void 0)}function ON(s,l){for(var h=s.split("%s"),v="",y=Array.prototype.slice.call(arguments,1);y.length&&1<h.length;)v+=h.shift()+y.shift();return v+h.join("%s")}function n_(s){return Dn.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(Xn,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(Yr,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(bn,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(zt,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(Tt,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(Jn,"&#0;"))),s}function r_(s){return r_[" "](s),s}r_[" "]=g;function Oq(s,l){var h=Fq;return Object.prototype.hasOwnProperty.call(h,s)?h[s]:h[s]=l(s)}var Dq=ke("Opera"),Bi=ke("Trident")||ke("MSIE"),DN=ke("Edge"),Mq=DN||Bi,MN=ke("Gecko")&&!(Je(Ze.toLowerCase(),"webkit")&&!ke("Edge"))&&!(ke("Trident")||ke("MSIE"))&&!ke("Edge"),Lq=Je(Ze.toLowerCase(),"webkit")&&!ke("Edge");function LN(){var s=c.document;return s?s.documentMode:void 0}var Av;e:{var i_="",o_=function(){var s=Ze;if(MN)return/rv:([^\);]+)(\)|;)/.exec(s);if(DN)return/Edge\/([\d\.]+)/.exec(s);if(Bi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(Lq)return/WebKit\/(\S+)/.exec(s);if(Dq)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(o_&&(i_=o_?o_[1]:""),Bi){var s_=LN();if(s_!=null&&s_>parseFloat(i_)){Av=String(s_);break e}}Av=i_}var Fq={};function FN(s){return Oq(s,function(){for(var l=0,h=pr(String(Av)).split("."),v=pr(String(s)).split("."),y=Math.max(h.length,v.length),E=0;l==0&&E<y;E++){var I=h[E]||"",A=v[E]||"";do{if(I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],I[0].length==0&&A[0].length==0)break;l=fn(I[1].length==0?0:parseInt(I[1],10),A[1].length==0?0:parseInt(A[1],10))||fn(I[2].length==0,A[2].length==0)||fn(I[2],A[2]),I=I[3],A=A[3]}while(l==0)}return 0<=l})}var a_;if(c.document&&Bi){var $N=LN();a_=$N||parseInt(Av,10)||void 0}else a_=void 0;var Is=a_;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var $q=!Bi||9<=Number(Is);function zf(s){var l=document;return typeof s=="string"?l.getElementById(s):s}function UN(s,l){Ne(l,function(h,v){h&&typeof h=="object"&&h.ta&&(h=h.sa()),v=="style"?s.style.cssText=h:v=="class"?s.className=h:v=="for"?s.htmlFor=h:jN.hasOwnProperty(v)?s.setAttribute(jN[v],h):v.lastIndexOf("aria-",0)==0||v.lastIndexOf("data-",0)==0?s.setAttribute(v,h):s[v]=h})}var jN={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Uq(s,l,h){var v=arguments,y=document,E=String(v[0]),I=v[1];if(!$q&&I&&(I.name||I.type)){if(E=["<",E],I.name&&E.push(' name="',n_(I.name),'"'),I.type){E.push(' type="',n_(I.type),'"');var A={};we(A,I),delete A.type,I=A}E.push(">"),E=E.join("")}return E=Pv(y,E),I&&(typeof I=="string"?E.className=I:Array.isArray(I)?E.className=I.join(" "):UN(E,I)),2<v.length&&jq(y,E,v),E}function jq(s,l,h){function v(A){A&&l.appendChild(typeof A=="string"?s.createTextNode(A):A)}for(var y=2;y<h.length;y++){var E=h[y];if(!w(E)||T(E)&&0<E.nodeType)v(E);else{e:{if(E&&typeof E.length=="number"){if(T(E)){var I=typeof E.item=="function"||typeof E.item=="string";break e}if(_(E)){I=typeof E.item=="function";break e}}I=!1}ye(I?St(E):E,v)}}}function Pv(s,l){return l=String(l),s.contentType==="application/xhtml+xml"&&(l=l.toLowerCase()),s.createElement(l)}function VN(s){c.setTimeout(function(){throw s},0)}var u_;function Vq(){var s=c.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ke("Presto")&&(s=function(){var y=Pv(document,"IFRAME");y.style.display="none",document.documentElement.appendChild(y);var E=y.contentWindow;y=E.document,y.open(),y.close();var I="callImmediate"+Math.random(),A=E.location.protocol=="file:"?"*":E.location.protocol+"//"+E.location.host;y=R(function(z){(A=="*"||z.origin==A)&&z.data==I&&this.port1.onmessage()},this),E.addEventListener("message",y,!1),this.port1={},this.port2={postMessage:function(){E.postMessage(I,A)}}}),typeof s<"u"&&!ke("Trident")&&!ke("MSIE")){var l=new s,h={},v=h;return l.port1.onmessage=function(){if(h.next!==void 0){h=h.next;var y=h.Hb;h.Hb=null,y()}},function(y){v.next={Hb:y},v=v.next,l.port2.postMessage(0)}}return function(y){c.setTimeout(y,0)}}function Ov(s,l){Dv||Bq(),l_||(Dv(),l_=!0),BN.add(s,l)}var Dv;function Bq(){if(c.Promise&&c.Promise.resolve){var s=c.Promise.resolve(void 0);Dv=function(){s.then(zN)}}else Dv=function(){var l=zN;!_(c.setImmediate)||c.Window&&c.Window.prototype&&!ke("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(u_||(u_=Vq()),u_(l)):c.setImmediate(l)}}var l_=!1,BN=new de;function zN(){for(var s;s=Ie();){try{s.a.call(s.b)}catch(l){VN(l)}Q(ce,s)}l_=!1}function He(s,l){if(this.a=za,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=g)try{var h=this;s.call(l,function(v){qa(h,qf,v)},function(v){if(!(v instanceof Cl))try{throw v instanceof Error?v:Error("Promise rejected.")}catch{}qa(h,zo,v)})}catch(v){qa(this,zo,v)}}var za=0,qf=2,zo=3;function qN(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}qN.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var WN=new G(function(){return new qN},function(s){s.reset()});function c_(s,l,h){var v=WN.get();return v.g=s,v.b=l,v.f=h,v}function be(s){if(s instanceof He)return s;var l=new He(g);return qa(l,qf,s),l}function Nt(s){return new He(function(l,h){h(s)})}function HN(s,l,h){YN(s,l,h,null)||Ov(F(l,s))}function zq(s){return new He(function(l,h){var v=s.length,y=[];if(v)for(var E=function(W,Pe){v--,y[W]=Pe,v==0&&l(y)},I=function(W){h(W)},A=0,z;A<s.length;A++)z=s[A],HN(z,F(E,A),I);else l(y)})}function KN(s){return new He(function(l){var h=s.length,v=[];if(h)for(var y=function(A,z,W){h--,v[A]=z?{Qb:!0,value:W}:{Qb:!1,reason:W},h==0&&l(v)},E=0,I;E<s.length;E++)I=s[E],HN(I,F(y,E,!0),F(y,E,!1));else l(v)})}He.prototype.then=function(s,l,h){return QN(this,_(s)?s:null,_(l)?l:null,h)},He.prototype.$goog_Thenable=!0,e=He.prototype,e.oa=function(s,l){return s=c_(s,s,l),s.c=!0,f_(this,s),this},e.o=function(s,l){return QN(this,null,s,l)},e.cancel=function(s){if(this.a==za){var l=new Cl(s);Ov(function(){GN(this,l)},this)}};function GN(s,l){if(s.a==za)if(s.c){var h=s.c;if(h.b){for(var v=0,y=null,E=null,I=h.b;I&&(I.c||(v++,I.a==s&&(y=I),!(y&&1<v)));I=I.next)y||(E=I);y&&(h.a==za&&v==1?GN(h,l):(E?(v=E,v.next==h.f&&(h.f=v),v.next=v.next.next):JN(h),ZN(h,y,zo,l)))}s.c=null}else qa(s,zo,l)}function f_(s,l){s.b||s.a!=qf&&s.a!=zo||XN(s),s.f?s.f.next=l:s.b=l,s.f=l}function QN(s,l,h,v){var y=c_(null,null,null);return y.a=new He(function(E,I){y.g=l?function(A){try{var z=l.call(v,A);E(z)}catch(W){I(W)}}:E,y.b=h?function(A){try{var z=h.call(v,A);z===void 0&&A instanceof Cl?I(A):E(z)}catch(W){I(W)}}:I}),y.a.c=s,f_(s,y),y.a}e.$c=function(s){this.a=za,qa(this,qf,s)},e.ad=function(s){this.a=za,qa(this,zo,s)};function qa(s,l,h){s.a==za&&(s===h&&(l=zo,h=new TypeError("Promise cannot resolve to itself")),s.a=1,YN(h,s.$c,s.ad,s)||(s.i=h,s.a=l,s.c=null,XN(s),l!=zo||h instanceof Cl||Wq(s,h)))}function YN(s,l,h,v){if(s instanceof He)return f_(s,c_(l||g,h||null,v)),!0;if(Te(s))return s.then(l,h,v),!0;if(T(s))try{var y=s.then;if(_(y))return qq(s,y,l,h,v),!0}catch(E){return h.call(v,E),!0}return!1}function qq(s,l,h,v,y){function E(z){A||(A=!0,v.call(y,z))}function I(z){A||(A=!0,h.call(y,z))}var A=!1;try{l.call(s,I,E)}catch(z){E(z)}}function XN(s){s.h||(s.h=!0,Ov(s.gc,s))}function JN(s){var l=null;return s.b&&(l=s.b,s.b=l.next,l.next=null),s.b||(s.f=null),l}e.gc=function(){for(var s;s=JN(this);)ZN(this,s,this.a,this.i);this.h=!1};function ZN(s,l,h,v){if(h==zo&&l.b&&!l.c)for(;s&&s.g;s=s.c)s.g=!1;if(l.a)l.a.c=null,eA(l,h,v);else try{l.c?l.g.call(l.f):eA(l,h,v)}catch(y){tA.call(null,y)}Q(WN,l)}function eA(s,l,h){l==qf?s.g.call(s.f,h):s.b&&s.b.call(s.f,h)}function Wq(s,l){s.g=!0,Ov(function(){s.g&&tA.call(null,l)})}var tA=VN;function Cl(s){U.call(this,s)}L(Cl,U),Cl.prototype.name="cancel";function Mv(){this.ya=this.ya,this.pa=this.pa}var Hq=0;Mv.prototype.ya=!1;function nA(s){!s.ya&&(s.ya=!0,s.Da(),Hq!=0)&&b(s)}Mv.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kq=Object.freeze||function(s){return s},rA=!Bi||9<=Number(Is),Gq=Bi&&!FN("9"),Qq=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,l=Object.defineProperty({},"passive",{get:function(){s=!0}});try{c.addEventListener("test",g,l),c.removeEventListener("test",g,l)}catch{}return s}();function Mr(s,l){this.type=s,this.b=this.target=l,this.defaultPrevented=!1}Mr.prototype.preventDefault=function(){this.defaultPrevented=!0};function Wa(s,l){if(Mr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var h=this.type=s.type,v=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=l,l=s.relatedTarget){if(MN){e:{try{r_(l.nodeName);var y=!0;break e}catch{}y=!1}y||(l=null)}}else h=="mouseover"?l=s.fromElement:h=="mouseout"&&(l=s.toElement);this.relatedTarget=l,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:Yq[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}L(Wa,Mr);var Yq=Kq({2:"touch",3:"pen",4:"mouse"});Wa.prototype.preventDefault=function(){Wa.bb.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,Gq)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}},Wa.prototype.g=function(){return this.a};var Wf="closure_listenable_"+(1e6*Math.random()|0),Xq=0;function Jq(s,l,h,v,y){this.listener=s,this.proxy=null,this.src=l,this.type=h,this.capture=!!v,this.Wa=y,this.key=++Xq,this.wa=this.Qa=!1}function Lv(s){s.wa=!0,s.listener=null,s.proxy=null,s.src=null,s.Wa=null}function Fv(s){this.src=s,this.a={},this.b=0}Fv.prototype.add=function(s,l,h,v,y){var E=s.toString();s=this.a[E],s||(s=this.a[E]=[],this.b++);var I=d_(s,l,v,y);return-1<I?(l=s[I],h||(l.Qa=!1)):(l=new Jq(l,this.src,E,!!v,y),l.Qa=h,s.push(l)),l};function h_(s,l){var h=l.type;h in s.a&&_t(s.a[h],l)&&(Lv(l),s.a[h].length==0&&(delete s.a[h],s.b--))}function d_(s,l,h,v){for(var y=0;y<s.length;++y){var E=s[y];if(!E.wa&&E.listener==l&&E.capture==!!h&&E.Wa==v)return y}return-1}var p_="closure_lm_"+(1e6*Math.random()|0),v_={};function wi(s,l,h,v,y){if(v&&v.once)g_(s,l,h,v,y);else if(Array.isArray(l))for(var E=0;E<l.length;E++)wi(s,l[E],h,v,y);else h=y_(h),s&&s[Wf]?lA(s,l,h,T(v)?!!v.capture:!!v,y):iA(s,l,h,!1,v,y)}function iA(s,l,h,v,y,E){if(!l)throw Error("Invalid event type");var I=T(y)?!!y.capture:!!y,A=$v(s);if(A||(s[p_]=A=new Fv(s)),h=A.add(l,h,v,I,E),!h.proxy)if(v=Zq(),h.proxy=v,v.src=s,v.listener=h,s.addEventListener)Qq||(y=I),y===void 0&&(y=!1),s.addEventListener(l.toString(),v,y);else if(s.attachEvent)s.attachEvent(sA(l.toString()),v);else if(s.addListener&&s.removeListener)s.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.")}function Zq(){var s=eW,l=rA?function(h){return s.call(l.src,l.listener,h)}:function(h){if(h=s.call(l.src,l.listener,h),!h)return h};return l}function g_(s,l,h,v,y){if(Array.isArray(l))for(var E=0;E<l.length;E++)g_(s,l[E],h,v,y);else h=y_(h),s&&s[Wf]?w_(s,l,h,T(v)?!!v.capture:!!v,y):iA(s,l,h,!0,v,y)}function Xr(s,l,h,v,y){if(Array.isArray(l))for(var E=0;E<l.length;E++)Xr(s,l[E],h,v,y);else v=T(v)?!!v.capture:!!v,h=y_(h),s&&s[Wf]?(s=s.v,l=String(l).toString(),l in s.a&&(E=s.a[l],h=d_(E,h,v,y),-1<h&&(Lv(E[h]),Array.prototype.splice.call(E,h,1),E.length==0&&(delete s.a[l],s.b--)))):s&&(s=$v(s))&&(l=s.a[l.toString()],s=-1,l&&(s=d_(l,h,v,y)),(h=-1<s?l[s]:null)&&oA(h))}function oA(s){if(typeof s!="number"&&s&&!s.wa){var l=s.src;if(l&&l[Wf])h_(l.v,s);else{var h=s.type,v=s.proxy;l.removeEventListener?l.removeEventListener(h,v,s.capture):l.detachEvent?l.detachEvent(sA(h),v):l.addListener&&l.removeListener&&l.removeListener(v),(h=$v(l))?(h_(h,s),h.b==0&&(h.src=null,l[p_]=null)):Lv(s)}}}function sA(s){return s in v_?v_[s]:v_[s]="on"+s}function aA(s,l,h,v){var y=!0;if((s=$v(s))&&(l=s.a[l.toString()]))for(l=l.concat(),s=0;s<l.length;s++){var E=l[s];E&&E.capture==h&&!E.wa&&(E=uA(E,v),y=y&&E!==!1)}return y}function uA(s,l){var h=s.listener,v=s.Wa||s.src;return s.Qa&&oA(s),h.call(v,l)}function eW(s,l){if(s.wa)return!0;if(!rA){if(!l)e:{l=["window","event"];for(var h=c,v=0;v<l.length;v++)if(h=h[l[v]],h==null){l=null;break e}l=h}if(v=l,l=new Wa(v,this),h=!0,!(0>v.keyCode||v.returnValue!=null)){e:{var y=!1;if(v.keyCode==0)try{v.keyCode=-1;break e}catch{y=!0}(y||v.returnValue==null)&&(v.returnValue=!0)}for(v=[],y=l.b;y;y=y.parentNode)v.push(y);for(s=s.type,y=v.length-1;0<=y;y--){l.b=v[y];var E=aA(v[y],s,!0,l);h=h&&E}for(y=0;y<v.length;y++)l.b=v[y],E=aA(v[y],s,!1,l),h=h&&E}return h}return uA(s,new Wa(l,this))}function $v(s){return s=s[p_],s instanceof Fv?s:null}var m_="__closure_events_fn_"+(1e9*Math.random()>>>0);function y_(s){return _(s)?s:(s[m_]||(s[m_]=function(l){return s.handleEvent(l)}),s[m_])}function vr(){Mv.call(this),this.v=new Fv(this),this.bc=this,this.hb=null}L(vr,Mv),vr.prototype[Wf]=!0,vr.prototype.addEventListener=function(s,l,h,v){wi(this,s,l,h,v)},vr.prototype.removeEventListener=function(s,l,h,v){Xr(this,s,l,h,v)},vr.prototype.dispatchEvent=function(s){var l,h=this.hb;if(h)for(l=[];h;h=h.hb)l.push(h);h=this.bc;var v=s.type||s;if(typeof s=="string")s=new Mr(s,h);else if(s instanceof Mr)s.target=s.target||h;else{var y=s;s=new Mr(v,h),we(s,y)}if(y=!0,l)for(var E=l.length-1;0<=E;E--){var I=s.b=l[E];y=Uv(I,v,!0,s)&&y}if(I=s.b=h,y=Uv(I,v,!0,s)&&y,y=Uv(I,v,!1,s)&&y,l)for(E=0;E<l.length;E++)I=s.b=l[E],y=Uv(I,v,!1,s)&&y;return y},vr.prototype.Da=function(){if(vr.bb.Da.call(this),this.v){var s=this.v,l;for(l in s.a){for(var h=s.a[l],v=0;v<h.length;v++)Lv(h[v]);delete s.a[l],s.b--}}this.hb=null};function lA(s,l,h,v,y){s.v.add(String(l),h,!1,v,y)}function w_(s,l,h,v,y){s.v.add(String(l),h,!0,v,y)}function Uv(s,l,h,v){if(l=s.v.a[String(l)],!l)return!0;l=l.concat();for(var y=!0,E=0;E<l.length;++E){var I=l[E];if(I&&!I.wa&&I.capture==h){var A=I.listener,z=I.Wa||I.src;I.Qa&&h_(s.v,I),y=A.call(z,v)!==!1&&y}}return y&&!v.defaultPrevented}function __(s,l,h){if(_(s))h&&(s=R(s,h));else if(s&&typeof s.handleEvent=="function")s=R(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(s,l||0)}function kl(s){var l=null;return new He(function(h,v){l=__(function(){h(void 0)},s),l==-1&&v(Error("Failed to schedule timer."))}).o(function(h){throw c.clearTimeout(l),h})}function cA(s){if(s.X&&typeof s.X=="function")return s.X();if(typeof s=="string")return s.split("");if(w(s)){for(var l=[],h=s.length,v=0;v<h;v++)l.push(s[v]);return l}l=[],h=0;for(v in s)l[h++]=s[v];return l}function fA(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.X||typeof s.X!="function"){if(w(s)||typeof s=="string"){var l=[];s=s.length;for(var h=0;h<s;h++)l.push(h);return l}l=[],h=0;for(var v in s)l[h++]=v;return l}}function tW(s,l){if(s.forEach&&typeof s.forEach=="function")s.forEach(l,void 0);else if(w(s)||typeof s=="string")ye(s,l,void 0);else for(var h=fA(s),v=cA(s),y=v.length,E=0;E<y;E++)l.call(void 0,v[E],h&&h[E],s)}function xl(s,l){this.b={},this.a=[],this.c=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var v=0;v<h;v+=2)this.set(arguments[v],arguments[v+1])}else if(s)if(s instanceof xl)for(h=s.Y(),v=0;v<h.length;v++)this.set(h[v],s.get(h[v]));else for(v in s)this.set(v,s[v])}e=xl.prototype,e.X=function(){b_(this);for(var s=[],l=0;l<this.a.length;l++)s.push(this.b[this.a[l]]);return s},e.Y=function(){return b_(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function b_(s){if(s.c!=s.a.length){for(var l=0,h=0;l<s.a.length;){var v=s.a[l];Ha(s.b,v)&&(s.a[h++]=v),l++}s.a.length=h}if(s.c!=s.a.length){var y={};for(h=l=0;l<s.a.length;)v=s.a[l],Ha(y,v)||(s.a[h++]=v,y[v]=1),l++;s.a.length=h}}e.get=function(s,l){return Ha(this.b,s)?this.b[s]:l},e.set=function(s,l){Ha(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=l},e.forEach=function(s,l){for(var h=this.Y(),v=0;v<h.length;v++){var y=h[v],E=this.get(y);s.call(l,E,y,this)}};function Ha(s,l){return Object.prototype.hasOwnProperty.call(s,l)}var hA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nW(s,l){if(s){s=s.split("&");for(var h=0;h<s.length;h++){var v=s[h].indexOf("="),y=null;if(0<=v){var E=s[h].substring(0,v);y=s[h].substring(v+1)}else E=s[h];l(E,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function Cs(s,l){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var h;s instanceof Cs?(this.i=l!==void 0?l:s.i,Hf(this,s.c),this.l=s.l,this.a=s.a,Kf(this,s.g),this.f=s.f,E_(this,gA(s.b)),this.h=s.h):s&&(h=String(s).match(hA))?(this.i=!!l,Hf(this,h[1]||"",!0),this.l=Gf(h[2]||""),this.a=Gf(h[3]||"",!0),Kf(this,h[4]),this.f=Gf(h[5]||"",!0),E_(this,h[6]||"",!0),this.h=Gf(h[7]||"")):(this.i=!!l,this.b=new Ka(null,this.i))}Cs.prototype.toString=function(){var s=[],l=this.c;l&&s.push(Qf(l,dA,!0),":");var h=this.a;return(h||l=="file")&&(s.push("//"),(l=this.l)&&s.push(Qf(l,dA,!0),"@"),s.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.g,h!=null&&s.push(":",String(h))),(h=this.f)&&(this.a&&h.charAt(0)!="/"&&s.push("/"),s.push(Qf(h,h.charAt(0)=="/"?oW:iW,!0))),(h=this.b.toString())&&s.push("?",h),(h=this.h)&&s.push("#",Qf(h,aW)),s.join("")},Cs.prototype.resolve=function(s){var l=new Cs(this),h=!!s.c;h?Hf(l,s.c):h=!!s.l,h?l.l=s.l:h=!!s.a,h?l.a=s.a:h=s.g!=null;var v=s.f;if(h)Kf(l,s.g);else if(h=!!s.f){if(v.charAt(0)!="/")if(this.a&&!this.f)v="/"+v;else{var y=l.f.lastIndexOf("/");y!=-1&&(v=l.f.substr(0,y+1)+v)}if(y=v,y==".."||y==".")v="";else if(Je(y,"./")||Je(y,"/.")){v=y.lastIndexOf("/",0)==0,y=y.split("/");for(var E=[],I=0;I<y.length;){var A=y[I++];A=="."?v&&I==y.length&&E.push(""):A==".."?((1<E.length||E.length==1&&E[0]!="")&&E.pop(),v&&I==y.length&&E.push("")):(E.push(A),v=!0)}v=E.join("/")}else v=y}return h?l.f=v:h=s.b.toString()!=="",h?E_(l,gA(s.b)):h=!!s.h,h&&(l.h=s.h),l};function Hf(s,l,h){s.c=h?Gf(l,!0):l,s.c&&(s.c=s.c.replace(/:$/,""))}function Kf(s,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);s.g=l}else s.g=null}function E_(s,l,h){l instanceof Ka?(s.b=l,uW(s.b,s.i)):(h||(l=Qf(l,sW)),s.b=new Ka(l,s.i))}function Kt(s,l,h){s.b.set(l,h)}function _i(s,l){return s.b.get(l)}function Lr(s){return s instanceof Cs?new Cs(s):new Cs(s,void 0)}function jv(s,l,h,v){var y=new Cs(null,void 0);return s&&Hf(y,s),l&&(y.a=l),h&&Kf(y,h),v&&(y.f=v),y}function Gf(s,l){return s?l?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Qf(s,l,h){return typeof s=="string"?(s=encodeURI(s).replace(l,rW),h&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function rW(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var dA=/[#\/\?@]/g,iW=/[#\?:]/g,oW=/[#\?]/g,sW=/[#\?@]/g,aW=/#/g;function Ka(s,l){this.b=this.a=null,this.c=s||null,this.f=!!l}function ks(s){s.a||(s.a=new xl,s.b=0,s.c&&nW(s.c,function(l,h){s.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}function pA(s){var l=fA(s);if(typeof l>"u")throw Error("Keys are undefined");var h=new Ka(null,void 0);s=cA(s);for(var v=0;v<l.length;v++){var y=l[v],E=s[v];Array.isArray(E)?vA(h,y,E):h.add(y,E)}return h}e=Ka.prototype,e.add=function(s,l){ks(this),this.c=null,s=Rl(this,s);var h=this.a.get(s);return h||this.a.set(s,h=[]),h.push(l),this.b+=1,this};function vo(s,l){ks(s),l=Rl(s,l),Ha(s.a.b,l)&&(s.c=null,s.b-=s.a.get(l).length,s=s.a,Ha(s.b,l)&&(delete s.b[l],s.c--,s.a.length>2*s.c&&b_(s)))}e.clear=function(){this.a=this.c=null,this.b=0};function S_(s,l){return ks(s),l=Rl(s,l),Ha(s.a.b,l)}e.forEach=function(s,l){ks(this),this.a.forEach(function(h,v){ye(h,function(y){s.call(l,y,v,this)},this)},this)},e.Y=function(){ks(this);for(var s=this.a.X(),l=this.a.Y(),h=[],v=0;v<l.length;v++)for(var y=s[v],E=0;E<y.length;E++)h.push(l[v]);return h},e.X=function(s){ks(this);var l=[];if(typeof s=="string")S_(this,s)&&(l=nt(l,this.a.get(Rl(this,s))));else{s=this.a.X();for(var h=0;h<s.length;h++)l=nt(l,s[h])}return l},e.set=function(s,l){return ks(this),this.c=null,s=Rl(this,s),S_(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[l]),this.b+=1,this},e.get=function(s,l){return s?(s=this.X(s),0<s.length?String(s[0]):l):l};function vA(s,l,h){vo(s,l),0<h.length&&(s.c=null,s.a.set(Rl(s,l),St(h)),s.b+=h.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],l=this.a.Y(),h=0;h<l.length;h++){var v=l[h],y=encodeURIComponent(String(v));v=this.X(v);for(var E=0;E<v.length;E++){var I=y;v[E]!==""&&(I+="="+encodeURIComponent(String(v[E]))),s.push(I)}}return this.c=s.join("&")};function gA(s){var l=new Ka;return l.c=s.c,s.a&&(l.a=new xl(s.a),l.b=s.b),l}function Rl(s,l){return l=String(l),s.f&&(l=l.toLowerCase()),l}function uW(s,l){l&&!s.f&&(ks(s),s.c=null,s.a.forEach(function(h,v){var y=v.toLowerCase();v!=y&&(vo(this,v),vA(this,y,h))},s)),s.f=l}function mA(s){var l=[];return T_(new lW,s,l),l.join("")}function lW(){}function T_(s,l,h){if(l==null)h.push("null");else{if(typeof l=="object"){if(Array.isArray(l)){var v=l;l=v.length,h.push("[");for(var y="",E=0;E<l;E++)h.push(y),T_(s,v[E],h),y=",";h.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{h.push("{"),y="";for(v in l)Object.prototype.hasOwnProperty.call(l,v)&&(E=l[v],typeof E!="function"&&(h.push(y),wA(v,h),h.push(":"),T_(s,E,h),y=","));h.push("}");return}}switch(typeof l){case"string":wA(l,h);break;case"number":h.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":h.push(String(l));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var yA={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},cW=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function wA(s,l){l.push('"',s.replace(cW,function(h){var v=yA[h];return v||(v="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),yA[h]=v),v}),'"')}function I_(){var s=Mn();return Bi&&!!Is&&Is==11||/Edge\/\d+/.test(s)}function Yf(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function _A(s,l){l=l||c.window;var h="about:blank";s&&(h=Nv(xN(s)||NN)),l.location.href=h}function bA(s,l){var h=[],v;for(v in s)v in l?typeof s[v]!=typeof l[v]?h.push(v):typeof s[v]=="object"&&s[v]!=null&&l[v]!=null?0<bA(s[v],l[v]).length&&h.push(v):s[v]!==l[v]&&h.push(v):h.push(v);for(v in l)v in s||h.push(v);return h}function fW(){var s=Mn();return s=Nl(s)!=IA?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!Bi||!Is||9<Is}function EA(s){return s=(s||Mn()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function Ga(s){s=s||c.window;try{s.close()}catch{}}function SA(s,l,h){var v=Math.floor(1e9*Math.random()).toString();l=l||500,h=h||600;var y=(window.screen.availHeight-h)/2,E=(window.screen.availWidth-l)/2;l={width:l,height:h,top:0<y?y:0,left:0<E?E:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},h=Mn().toLowerCase(),v&&(l.target=v,Je(h,"crios/")&&(l.target="_blank")),Nl(Mn())==x_&&(s=s||"http://localhost",l.scrollbars=!0),h=s||"",(s=l)||(s={}),v=window,l=h instanceof Dr?h:xN(typeof h.href<"u"?h.href:String(h))||NN,h=s.target||h.target,y=[];for(I in s)switch(I){case"width":case"height":case"top":case"left":y.push(I+"="+s[I]);break;case"target":case"noopener":case"noreferrer":break;default:y.push(I+"="+(s[I]?1:0))}var I=y.join(",");if((ke("iPhone")&&!ke("iPod")&&!ke("iPad")||ke("iPad")||ke("iPod"))&&v.navigator&&v.navigator.standalone&&h&&h!="_self"?(I=Pv(document,"A"),Ts(I,"HTMLAnchorElement"),l=l instanceof Dr?l:RN(l),I.href=Nv(l),I.setAttribute("target",h),s.noreferrer&&I.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,v,1),I.dispatchEvent(s),I={}):s.noreferrer?(I=PN("",v,h,I),s=Nv(l),I&&(Mq&&Je(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),I.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+n_(s)+'">',s=(v=TN())?v.createHTML(s):s,s=new Il(s,null,AN),v=I.document)&&(v.write(Aq(s)),v.close())):(I=PN(l,v,h,I))&&s.noopener&&(I.opener=null),I)try{I.focus()}catch{}return I}function hW(s){return new He(function(l){function h(){kl(2e3).then(function(){if(!s||s.closed)l();else return h()})}return h()})}var dW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pW=/^[^@]+@[^@]+$/;function Vv(){var s=null;return new He(function(l){c.document.readyState=="complete"?l():(s=function(){l()},g_(window,"load",s))}).o(function(l){throw Xr(window,"load",s),l})}function vW(){return C_(void 0)?Vv().then(function(){return new He(function(s,l){var h=c.document,v=setTimeout(function(){l(Error("Cordova framework is not ready."))},1e3);h.addEventListener("deviceready",function(){clearTimeout(v),s()},!1)})}):Nt(Error("Cordova must run in an Android or iOS file scheme."))}function C_(s){return s=s||Mn(),!(Pl()!=="file:"&&Pl()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function k_(){var s=c.window;try{return!(!s||s==s.top)}catch{return!1}}function zi(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function go(){return ge.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ge.INTERNAL.hasOwnProperty("node")?"Node":zi()?"Worker":"Browser"}function TA(){var s=go();return s==="ReactNative"||s==="Node"}function gW(){for(var s=50,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}var x_="Firefox",IA="Chrome";function Nl(s){var l=s.toLowerCase();if(Je(l,"opera/")||Je(l,"opr/")||Je(l,"opios/"))return"Opera";if(Je(l,"iemobile"))return"IEMobile";if(Je(l,"msie")||Je(l,"trident/"))return"IE";if(Je(l,"edge/"))return"Edge";if(Je(l,"firefox/"))return x_;if(Je(l,"silk/"))return"Silk";if(Je(l,"blackberry"))return"Blackberry";if(Je(l,"webos"))return"Webos";if(!Je(l,"safari/")||Je(l,"chrome/")||Je(l,"crios/")||Je(l,"android"))if(!Je(l,"chrome/")&&!Je(l,"crios/")||Je(l,"edge/")){if(Je(l,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return IA;else return"Safari";return"Other"}var CA={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Al(s,l){l=l||[];var h=[],v={},y;for(y in CA)v[CA[y]]=!0;for(y=0;y<l.length;y++)typeof v[l[y]]<"u"&&(delete v[l[y]],h.push(l[y]));return h.sort(),l=h,l.length||(l=["FirebaseCore-web"]),h=go(),h==="Browser"?(v=Mn(),h=Nl(v)):h==="Worker"&&(v=Mn(),h=Nl(v)+"-"+h),h+"/JsCore/"+s+"/"+l.join(",")}function Mn(){return c.navigator&&c.navigator.userAgent||""}function At(s,l){s=s.split("."),l=l||c;for(var h=0;h<s.length&&typeof l=="object"&&l!=null;h++)l=l[s[h]];return h!=s.length&&(l=void 0),l}function R_(){try{var s=c.localStorage,l=Ya();if(s)return s.setItem(l,"1"),s.removeItem(l),I_()?!!c.indexedDB:!0}catch{return zi()&&!!c.indexedDB}return!1}function Qa(){return(Bv()||Pl()==="chrome-extension:"||C_())&&!TA()&&R_()&&!zi()}function Bv(){return Pl()==="http:"||Pl()==="https:"}function Pl(){return c.location&&c.location.protocol||null}function Xf(s){return s=s||Mn(),!(EA(s)||Nl(s)==x_)}function Jf(s){return typeof s>"u"?null:mA(s)}function kA(s){var l={},h;for(h in s)s.hasOwnProperty(h)&&s[h]!==null&&s[h]!==void 0&&(l[h]=s[h]);return l}function Ol(s){if(s!==null)return JSON.parse(s)}function Ya(s){return s||Math.floor(1e9*Math.random()).toString()}function xA(s){return s=s||Mn(),!(Nl(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function RA(){var s=c.___jsl;if(s&&s.H){for(var l in s.H)if(s.H[l].r=s.H[l].r||[],s.H[l].L=s.H[l].L||[],s.H[l].r=s.H[l].L.concat(),s.CP)for(var h=0;h<s.CP.length;h++)s.CP[h]=null}}function xs(s,l){if(s>l)throw Error("Short delay should be less than long delay!");this.a=s,this.c=l,s=Mn(),l=go(),this.b=EA(s)||l==="ReactNative"}xs.prototype.get=function(){var s=c.navigator;return!(s&&typeof s.onLine=="boolean"&&(Bv()||Pl()==="chrome-extension:"||typeof s.connection<"u"))||s.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function N_(){var s=c.document;return s&&typeof s.visibilityState<"u"?s.visibilityState=="visible":!0}function mW(){var s=c.document,l=null;return N_()||!s?be():new He(function(h){l=function(){N_()&&(s.removeEventListener("visibilitychange",l,!1),h())},s.addEventListener("visibilitychange",l,!1)}).o(function(h){throw s.removeEventListener("visibilitychange",l,!1),h})}function Zf(s){try{var l=new Date(parseInt(s,10));if(!isNaN(l.getTime())&&!/[^0-9]/.test(s))return l.toUTCString()}catch{}return null}function NA(){return!(!At("fireauth.oauthhelper",c)&&!At("fireauth.iframe",c))}function yW(){var s=c.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function wW(){var s=c.navigator;return s&&s.serviceWorker?be().then(function(){return s.serviceWorker.ready}).then(function(l){return l.active||null}).o(function(){return null}):be(null)}var AA={};function A_(s){AA[s]||(AA[s]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(s))}var P_;try{var O_={};Object.defineProperty(O_,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(O_,"abcd",{configurable:!0,enumerable:!0,value:2}),P_=O_.abcd==2}catch{P_=!1}function he(s,l,h){P_?Object.defineProperty(s,l,{configurable:!0,enumerable:!0,value:h}):s[l]=h}function gr(s,l){if(l)for(var h in l)l.hasOwnProperty(h)&&he(s,h,l[h])}function mo(s){var l={};return gr(l,s),l}function _W(s){var l={},h;for(h in s)s.hasOwnProperty(h)&&(l[h]=s[h]);return l}function bW(s,l){if(!l||!l.length)return!0;if(!s)return!1;for(var h=0;h<l.length;h++){var v=s[l[h]];if(v==null||v==="")return!1}return!0}function D_(s){var l=s;if(typeof s=="object"&&s!=null){l="length"in s?[]:{};for(var h in s)he(l,h,D_(s[h]))}return l}function M_(s){var l=s&&(s[U_]?"phone":null);if(l&&s&&s[$_]){he(this,"uid",s[$_]),he(this,"displayName",s[PA]||null);var h=null;s[F_]&&(h=new Date(s[F_]).toUTCString()),he(this,"enrollmentTime",h),he(this,"factorId",l)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}M_.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function L_(s){try{var l=new eh(s)}catch{l=null}return l}var PA="displayName",F_="enrolledAt",$_="mfaEnrollmentId",U_="phoneInfo";function eh(s){M_.call(this,s),he(this,"phoneNumber",s[U_])}L(eh,M_),eh.prototype.w=function(){var s=eh.bb.w.call(this);return s.phoneNumber=this.phoneNumber,s};function EW(s){var l={},h=s[SW],v=s[IW],y=s[CW];if(s=L_(s[TW]),!y||y!=zv&&y!=th&&!h||y==th&&!v||y==j_&&!s)throw Error("Invalid checkActionCode response!");y==th?(l[DA]=h||null,l[MA]=h||null,l[OA]=v):(l[DA]=v||null,l[MA]=v||null,l[OA]=h||null),l[kW]=s||null,he(this,RW,y),he(this,xW,D_(l))}var j_="REVERT_SECOND_FACTOR_ADDITION",zv="EMAIL_SIGNIN",th="VERIFY_AND_CHANGE_EMAIL",SW="email",TW="mfaInfo",IW="newEmail",CW="requestType",OA="email",DA="fromEmail",kW="multiFactorInfo",MA="previousEmail",xW="data",RW="operation";function V_(s){s=Lr(s);var l=_i(s,LA)||null,h=_i(s,FA)||null,v=_i(s,$A)||null;if(v=v&&OW[v]||null,!l||!h||!v)throw new k("argument-error",LA+", "+FA+"and "+$A+" are required in a valid action code URL.");gr(this,{apiKey:l,operation:v,code:h,continueUrl:_i(s,NW)||null,languageCode:_i(s,AW)||null,tenantId:_i(s,PW)||null})}var LA="apiKey",FA="oobCode",NW="continueUrl",AW="languageCode",$A="mode",PW="tenantId",OW={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:j_,signIn:zv,verifyAndChangeEmail:th,verifyEmail:"VERIFY_EMAIL"};function UA(s){try{return new V_(s)}catch{return null}}function qv(s){var l=s[DW];if(typeof l>"u")throw new k("missing-continue-uri");if(typeof l!="string"||typeof l=="string"&&!l.length)throw new k("invalid-continue-uri");this.h=l,this.b=this.a=null,this.g=!1;var h=s[jA];if(h&&typeof h=="object"){l=h[WA];var v=h[zA];if(h=h[qA],typeof l=="string"&&l.length){if(this.a=l,typeof v<"u"&&typeof v!="boolean")throw new k("argument-error",zA+" property must be a boolean when specified.");if(this.g=!!v,typeof h<"u"&&(typeof h!="string"||typeof h=="string"&&!h.length))throw new k("argument-error",qA+" property must be a non empty string when specified.");this.b=h||null}else{if(typeof l<"u")throw new k("argument-error",WA+" property must be a non empty string when specified.");if(typeof v<"u"||typeof h<"u")throw new k("missing-android-pkg-name")}}else if(typeof h<"u")throw new k("argument-error",jA+" property must be a non null object when specified.");if(this.f=null,(l=s[BA])&&typeof l=="object"){if(l=l[HA],typeof l=="string"&&l.length)this.f=l;else if(typeof l<"u")throw new k("argument-error",HA+" property must be a non empty string when specified.")}else if(typeof l<"u")throw new k("argument-error",BA+" property must be a non null object when specified.");if(l=s[B_],typeof l<"u"&&typeof l!="boolean")throw new k("argument-error",B_+" property must be a boolean when specified.");if(this.c=!!l,s=s[VA],typeof s<"u"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new k("argument-error",VA+" property must be a non empty string when specified.");this.i=s||null}var jA="android",VA="dynamicLinkDomain",B_="handleCodeInApp",BA="iOS",DW="url",zA="installApp",qA="minimumVersion",WA="packageName",HA="bundleId";function Wv(s){var l={};l.continueUrl=s.h,l.canHandleCodeInApp=s.c,(l.androidPackageName=s.a)&&(l.androidMinimumVersion=s.b,l.androidInstallApp=s.g),l.iOSBundleId=s.f,l.dynamicLinkDomain=s.i;for(var h in l)l[h]===null&&delete l[h];return l}function MW(s){return Oe(s,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}var nh=null;function LW(s){var l=[];return FW(s,function(h){l.push(h)}),l}function FW(s,l){function h(z){for(;v<s.length;){var W=s.charAt(v++),Pe=nh[W];if(Pe!=null)return Pe;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return z}$W();for(var v=0;;){var y=h(-1),E=h(0),I=h(64),A=h(64);if(A===64&&y===-1)break;l(y<<2|E>>4),I!=64&&(l(E<<4&240|I>>2),A!=64&&l(I<<6&192|A))}}function $W(){if(!nh){nh={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=["+/=","+/","-_=","-_.","-_"],h=0;5>h;h++)for(var v=s.concat(l[h].split("")),y=0;y<v.length;y++){var E=v[y];nh[E]===void 0&&(nh[E]=y)}}}function Hv(s){var l=KA(s);if(!(l&&l.sub&&l.iss&&l.aud&&l.exp))throw Error("Invalid JWT");this.h=s,this.a=l.exp,this.i=l.sub,s=Date.now()/1e3,this.g=l.iat||(s>this.a?this.a:s),this.b=l.provider_id||l.firebase&&l.firebase.sign_in_provider||null,this.f=l.firebase&&l.firebase.tenant||null,this.c=!!l.is_anonymous||this.b=="anonymous"}Hv.prototype.T=function(){return this.f},Hv.prototype.l=function(){return this.c},Hv.prototype.toString=function(){return this.h};function Kv(s){try{return new Hv(s)}catch{return null}}function KA(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var l=(4-s.length%4)%4,h=0;h<l;h++)s+=".";try{var v=LW(s);for(s=[],h=l=0;l<v.length;){var y=v[l++];if(128>y)s[h++]=String.fromCharCode(y);else if(191<y&&224>y){var E=v[l++];s[h++]=String.fromCharCode((y&31)<<6|E&63)}else if(239<y&&365>y){E=v[l++];var I=v[l++],A=v[l++],z=((y&7)<<18|(E&63)<<12|(I&63)<<6|A&63)-65536;s[h++]=String.fromCharCode(55296+(z>>10)),s[h++]=String.fromCharCode(56320+(z&1023))}else E=v[l++],I=v[l++],s[h++]=String.fromCharCode((y&15)<<12|(E&63)<<6|I&63)}return JSON.parse(s.join(""))}catch{}return null}var GA="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gv=["client_id","response_type","scope","redirect_uri","state"],z_={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gv},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gv},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gv},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:GA},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function q_(s){for(var l in z_)if(z_[l].fa==s)return z_[l];return null}function QA(s){var l={};l["facebook.com"]=XA,l["google.com"]=ZA,l["github.com"]=JA,l["twitter.com"]=eP;var h=s&&s[YA];try{if(h)return l[h]?new l[h](s):new yo(s);if(typeof s[W_]<"u")return new H_(s)}catch{}return null}var W_="idToken",YA="providerId";function H_(s){var l=s[YA];if(!l&&s[W_]){var h=Kv(s[W_]);h&&h.b&&(l=h.b)}if(!l)throw Error("Invalid additional user info!");(l=="anonymous"||l=="custom")&&(l=null),h=!1,typeof s.isNewUser<"u"?h=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(h=!0),he(this,"providerId",l),he(this,"isNewUser",h)}function yo(s){H_.call(this,s),s=Ol(s.rawUserInfo||"{}"),he(this,"profile",D_(s||{}))}L(yo,H_);function XA(s){if(yo.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}L(XA,yo);function JA(s){if(yo.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");he(this,"username",this.profile&&this.profile.login||null)}L(JA,yo);function ZA(s){if(yo.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}L(ZA,yo);function eP(s){if(yo.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");he(this,"username",s.screenName||null)}L(eP,yo);function tP(s){var l=Lr(s),h=_i(l,"link"),v=_i(Lr(h),"link");return l=_i(l,"deep_link_id"),_i(Lr(l),"link")||l||v||h||s}function Qv(s,l){if(!s&&!l)throw new k("internal-error","Internal assert: no raw session string available");if(s&&l)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=l||null,this.type=this.a?rh:Yv}var rh="enroll",Yv="signin";Qv.prototype.Ha=function(){return this.a?be(this.a):be(this.b)},Qv.prototype.w=function(){return this.type==rh?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Dl(){}Dl.prototype.ka=function(){},Dl.prototype.b=function(){},Dl.prototype.c=function(){},Dl.prototype.w=function(){};function Ml(s,l){return s.then(function(h){if(h[Hi]){var v=Kv(h[Hi]);if(!v||l!=v.i)throw new k("user-mismatch");return h}throw new k("user-mismatch")}).o(function(h){throw h&&h.code&&h.code==J+"user-not-found"?new k("user-mismatch"):h})}function Xa(s,l){if(l)this.a=l;else throw new k("internal-error","failed to construct a credential");he(this,"providerId",s),he(this,"signInMethod",s)}Xa.prototype.ka=function(s){return gb(s,K_(this))},Xa.prototype.b=function(s,l){var h=K_(this);return h.idToken=l,mb(s,h)},Xa.prototype.c=function(s,l){return Ml(yb(s,K_(this)),l)};function K_(s){return{pendingToken:s.a,requestUri:"http://localhost"}}Xa.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function UW(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new Xa(s.providerId,s.pendingToken)}catch{}return null}function qo(s,l,h){if(this.a=null,l.idToken||l.accessToken)l.idToken&&he(this,"idToken",l.idToken),l.accessToken&&he(this,"accessToken",l.accessToken),l.nonce&&!l.pendingToken&&he(this,"nonce",l.nonce),l.pendingToken&&(this.a=l.pendingToken);else if(l.oauthToken&&l.oauthTokenSecret)he(this,"accessToken",l.oauthToken),he(this,"secret",l.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");he(this,"providerId",s),he(this,"signInMethod",h)}qo.prototype.ka=function(s){return gb(s,G_(this))},qo.prototype.b=function(s,l){var h=G_(this);return h.idToken=l,mb(s,h)},qo.prototype.c=function(s,l){var h=G_(this);return Ml(yb(s,h),l)};function G_(s){var l={};return s.idToken&&(l.id_token=s.idToken),s.accessToken&&(l.access_token=s.accessToken),s.secret&&(l.oauth_token_secret=s.secret),l.providerId=s.providerId,s.nonce&&!s.a&&(l.nonce=s.nonce),l={postBody:pA(l).toString(),requestUri:"http://localhost"},s.a&&(delete l.postBody,l.pendingToken=s.a),l}qo.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function jW(s){if(s&&s.providerId&&s.signInMethod){var l={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new qo(s.providerId,l,s.signInMethod)}catch{}}return null}function Ja(s,l){this.Qc=l||[],gr(this,{providerId:s,isOAuthProvider:!0}),this.Jb={},this.qb=(q_(s)||{}).Ja||null,this.pb=null}Ja.prototype.Ka=function(s){return this.Jb=It(s),this};function nP(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');Ja.call(this,s,[])}L(nP,Ja);function Jr(s){Ja.call(this,s,Gv),this.a=[]}L(Jr,Ja),Jr.prototype.Ca=function(s){return Ae(this.a,s)||this.a.push(s),this},Jr.prototype.Rb=function(){return St(this.a)},Jr.prototype.credential=function(s,l){var h;if(T(s)?h={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:h={idToken:s||null,accessToken:l||null},!h.idToken&&!h.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new qo(this.providerId,h,this.providerId)};function Za(){Jr.call(this,"facebook.com")}L(Za,Jr),he(Za,"PROVIDER_ID","facebook.com"),he(Za,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function rP(s){if(!s)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return T(s)&&(l=s.accessToken),new Za().credential({accessToken:l})}function eu(){Jr.call(this,"github.com")}L(eu,Jr),he(eu,"PROVIDER_ID","github.com"),he(eu,"GITHUB_SIGN_IN_METHOD","github.com");function iP(s){if(!s)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return T(s)&&(l=s.accessToken),new eu().credential({accessToken:l})}function tu(){Jr.call(this,"google.com"),this.Ca("profile")}L(tu,Jr),he(tu,"PROVIDER_ID","google.com"),he(tu,"GOOGLE_SIGN_IN_METHOD","google.com");function oP(s,l){var h=s;return T(s)&&(h=s.idToken,l=s.accessToken),new tu().credential({idToken:h,accessToken:l})}function Ll(){Ja.call(this,"twitter.com",GA)}L(Ll,Ja),he(Ll,"PROVIDER_ID","twitter.com"),he(Ll,"TWITTER_SIGN_IN_METHOD","twitter.com");function sP(s,l){var h=s;if(T(h)||(h={oauthToken:s,oauthTokenSecret:l}),!h.oauthToken||!h.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new qo("twitter.com",h,"twitter.com")}function Rs(s,l,h){this.a=s,this.f=l,he(this,"providerId","password"),he(this,"signInMethod",h===bi.EMAIL_LINK_SIGN_IN_METHOD?bi.EMAIL_LINK_SIGN_IN_METHOD:bi.EMAIL_PASSWORD_SIGN_IN_METHOD)}Rs.prototype.ka=function(s){return this.signInMethod==bi.EMAIL_LINK_SIGN_IN_METHOD?Ge(s,TH,{email:this.a,oobCode:this.f}):Ge(s,DP,{email:this.a,password:this.f})},Rs.prototype.b=function(s,l){return this.signInMethod==bi.EMAIL_LINK_SIGN_IN_METHOD?Ge(s,IH,{idToken:l,email:this.a,oobCode:this.f}):Ge(s,OP,{idToken:l,email:this.a,password:this.f})},Rs.prototype.c=function(s,l){return Ml(this.ka(s),l)},Rs.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function VW(s){return s&&s.email&&s.password?new Rs(s.email,s.password,s.signInMethod):null}function bi(){gr(this,{providerId:"password",isOAuthProvider:!1})}function aP(s,l){if(l=Q_(l),!l)throw new k("argument-error","Invalid email link!");return new Rs(s,l.code,bi.EMAIL_LINK_SIGN_IN_METHOD)}function Q_(s){return s=tP(s),(s=UA(s))&&s.operation===zv?s:null}gr(bi,{PROVIDER_ID:"password"}),gr(bi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),gr(bi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ns(s){if(!(s.fb&&s.eb||s.La&&s.ea))throw new k("internal-error");this.a=s,he(this,"providerId","phone"),this.fa="phone",he(this,"signInMethod","phone")}Ns.prototype.ka=function(s){return s.gb(ih(this))},Ns.prototype.b=function(s,l){var h=ih(this);return h.idToken=l,Ge(s,WH,h)},Ns.prototype.c=function(s,l){var h=ih(this);return h.operation="REAUTH",s=Ge(s,HH,h),Ml(s,l)},Ns.prototype.w=function(){var s={providerId:"phone"};return this.a.fb&&(s.verificationId=this.a.fb),this.a.eb&&(s.verificationCode=this.a.eb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function BW(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var l={};return ye(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(h){s[h]&&(l[h]=s[h])}),new Ns(l)}return null}function ih(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.fb,code:s.a.eb}}function Wo(s){try{this.a=s||ge.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}gr(this,{providerId:"phone",isOAuthProvider:!1})}Wo.prototype.gb=function(s,l){var h=this.a.a;return be(l.verify()).then(function(v){if(typeof v!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(l.type){case"recaptcha":var y=T(s)?s.session:null,E=T(s)?s.phoneNumber:s,I;return y&&y.type==rh?I=y.Ha().then(function(A){return vH(h,{idToken:A,phoneEnrollmentInfo:{phoneNumber:E,recaptchaToken:v}})}):y&&y.type==Yv?I=y.Ha().then(function(A){return gH(h,{mfaPendingCredential:A,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:v}})}):I=pH(h,{phoneNumber:E,recaptchaToken:v}),I.then(function(A){return typeof l.reset=="function"&&l.reset(),A},function(A){throw typeof l.reset=="function"&&l.reset(),A});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function uP(s,l){if(!s)throw new k("missing-verification-id");if(!l)throw new k("missing-verification-code");return new Ns({fb:s,eb:l})}gr(Wo,{PROVIDER_ID:"phone"}),gr(Wo,{PHONE_SIGN_IN_METHOD:"phone"});function Y_(s){if(s.temporaryProof&&s.phoneNumber)return new Ns({La:s.temporaryProof,ea:s.phoneNumber});var l=s&&s.providerId;if(!l||l==="password")return null;var h=s&&s.oauthAccessToken,v=s&&s.oauthTokenSecret,y=s&&s.nonce,E=s&&s.oauthIdToken,I=s&&s.pendingToken;try{switch(l){case"google.com":return oP(E,h);case"facebook.com":return rP(h);case"github.com":return iP(h);case"twitter.com":return sP(h,v);default:return h||v||E||I?I?l.indexOf("saml.")==0?new Xa(l,I):new qo(l,{pendingToken:I,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},l):new Jr(l).credential({idToken:E,accessToken:h,rawNonce:y}):null}}catch{return null}}function X_(s){if(!s.isOAuthProvider)throw new k("invalid-oauth-provider")}function qi(s,l,h,v,y,E,I){if(this.c=s,this.b=l||null,this.g=h||null,this.f=v||null,this.i=E||null,this.h=I||null,this.a=y||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}qi.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},qi.prototype.T=function(){return this.h},qi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function lP(s){return s=s||{},s.type?new qi(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&H(s.error),s.postBody,s.tenantId):null}function zW(){this.b=null,this.a=[]}var J_=null;function qW(s){var l=J_;l.a.push(s),l.b||(l.b=function(h){for(var v=0;v<l.a.length;v++)l.a[v](h)},s=At("universalLinks.subscribe",c),typeof s=="function"&&s(null,l.b))}function Z_(s){var l="unauthorized-domain",h=void 0,v=Lr(s);s=v.a,v=v.c,v=="chrome-extension"?h=ON("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):v=="http"||v=="https"?h=ON("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):l="operation-not-supported-in-this-environment",k.call(this,l,h)}L(Z_,k);function oh(s,l,h){k.call(this,s,h),s=l||{},s.Kb&&he(this,"email",s.Kb),s.ea&&he(this,"phoneNumber",s.ea),s.credential&&he(this,"credential",s.credential),s.$b&&he(this,"tenantId",s.$b)}L(oh,k),oh.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var l=this.credential&&this.credential.w();return l&&we(s,l),s},oh.prototype.toJSON=function(){return this.w()};function Xv(s){if(s.code){var l=s.code||"";l.indexOf(J)==0&&(l=l.substring(J.length));var h={credential:Y_(s),$b:s.tenantId};if(s.email)h.Kb=s.email;else if(s.phoneNumber)h.ea=s.phoneNumber;else if(!h.credential)return new k(l,s.message||void 0);return new oh(l,h,s.message)}return null}function sh(){}sh.prototype.c=null;function cP(s){return s.c||(s.c=s.b())}var eb;function Jv(){}L(Jv,sh),Jv.prototype.a=function(){var s=fP(this);return s?new ActiveXObject(s):new XMLHttpRequest},Jv.prototype.b=function(){var s={};return fP(this)&&(s[0]=!0,s[1]=!0),s};function fP(s){if(!s.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var l=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],h=0;h<l.length;h++){var v=l[h];try{return new ActiveXObject(v),s.f=v}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}eb=new Jv;function Zv(){}L(Zv,sh),Zv.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest<"u")return new hP;throw Error("Unsupported browser")},Zv.prototype.b=function(){return{}};function hP(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=R(this.qc,this),this.a.onerror=R(this.Tb,this),this.a.onprogress=R(this.rc,this),this.a.ontimeout=R(this.vc,this)}e=hP.prototype,e.open=function(s,l,h){if(h!=null&&!h)throw Error("Only async requests are supported.");this.a.open(s,l)},e.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,tb(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",tb(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,tb(this,1)};function tb(s,l){s.readyState=l,s.onreadystatechange&&s.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function nb(s,l,h){this.reset(s,l,h,void 0,void 0)}nb.prototype.a=null,nb.prototype.reset=function(s,l,h,v,y){delete this.a};function rb(s){this.f=s,this.b=this.c=this.a=null}function ah(s,l){this.name=s,this.value=l}ah.prototype.toString=function(){return this.name};var dP=new ah("SEVERE",1e3),ib=new ah("WARNING",900),WW=new ah("CONFIG",700),HW=new ah("FINE",500);function pP(s){return s.c?s.c:s.a?pP(s.a):(j("Root logger has no level set."),null)}rb.prototype.log=function(s,l,h){if(s.value>=pP(this).value)for(_(l)&&(l=l()),s=new nb(s,String(l),this.f),h&&(s.a=h),h=this;h;)h=h.a};var ob={},eg=null;function sb(s){eg||(eg=new rb(""),ob[""]=eg,eg.c=WW);var l;if(!(l=ob[s])){l=new rb(s);var h=s.lastIndexOf("."),v=s.substr(h+1);h=sb(s.substr(0,h)),h.b||(h.b={}),h.b[v]=l,l.a=h,ob[s]=l}return l}function Ei(s,l){s&&s.log(HW,l,void 0)}function tg(s){this.f=s}L(tg,sh),tg.prototype.a=function(){return new ng(this.f)},tg.prototype.b=function(s){return function(){return s}}({});function ng(s){vr.call(this),this.u=s,this.h=void 0,this.readyState=ab,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=sb("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}L(ng,vr);var ab=0;e=ng.prototype,e.open=function(s,l){if(this.readyState!=ab)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=l,this.readyState=1,lh(this)},e.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var l={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(l.body=s),this.u.fetch(new Request(this.f,l)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,uh(this)),this.readyState=ab},e.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,lh(this)),this.a&&(this.readyState=3,lh(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,vP(this)):s.text().then(this.tc.bind(this),this.Va.bind(this)))))};function vP(s){s.c.read().then(s.pc.bind(s)).catch(s.Va.bind(s))}e.pc=function(s){if(this.a){var l=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});l&&(this.response=this.responseText+=l),s.done?uh(this):lh(this),this.readyState==3&&vP(this)}},e.tc=function(s){this.a&&(this.response=this.responseText=s,uh(this))},e.sc=function(s){this.a&&(this.response=s,uh(this))},e.Va=function(s){var l=this.i;l&&l.log(ib,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&uh(this)};function uh(s){s.readyState=4,s.g=null,s.c=null,s.m=null,lh(s)}e.setRequestHeader=function(s,l){this.l.append(s,l)},e.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(ib,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(ib,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var l=this.b.entries(),h=l.next();!h.done;)h=h.value,s.push(h[0]+": "+h[1]),h=l.next();return s.join(`\r
`)};function lh(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(ng.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function ch(s){vr.call(this),this.headers=new xl,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=gP,this.u=this.S=!1}L(ch,vr);var gP="";ch.prototype.b=sb("goog.net.XhrIo");var KW=/^https?$/i,GW=["POST","PUT"];function QW(s,l,h,v,y){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+l);h=h?h.toUpperCase():"GET",s.l=l,s.h="",s.P=h,s.J=!1,s.c=!0,s.a=s.D?s.D.a():eb.a(),s.C=s.D?cP(s.D):cP(eb),s.a.onreadystatechange=R(s.Wb,s);try{Ei(s.b,Ho(s,"Opening Xhr")),s.N=!0,s.a.open(h,String(l),!0),s.N=!1}catch(I){Ei(s.b,Ho(s,"Error opening Xhr: "+I.message)),mP(s,I);return}l=v||"";var E=new xl(s.headers);y&&tW(y,function(I,A){E.set(A,I)}),y=lt(E.Y()),v=c.FormData&&l instanceof c.FormData,!Ae(GW,h)||y||v||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),E.forEach(function(I,A){this.a.setRequestHeader(A,I)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{_P(s),0<s.g&&(s.u=YW(s.a),Ei(s.b,Ho(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=R(s.Ma,s)):s.s=__(s.Ma,s.g,s)),Ei(s.b,Ho(s,"Sending request")),s.i=!0,s.a.send(l),s.i=!1}catch(I){Ei(s.b,Ho(s,"Send error: "+I.message)),mP(s,I)}}function YW(s){return Bi&&FN(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function XW(s){return s.toLowerCase()=="content-type"}e=ch.prototype,e.Ma=function(){typeof u<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ei(this.b,Ho(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function mP(s,l){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=l,yP(s),rg(s)}function yP(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Ei(this.b,Ho(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),rg(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),rg(this,!0)),ch.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?wP(this):this.Jc())},e.Jc=function(){wP(this)};function wP(s){if(s.c&&typeof u<"u"){if(s.C[1]&&fh(s)==4&&ig(s)==2)Ei(s.b,Ho(s,"Local request error detected and ignored"));else if(s.i&&fh(s)==4)__(s.Wb,0,s);else if(s.dispatchEvent("readystatechange"),fh(s)==4){Ei(s.b,Ho(s,"Request complete")),s.c=!1;try{var l=ig(s);e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var v;if(!(v=h)){var y;if(y=l===0){var E=String(s.l).match(hA)[1]||null;if(!E&&c.self&&c.self.location){var I=c.self.location.protocol;E=I.substr(0,I.length-1)}y=!KW.test(E?E.toLowerCase():"")}v=y}if(v)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var A=2<fh(s)?s.a.statusText:""}catch(z){Ei(s.b,"Can not get status: "+z.message),A=""}s.h=A+" ["+ig(s)+"]",yP(s)}}finally{rg(s)}}}}function rg(s,l){if(s.a){_P(s);var h=s.a,v=s.C[0]?g:null;s.a=null,s.C=null,l||s.dispatchEvent("ready");try{h.onreadystatechange=v}catch(y){(s=s.b)&&s.log(dP,"Problem encountered resetting onreadystatechange: "+y.message,void 0)}}}function _P(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(c.clearTimeout(s.s),s.s=null)}function fh(s){return s.a?s.a.readyState:0}function ig(s){try{return 2<fh(s)?s.a.status:-1}catch{return-1}}function JW(s){try{return s.a?s.a.responseText:""}catch(l){return Ei(s.b,"Can not get responseText: "+l.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case gP:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(dP,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(l){return Ei(this.b,"Can not get response: "+l.message),null}};function Ho(s,l){return l+" ["+s.P+" "+s.l+" "+ig(s)+"]"}function nu(s){var l=tH;this.g=[],this.u=l,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}nu.prototype.cancel=function(s){if(this.a)this.c instanceof nu&&this.c.cancel();else{if(this.b){var l=this.b;delete this.b,s?l.cancel(s):(l.l--,0>=l.l&&l.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new dh,og(this),hh(this,!1,s))}},nu.prototype.m=function(s,l){this.i=!1,hh(this,s,l)};function hh(s,l,h){s.a=!0,s.c=h,s.f=!l,EP(s)}function og(s){if(s.a){if(!s.v)throw new sg;s.v=!1}}function ZW(s,l){ub(s,null,l,void 0)}function ub(s,l,h,v){s.g.push([l,h,v]),s.a&&EP(s)}nu.prototype.then=function(s,l,h){var v,y,E=new He(function(I,A){v=I,y=A});return ub(this,v,function(I){I instanceof dh?E.cancel():y(I)}),E.then(s,l,h)},nu.prototype.$goog_Thenable=!0;function bP(s){return We(s.g,function(l){return _(l[1])})}function EP(s){if(s.h&&s.a&&bP(s)){var l=s.h,h=ag[l];h&&(c.clearTimeout(h.a),delete ag[l]),s.h=0}s.b&&(s.b.l--,delete s.b),l=s.c;for(var v=h=!1;s.g.length&&!s.i;){var y=s.g.shift(),E=y[0],I=y[1];if(y=y[2],E=s.f?I:E)try{var A=E.call(y||s.s,l);A!==void 0&&(s.f=s.f&&(A==l||A instanceof Error),s.c=l=A),(Te(l)||typeof c.Promise=="function"&&l instanceof c.Promise)&&(v=!0,s.i=!0)}catch(z){l=z,s.f=!0,bP(s)||(h=!0)}}s.c=l,v&&(A=R(s.m,s,!0),v=R(s.m,s,!1),l instanceof nu?(ub(l,A,v),l.C=!0):l.then(A,v)),h&&(l=new SP(l),ag[l.a]=l,s.h=l.a)}function sg(){U.call(this)}L(sg,U),sg.prototype.message="Deferred has already fired",sg.prototype.name="AlreadyCalledError";function dh(){U.call(this)}L(dh,U),dh.prototype.message="Deferred was canceled",dh.prototype.name="CanceledError";function SP(s){this.a=c.setTimeout(R(this.c,this),0),this.b=s}SP.prototype.c=function(){throw delete ag[this.a],this.b};var ag={};function lb(s){var l={},h=l.document||document,v=IN(s).toString(),y=Pv(document,"SCRIPT"),E={Xb:y,Ma:void 0},I=new nu(E),A=null,z=l.timeout!=null?l.timeout:5e3;return 0<z&&(A=window.setTimeout(function(){ug(y,!0);var W=new cb(rH,"Timeout reached for loading script "+v);og(I),hh(I,!1,W)},z),E.Ma=A),y.onload=y.onreadystatechange=function(){y.readyState&&y.readyState!="loaded"&&y.readyState!="complete"||(ug(y,l.xd||!1,A),og(I),hh(I,!0,null))},y.onerror=function(){ug(y,!0,A);var W=new cb(nH,"Error while loading script "+v);og(I),hh(I,!1,W)},E=l.attributes||{},we(E,{type:"text/javascript",charset:"UTF-8"}),UN(y,E),Pq(y,s),eH(h).appendChild(y),I}function eH(s){var l;return(l=(s||document).getElementsByTagName("HEAD"))&&l.length!=0?l[0]:s.documentElement}function tH(){if(this&&this.Xb){var s=this.Xb;s&&s.tagName=="SCRIPT"&&ug(s,!0,this.Ma)}}function ug(s,l,h){h!=null&&c.clearTimeout(h),s.onload=g,s.onerror=g,s.onreadystatechange=g,l&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var nH=0,rH=1;function cb(s,l){var h="Jsloader error (code #"+s+")";l&&(h+=": "+l),U.call(this,h),this.code=s}L(cb,U);function lg(s){this.f=s}L(lg,sh),lg.prototype.a=function(){return new this.f},lg.prototype.b=function(){return{}};function Wi(s,l,h){if(this.c=s,s=l||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||iH,this.g=It(s.secureTokenHeaders||oH),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||sH,this.a=It(s.firebaseHeaders||aH),h&&(this.a["X-Client-Version"]=h,this.g["X-Client-Version"]=h),h=go()=="Node",h=c.XMLHttpRequest||h&&ge.INTERNAL.node&&ge.INTERNAL.node.XMLHttpRequest,!h&&!zi())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,zi()?this.f=new tg(self):TA()?this.f=new lg(h):this.f=new Zv,this.b=null}var fb,Hi="idToken",iH=new xs(3e4,6e4),oH={"Content-Type":"application/x-www-form-urlencoded"},sH=new xs(3e4,6e4),aH={"Content-Type":"application/json"};function TP(s,l){l?s.a["X-Firebase-Locale"]=l:delete s.a["X-Firebase-Locale"]}function cg(s,l){l&&(s.l=hb("https://securetoken.googleapis.com/v1/token",l),s.h=hb("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",l),s.i=hb("https://identitytoolkit.googleapis.com/v2/",l))}function hb(s,l){return s=Lr(s),l=Lr(l.url),s.f=s.a+s.f,Hf(s,l.c),s.a=l.a,Kf(s,l.g),s.toString()}function IP(s,l){l?(s.a["X-Client-Version"]=l,s.g["X-Client-Version"]=l):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}Wi.prototype.T=function(){return this.b};function CP(s,l,h,v,y,E,I){fW()||zi()?s=R(s.u,s):(fb||(fb=new He(function(A,z){lH(A,z)})),s=R(s.s,s)),s(l,h,v,y,E,I)}Wi.prototype.u=function(s,l,h,v,y,E){if(zi()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var I=new ch(this.f);if(E){I.g=Math.max(0,E);var A=setTimeout(function(){I.dispatchEvent("timeout")},E)}lA(I,"complete",function(){A&&clearTimeout(A);var z=null;try{z=JSON.parse(JW(this))||null}catch{z=null}l&&l(z)}),w_(I,"ready",function(){A&&clearTimeout(A),nA(this)}),w_(I,"timeout",function(){A&&clearTimeout(A),nA(this),l&&l(null)}),QW(I,s,h,v,y)};var uH=new yi(xv,"https://apis.google.com/js/client.js?onload=%{onload}"),kP="__fcb"+Math.floor(1e6*Math.random()).toString();function lH(s,l){if(((window.gapi||{}).client||{}).request)s();else{c[kP]=function(){((window.gapi||{}).client||{}).request?s():l(Error("CORS_UNSUPPORTED"))};var h=t_(uH,{onload:kP});ZW(lb(h),function(){l(Error("CORS_UNSUPPORTED"))})}}Wi.prototype.s=function(s,l,h,v,y){var E=this;fb.then(function(){window.gapi.client.setApiKey(E.c);var I=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:h,body:v,headers:y,authType:"none",callback:function(A){window.gapi.auth.setToken(I),l&&l(A)}})}).o(function(I){l&&l({error:{message:I&&I.message||"CORS_UNSUPPORTED"}})})};function cH(s,l){return new He(function(h,v){l.grant_type=="refresh_token"&&l.refresh_token||l.grant_type=="authorization_code"&&l.code?CP(s,s.l+"?key="+encodeURIComponent(s.c),function(y){y?y.error?v(_b(y)):y.access_token&&y.refresh_token?h(y):v(new k("internal-error")):v(new k("network-request-failed"))},"POST",pA(l).toString(),s.g,s.m.get()):v(new k("internal-error"))})}function xP(s,l,h,v,y,E,I){var A=Lr(l+h);Kt(A,"key",s.c),I&&Kt(A,"cb",Date.now().toString());var z=v=="GET";if(z)for(var W in y)y.hasOwnProperty(W)&&Kt(A,W,y[W]);return new He(function(Pe,ct){CP(s,A.toString(),function(it){it?it.error?ct(_b(it,E||{})):Pe(it):ct(new k("network-request-failed"))},v,z?void 0:mA(kA(y)),s.a,s.v.get())})}function ru(s){if(s=s.email,typeof s!="string"||!pW.test(s))throw new k("invalid-email")}function RP(s){"email"in s&&ru(s)}function fH(s,l){return Ge(s,bH,{identifier:l,continueUri:Bv()?Yf():"http://localhost"}).then(function(h){return h.signinMethods||[]})}function hH(s){return Ge(s,OH,{}).then(function(l){return l.authorizedDomains||[]})}function Fr(s){if(!s[Hi])throw s.mfaPendingCredential?new k("multi-factor-auth-required",null,It(s)):new k("internal-error")}function db(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new k("internal-error")}else{if(!s.sessionInfo)throw new k("missing-verification-id");if(!s.code)throw new k("missing-verification-code")}}Wi.prototype.Ab=function(){return Ge(this,FH,{})},Wi.prototype.Cb=function(s,l){return Ge(this,PP,{idToken:s,email:l})},Wi.prototype.Db=function(s,l){return Ge(this,OP,{idToken:s,password:l})};var dH={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Wi.prototype,e.Eb=function(s,l){var h={idToken:s},v=[];return Ne(dH,function(y,E){var I=l[E];I===null?v.push(y):E in l&&(h[E]=I)}),v.length&&(h.deleteAttribute=v),Ge(this,PP,h)},e.wb=function(s,l){return s={requestType:"PASSWORD_RESET",email:s},we(s,l),Ge(this,PH,s)},e.xb=function(s,l){return s={requestType:"EMAIL_SIGNIN",email:s},we(s,l),Ge(this,RH,s)},e.vb=function(s,l){return s={requestType:"VERIFY_EMAIL",idToken:s},we(s,l),Ge(this,NH,s)},e.Fb=function(s,l,h){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:l},we(s,h),Ge(this,AH,s)};function pH(s,l){return Ge(s,LH,l)}e.gb=function(s){return Ge(this,qH,s)};function vH(s,l){return Ge(s,$H,l).then(function(h){return h.phoneSessionInfo.sessionInfo})}function NP(s){if(!s.phoneVerificationInfo)throw new k("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new k("missing-verification-code")}function gH(s,l){return Ge(s,UH,l).then(function(h){return h.phoneResponseInfo.sessionInfo})}function mH(s,l,h){return Ge(s,SH,{idToken:l,deleteProvider:h})}function pb(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new k("internal-error")}function vb(s,l){return l.oauthIdToken&&l.providerId&&l.providerId.indexOf("oidc.")==0&&!l.pendingToken&&(s.sessionId?l.nonce=s.sessionId:s.postBody&&(s=new Ka(s.postBody),S_(s,"nonce")&&(l.nonce=s.get("nonce")))),l}function AP(s){var l=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",l=Xv(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",l=Xv(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",l=Xv(s)):s.errorMessage&&(l=MP(s.errorMessage)),l)throw l;Fr(s)}function gb(s,l){return l.returnIdpCredential=!0,Ge(s,jH,l)}function mb(s,l){return l.returnIdpCredential=!0,Ge(s,BH,l)}function yb(s,l){return l.returnIdpCredential=!0,l.autoCreate=!1,Ge(s,VH,l)}function wb(s){if(!s.oobCode)throw new k("invalid-action-code")}e.ob=function(s,l){return Ge(this,MH,{oobCode:s,newPassword:l})},e.Sa=function(s){return Ge(this,wH,{oobCode:s})},e.kb=function(s){return Ge(this,yH,{oobCode:s})};var yH={endpoint:"setAccountInfo",A:wb,Z:"email",B:!0},wH={endpoint:"resetPassword",A:wb,G:function(s){var l=s.requestType;if(!l||!s.email&&l!="EMAIL_SIGNIN"&&l!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},_H={endpoint:"signupNewUser",A:function(s){if(ru(s),!s.password)throw new k("weak-password")},G:Fr,V:!0,B:!0},bH={endpoint:"createAuthUri",B:!0},EH={endpoint:"deleteAccount",O:["idToken"]},SH={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new k("internal-error")}},TH={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ru,G:Fr,V:!0,B:!0},IH={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ru,G:Fr,V:!0},CH={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:NP,G:Fr,B:!0,Na:!0},kH={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:NP,G:Fr,B:!0,Na:!0},xH={endpoint:"getAccountInfo"},RH={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new k("internal-error");ru(s)},Z:"email",B:!0},NH={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},AH={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},PH={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new k("internal-error");ru(s)},Z:"email",B:!0},OH={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},DH={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new k("internal-error")}},MH={endpoint:"resetPassword",A:wb,Z:"email",B:!0},LH={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},PP={endpoint:"setAccountInfo",O:["idToken"],A:RP,V:!0},OP={endpoint:"setAccountInfo",O:["idToken"],A:function(s){if(RP(s),!s.password)throw new k("weak-password")},G:Fr,V:!0},FH={endpoint:"signupNewUser",G:Fr,V:!0,B:!0},$H={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new k("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},UH={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},jH={endpoint:"verifyAssertion",A:pb,Za:vb,G:AP,V:!0,B:!0},VH={endpoint:"verifyAssertion",A:pb,Za:vb,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(s.errorMessage)throw MP(s.errorMessage);Fr(s)},V:!0,B:!0},BH={endpoint:"verifyAssertion",A:function(s){if(pb(s),!s.idToken)throw new k("internal-error")},Za:vb,G:AP,V:!0},zH={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new k("invalid-custom-token")},G:Fr,V:!0,B:!0},DP={endpoint:"verifyPassword",A:function(s){if(ru(s),!s.password)throw new k("wrong-password")},G:Fr,V:!0,B:!0},qH={endpoint:"verifyPhoneNumber",A:db,G:Fr,B:!0},WH={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new k("internal-error");db(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",Xv(s);Fr(s)}},HH={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:db,G:Fr,B:!0},KH={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[Hi]^!!s.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function Ge(s,l,h){if(!bW(h,l.O))return Nt(new k("internal-error"));var v=!!l.Na,y=l.Vb||"POST",E;return be(h).then(l.A).then(function(){return l.V&&(h.returnSecureToken=!0),l.B&&s.b&&typeof h.tenantId>"u"&&(h.tenantId=s.b),v?xP(s,s.i,l.endpoint,y,h,l.Ib,l.mb||!1):xP(s,s.h,l.endpoint,y,h,l.Ib,l.mb||!1)}).then(function(I){return E=I,l.Za?l.Za(h,E):E}).then(l.G).then(function(){if(!l.Z)return E;if(!(l.Z in E))throw new k("internal-error");return E[l.Z]})}function MP(s){return _b({error:{errors:[{message:s}],code:400,message:s}})}function _b(s,l){var h=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",v={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(h=v[h]?new k(v[h]):null)return h;h=s.error&&s.error.message||"",v={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},we(v,l||{}),l=(l=h.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<l.length?l[1]:void 0;for(var y in v)if(h.indexOf(y)===0)return new k(v[y],l);return!l&&s&&(l=Jf(s)),new k("internal-error",l)}function GH(s){this.b=s,this.a=null,this.sb=QH(this)}function QH(s){return t8().then(function(){return new He(function(l,h){At("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:At("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(v){function y(){clearTimeout(E),l()}s.a=v,s.a.restyle({setHideOnLeave:!1});var E=setTimeout(function(){h(Error("Network Error"))},e8.get());v.ping(y).then(y,function(){h(Error("Network Error"))})})})})}function YH(s,l){return s.sb.then(function(){return new He(function(h){s.a.send(l.type,l,h,At("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function XH(s,l){s.sb.then(function(){s.a.register("authEvent",l,At("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var JH=new yi(xv,"https://apis.google.com/js/api.js?onload=%{onload}"),ZH=new xs(3e4,6e4),e8=new xs(5e3,15e3),fg=null;function t8(){return fg||(fg=new He(function(s,l){function h(){RA(),At("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){RA(),l(Error("Network Error"))},timeout:ZH.get()})}if(At("gapi.iframes.Iframe"))s();else if(At("gapi.load"))h();else{var v="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[v]=function(){At("gapi.load")?h():l(Error("Network Error"))},v=t_(JH,{onload:v}),be(lb(v)).o(function(){l(Error("Network Error"))})}}).o(function(s){throw fg=null,s}))}function LP(s,l,h,v){this.l=s,this.h=l,this.i=h,this.g=v,this.f=null,this.g?(s=Lr(this.g.url),s=jv(s.c,s.a,s.g,"/emulator/auth/iframe")):s=jv("https",this.l,null,"/__/auth/iframe"),this.a=s,Kt(this.a,"apiKey",this.h),Kt(this.a,"appName",this.i),this.b=null,this.c=[]}LP.prototype.toString=function(){return this.f?Kt(this.a,"v",this.f):vo(this.a.b,"v"),this.b?Kt(this.a,"eid",this.b):vo(this.a.b,"eid"),this.c.length?Kt(this.a,"fw",this.c.join(",")):vo(this.a.b,"fw"),this.a.toString()};function bb(s,l,h,v,y,E){this.u=s,this.s=l,this.c=h,this.m=v,this.v=E,this.i=this.g=this.l=null,this.a=y,this.h=this.f=null}bb.prototype.zb=function(s){return this.h=s,this},bb.prototype.toString=function(){if(this.v){var s=Lr(this.v.url);s=jv(s.c,s.a,s.g,"/emulator/auth/handler")}else s=jv("https",this.u,null,"/__/auth/handler");if(Kt(s,"apiKey",this.s),Kt(s,"appName",this.c),Kt(s,"authType",this.m),this.a.isOAuthProvider){var l=this.a;try{var h=ge.app(this.c).auth().la()}catch{h=null}l.pb=h,Kt(s,"providerId",this.a.providerId),h=this.a,l=kA(h.Jb);for(var v in l)l[v]=l[v].toString();v=h.Qc,l=It(l);for(var y=0;y<v.length;y++){var E=v[y];E in l&&delete l[E]}h.qb&&h.pb&&!l[h.qb]&&(l[h.qb]=h.pb),gt(l)||Kt(s,"customParameters",Jf(l))}if(typeof this.a.Rb=="function"&&(h=this.a.Rb(),h.length&&Kt(s,"scopes",h.join(","))),this.l?Kt(s,"redirectUrl",this.l):vo(s.b,"redirectUrl"),this.g?Kt(s,"eventId",this.g):vo(s.b,"eventId"),this.i?Kt(s,"v",this.i):vo(s.b,"v"),this.b)for(var I in this.b)this.b.hasOwnProperty(I)&&!_i(s,I)&&Kt(s,I,this.b[I]);return this.h?Kt(s,"tid",this.h):vo(s.b,"tid"),this.f?Kt(s,"eid",this.f):vo(s.b,"eid"),I=Eb(this.c),I.length&&Kt(s,"fw",I.join(",")),s.toString()};function Eb(s){try{return ge.app(s).auth().Ga()}catch{return[]}}function FP(s,l,h,v,y,E){this.s=s,this.g=l,this.b=h,this.f=E,this.c=v||null,this.i=y||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function $P(s){var l=Yf();return hH(s).then(function(h){e:{var v=Lr(l),y=v.c;v=v.a;for(var E=0;E<h.length;E++){var I=h[E],A=v,z=y;if(I.indexOf("chrome-extension://")==0?A=Lr(I).a==A&&z=="chrome-extension":z!="http"&&z!="https"?A=!1:dW.test(I)?A=A==I:(I=I.split(".").join("\\."),A=new RegExp("^(.+\\."+I+"|"+I+")$","i").test(A)),A){h=!0;break e}}h=!1}if(!h)throw new Z_(Yf())})}function UP(s){return s.m||(s.m=Vv().then(function(){if(!s.u){var l=s.c,h=s.i,v=Eb(s.b),y=new LP(s.s,s.g,s.b,s.f);y.f=l,y.b=h,y.c=St(v||[]),s.u=y.toString()}s.v=new GH(s.u),n8(s)})),s.m}e=FP.prototype,e.Pb=function(s,l,h){var v=new k("popup-closed-by-user"),y=new k("web-storage-unsupported"),E=this,I=!1;return this.ma().then(function(){r8(E).then(function(A){A||(s&&Ga(s),l(y),I=!0)})}).o(function(){}).then(function(){if(!I)return hW(s)}).then(function(){if(!I)return kl(h).then(function(){l(v)})})},e.Yb=function(){var s=Mn();return!Xf(s)&&!xA(s)},e.Ub=function(){return!1},e.Nb=function(s,l,h,v,y,E,I,A){if(!s)return Nt(new k("popup-blocked"));if(I&&!Xf())return this.ma().o(function(W){Ga(s),y(W)}),v(),be();this.a||(this.a=$P(jP(this)));var z=this;return this.a.then(function(){var W=z.ma().o(function(Pe){throw Ga(s),y(Pe),Pe});return v(),W}).then(function(){if(X_(h),!I){var W=ph(z.s,z.g,z.b,l,h,null,E,z.c,void 0,z.i,A,z.f);_A(W,s)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(z.a=null),W})};function jP(s){return s.l||(s.C=s.c?Al(s.c,Eb(s.b)):null,s.l=new Wi(s.g,se(s.i),s.C),s.f&&cg(s.l,s.f)),s.l}e.Ob=function(s,l,h,v){this.a||(this.a=$P(jP(this)));var y=this;return this.a.then(function(){X_(l);var E=ph(y.s,y.g,y.b,s,l,Yf(),h,y.c,void 0,y.i,v,y.f);_A(E)}).o(function(E){throw E.code=="auth/network-request-failed"&&(y.a=null),E})},e.ma=function(){var s=this;return UP(this).then(function(){return s.v.sb}).o(function(){throw s.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function ph(s,l,h,v,y,E,I,A,z,W,Pe,ct){return s=new bb(s,l,h,v,y,ct),s.l=E,s.g=I,s.i=A,s.b=It(z||null),s.f=W,s.zb(Pe).toString()}function n8(s){if(!s.v)throw Error("IfcHandler must be initialized!");XH(s.v,function(l){var h={};if(l&&l.authEvent){var v=!1;for(l=lP(l.authEvent),h=0;h<s.h.length;h++)v=s.h[h](l)||v;return h={},h.status=v?"ACK":"ERROR",be(h)}return h.status="ERROR",be(h)})}function r8(s){var l={type:"webStorageSupport"};return UP(s).then(function(){return YH(s.v,l)}).then(function(h){if(h&&h.length&&typeof h[0].webStorageSupport<"u")return h[0].webStorageSupport;throw Error()})}e.Ea=function(s){this.h.push(s)},e.Ta=function(s){Ee(this.h,function(l){return l==s})};function VP(s){if(this.a=s||ge.INTERNAL.reactNative&&ge.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=VP.prototype,e.get=function(s){return be(this.a.getItem(s)).then(function(l){return l&&Ol(l)})},e.set=function(s,l){return be(this.a.setItem(s,Jf(l)))},e.U=function(s){return be(this.a.removeItem(s))},e.ca=function(){},e.ia=function(){};function BP(s){this.b=s,this.a={},this.f=R(this.c,this)}var zP=[];function i8(){var s=zi()?self:null;if(ye(zP,function(h){h.b==s&&(l=h)}),!l){var l=new BP(s);zP.push(l)}return l}BP.prototype.c=function(s){var l=s.data.eventType,h=s.data.eventId,v=this.a[l];if(v&&0<v.length){s.ports[0].postMessage({status:"ack",eventId:h,eventType:l,response:null});var y=[];ye(v,function(E){y.push(be().then(function(){return E(s.origin,s.data.data)}))}),KN(y).then(function(E){var I=[];ye(E,function(A){I.push({fulfilled:A.Qb,value:A.value,reason:A.reason?A.reason.message:void 0})}),ye(I,function(A){for(var z in A)typeof A[z]>"u"&&delete A[z]}),s.ports[0].postMessage({status:"done",eventId:h,eventType:l,response:I})})}};function qP(s,l,h){gt(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[l]>"u"&&(s.a[l]=[]),s.a[l].push(h)}function WP(s){this.a=s}WP.prototype.postMessage=function(s,l){this.a.postMessage(s,l)};function HP(s){this.c=s,this.b=!1,this.a=[]}function KP(s,l,h,v){var y,E=h||{},I,A,z,W=null;if(s.b)return Nt(Error("connection_unavailable"));var Pe=v?800:50,ct=typeof MessageChannel<"u"?new MessageChannel:null;return new He(function(it,En){ct?(y=Math.floor(Math.random()*Math.pow(10,20)).toString(),ct.port1.start(),A=setTimeout(function(){En(Error("unsupported_event"))},Pe),I=function(Ko){Ko.data.eventId===y&&(Ko.data.status==="ack"?(clearTimeout(A),z=setTimeout(function(){En(Error("timeout"))},3e3)):Ko.data.status==="done"?(clearTimeout(z),typeof Ko.data.response<"u"?it(Ko.data.response):En(Error("unknown_error"))):(clearTimeout(A),clearTimeout(z),En(Error("invalid_response"))))},W={messageChannel:ct,onMessage:I},s.a.push(W),ct.port1.addEventListener("message",I),s.c.postMessage({eventType:l,eventId:y,data:E},[ct.port2])):En(Error("connection_unavailable"))}).then(function(it){return Sb(s,W),it}).o(function(it){throw Sb(s,W),it})}function Sb(s,l){if(l){var h=l.messageChannel,v=l.onMessage;h&&(h.port1.removeEventListener("message",v),h.port1.close()),Ee(s.a,function(y){return y==l})}}HP.prototype.close=function(){for(;0<this.a.length;)Sb(this,this.a[0]);this.b=!0};function GP(){if(!Cb())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;zi()&&self?(this.v=i8(),qP(this.v,"keyChanged",function(l,h){return XP(s).then(function(v){return 0<v.length&&ye(s.a,function(y){y(v)}),{keyProcessed:Ae(v,h.key)}})}),qP(this.v,"ping",function(){return be(["keyChanged"])})):wW().then(function(l){(s.h=l)&&(s.g=new HP(new WP(l)),KP(s.g,"ping",null,!0).then(function(h){h[0].fulfilled&&Ae(h[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var Tb;function o8(s){return new He(function(l,h){var v=s.m.deleteDatabase("firebaseLocalStorageDb");v.onsuccess=function(){l()},v.onerror=function(y){h(Error(y.target.error))}})}function QP(s){return new He(function(l,h){var v=s.m.open("firebaseLocalStorageDb",1);v.onerror=function(y){try{y.preventDefault()}catch{}h(Error(y.target.error))},v.onupgradeneeded=function(y){y=y.target.result;try{y.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(E){h(E)}},v.onsuccess=function(y){y=y.target.result,y.objectStoreNames.contains("firebaseLocalStorage")?l(y):o8(s).then(function(){return QP(s)}).then(function(E){l(E)}).o(function(E){h(E)})}})}function Ib(s){return s.i||(s.i=QP(s)),s.i}function hg(s,l){function h(y,E){Ib(s).then(l).then(y).o(function(I){if(3<++v)E(I);else return Ib(s).then(function(A){return A.close(),s.i=void 0,h(y,E)}).o(function(A){E(A)})})}var v=0;return new He(h)}function Cb(){try{return!!c.indexedDB}catch{return!1}}function vh(s){return s.objectStore("firebaseLocalStorage")}function gh(s,l){return s.transaction(["firebaseLocalStorage"],l?"readwrite":"readonly")}function Fl(s){return new He(function(l,h){s.onsuccess=function(v){v&&v.target?l(v.target.result):l()},s.onerror=function(v){h(v.target.error)}})}e=GP.prototype,e.set=function(s,l){var h=this,v=!1;return hg(this,function(y){return y=vh(gh(y,!0)),Fl(y.get(s))}).then(function(y){return hg(h,function(E){if(E=vh(gh(E,!0)),y)return y.value=l,Fl(E.put(y));h.b++,v=!0;var I={};return I.fbase_key=s,I.value=l,Fl(E.add(I))})}).then(function(){return h.c[s]=l,YP(h,s)}).oa(function(){v&&h.b--})};function YP(s,l){return s.g&&s.h&&yW()===s.h?KP(s.g,"keyChanged",{key:l},s.s).then(function(){}).o(function(){}):be()}e.get=function(s){return hg(this,function(l){return Fl(vh(gh(l,!1)).get(s))}).then(function(l){return l&&l.value})},e.U=function(s){var l=this,h=!1;return hg(this,function(v){return h=!0,l.b++,Fl(vh(gh(v,!0)).delete(s))}).then(function(){return delete l.c[s],YP(l,s)}).oa(function(){h&&l.b--})};function XP(s){return Ib(s).then(function(l){var h=vh(gh(l,!1));return h.getAll?Fl(h.getAll()):new He(function(v,y){var E=[],I=h.openCursor();I.onsuccess=function(A){(A=A.target.result)?(E.push(A.value),A.continue()):v(E)},I.onerror=function(A){y(A.target.error)}})}).then(function(l){var h={},v=[];if(s.b==0){for(v=0;v<l.length;v++)h[l[v].fbase_key]=l[v].value;v=bA(s.c,h),s.c=h}return v})}e.ca=function(s){this.a.length==0&&s8(this),this.a.push(s)},e.ia=function(s){Ee(this.a,function(l){return l==s}),this.a.length==0&&JP(this)};function s8(s){function l(){s.f=setTimeout(function(){s.l=XP(s).then(function(h){0<h.length&&ye(s.a,function(v){v(h)})}).then(function(){l()}).o(function(h){h.message!="STOP_EVENT"&&l()})},800)}JP(s),l()}function JP(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function ZP(s){var l=this,h=null;this.a=[],this.type="indexedDB",this.c=s,this.b=be().then(function(){if(Cb()){var v=Ya(),y="__sak"+v;return Tb||(Tb=new GP),h=Tb,h.set(y,v).then(function(){return h.get(y)}).then(function(E){if(E!==v)throw Error("indexedDB not supported!");return h.U(y)}).then(function(){return h}).o(function(){return l.c})}return l.c}).then(function(v){return l.type=v.type,v.ca(function(y){ye(l.a,function(E){E(y)})}),v})}e=ZP.prototype,e.get=function(s){return this.b.then(function(l){return l.get(s)})},e.set=function(s,l){return this.b.then(function(h){return h.set(s,l)})},e.U=function(s){return this.b.then(function(l){return l.U(s)})},e.ca=function(s){this.a.push(s)},e.ia=function(s){Ee(this.a,function(l){return l==s})};function mh(){this.a={},this.type="inMemory"}e=mh.prototype,e.get=function(s){return be(this.a[s])},e.set=function(s,l){return this.a[s]=l,be()},e.U=function(s){return delete this.a[s],be()},e.ca=function(){},e.ia=function(){};function dg(){if(!a8())throw go()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=eO()||ge.INTERNAL.node.localStorage,this.type="localStorage"}function eO(){try{var s=c.localStorage,l=Ya();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function a8(){var s=go()=="Node";if(s=eO()||s&&ge.INTERNAL.node&&ge.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}e=dg.prototype,e.get=function(s){var l=this;return be().then(function(){var h=l.a.getItem(s);return Ol(h)})},e.set=function(s,l){var h=this;return be().then(function(){var v=Jf(l);v===null?h.U(s):h.a.setItem(s,v)})},e.U=function(s){var l=this;return be().then(function(){l.a.removeItem(s)})},e.ca=function(s){c.window&&wi(c.window,"storage",s)},e.ia=function(s){c.window&&Xr(c.window,"storage",s)};function kb(){this.type="nullStorage"}e=kb.prototype,e.get=function(){return be(null)},e.set=function(){return be()},e.U=function(){return be()},e.ca=function(){},e.ia=function(){};function xb(){if(!u8())throw go()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=tO()||ge.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function tO(){try{var s=c.sessionStorage,l=Ya();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function u8(){var s=go()=="Node";if(s=tO()||s&&ge.INTERNAL.node&&ge.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}e=xb.prototype,e.get=function(s){var l=this;return be().then(function(){var h=l.a.getItem(s);return Ol(h)})},e.set=function(s,l){var h=this;return be().then(function(){var v=Jf(l);v===null?h.U(s):h.a.setItem(s,v)})},e.U=function(s){var l=this;return be().then(function(){l.a.removeItem(s)})},e.ca=function(){},e.ia=function(){};function l8(){var s={};s.Browser=c8,s.Node=f8,s.ReactNative=h8,s.Worker=d8,this.a=s[go()]}var Rb,c8={F:dg,cb:xb},f8={F:dg,cb:xb},h8={F:VP,cb:kb},d8={F:dg,cb:kb},$l={rd:"local",NONE:"none",td:"session"};function p8(s){var l=new k("invalid-persistence-type"),h=new k("unsupported-persistence-type");e:{for(v in $l)if($l[v]==s){var v=!0;break e}v=!1}if(!v||typeof s!="string")throw l;switch(go()){case"ReactNative":if(s==="session")throw h;break;case"Node":if(s!=="none")throw h;break;case"Worker":if(s==="session"||!Cb()&&s!=="none")throw h;break;default:if(!R_()&&s!=="none")throw h}}function nO(){var s=!!(!xA(Mn())&&k_()),l=Xf(),h=R_();this.m=s,this.h=l,this.l=h,this.a={},Rb||(Rb=new l8),s=Rb;try{this.g=!I_()&&NA()||!c.indexedDB?new s.a.F:new ZP(zi()?new mh:new s.a.F)}catch{this.g=new mh,this.h=!0}try{this.i=new s.a.cb}catch{this.i=new mh}this.v=new mh,this.f=R(this.Zb,this),this.b={}}var Nb;function yh(){return Nb||(Nb=new nO),Nb}function iu(s,l){switch(l){case"session":return s.i;case"none":return s.v;default:return s.g}}function Ul(s,l){return"firebase:"+s.name+(l?":"+l:"")}function v8(s,l,h){var v=Ul(l,h),y=iu(s,l.F);return s.get(l,h).then(function(E){var I=null;try{I=Ol(c.localStorage.getItem(v))}catch{}if(I&&!E)return c.localStorage.removeItem(v),s.set(l,I,h);I&&E&&y.type!="localStorage"&&c.localStorage.removeItem(v)})}e=nO.prototype,e.get=function(s,l){return iu(this,s.F).get(Ul(s,l))};function jl(s,l,h){return h=Ul(l,h),l.F=="local"&&(s.b[h]=null),iu(s,l.F).U(h)}e.set=function(s,l,h){var v=Ul(s,h),y=this,E=iu(this,s.F);return E.set(v,l).then(function(){return E.get(v)}).then(function(I){s.F=="local"&&(y.b[v]=I)})},e.addListener=function(s,l,h){s=Ul(s,l),this.l&&(this.b[s]=c.localStorage.getItem(s)),gt(this.a)&&(iu(this,"local").ca(this.f),this.h||(I_()||!NA())&&c.indexedDB||!this.l||g8(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(h)},e.removeListener=function(s,l,h){s=Ul(s,l),this.a[s]&&(Ee(this.a[s],function(v){return v==h}),this.a[s].length==0&&delete this.a[s]),gt(this.a)&&(iu(this,"local").ia(this.f),Ab(this))};function g8(s){Ab(s),s.c=setInterval(function(){for(var l in s.a){var h=c.localStorage.getItem(l),v=s.b[l];h!=v&&(s.b[l]=h,h=new Wa({type:"storage",key:l,target:window,oldValue:v,newValue:h,a:!0}),s.Zb(h))}},1e3)}function Ab(s){s.c&&(clearInterval(s.c),s.c=null)}e.Zb=function(s){if(s&&s.g){var l=s.a.key;if(l==null)for(var h in this.a){var v=this.b[h];typeof v>"u"&&(v=null);var y=c.localStorage.getItem(h);y!==v&&(this.b[h]=y,this.nb(h))}else if(l.indexOf("firebase:")==0&&this.a[l]){if(typeof s.a.a<"u"?iu(this,"local").ia(this.f):Ab(this),this.m){if(h=c.localStorage.getItem(l),v=s.a.newValue,v!==h)v!==null?c.localStorage.setItem(l,v):c.localStorage.removeItem(l);else if(this.b[l]===v&&typeof s.a.a>"u")return}var E=this;h=function(){(typeof s.a.a<"u"||E.b[l]!==c.localStorage.getItem(l))&&(E.b[l]=c.localStorage.getItem(l),E.nb(l))},Bi&&Is&&Is==10&&c.localStorage.getItem(l)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(h,10):h()}}else ye(s,R(this.nb,this))},e.nb=function(s){this.a[s]&&ye(this.a[s],function(l){l()})};function m8(s){this.a=s,this.b=yh()}var Pb={name:"authEvent",F:"local"};function y8(s){return s.b.get(Pb,s.a).then(function(l){return lP(l)})}function w8(){this.a=yh()}function _8(){this.b=-1}function pg(s,l){this.b=rO,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=l,this.l=c.Int32Array?new Int32Array(64):Array(64),vg===void 0&&(c.Int32Array?vg=new Int32Array(sO):vg=sO),this.reset()}var vg;L(pg,_8);for(var rO=64,b8=rO-1,iO=[],Ob=0;Ob<b8;Ob++)iO[Ob]=0;var oO=nt(128,iO);pg.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):St(this.h)};function Db(s){for(var l=s.f,h=s.l,v=0,y=0;y<l.length;)h[v++]=l[y]<<24|l[y+1]<<16|l[y+2]<<8|l[y+3],y=4*v;for(l=16;64>l;l++){y=h[l-15]|0,v=h[l-2]|0;var E=(h[l-16]|0)+((y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3)|0,I=(h[l-7]|0)+((v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)|0;h[l]=E+I|0}v=s.a[0]|0,y=s.a[1]|0;var A=s.a[2]|0,z=s.a[3]|0,W=s.a[4]|0,Pe=s.a[5]|0,ct=s.a[6]|0;for(E=s.a[7]|0,l=0;64>l;l++){var it=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&y^v&A^y&A)|0;I=W&Pe^~W&ct,E=E+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,I=I+(vg[l]|0)|0,I=E+(I+(h[l]|0)|0)|0,E=ct,ct=Pe,Pe=W,W=z+I|0,z=A,A=y,y=v,v=I+it|0}s.a[0]=s.a[0]+v|0,s.a[1]=s.a[1]+y|0,s.a[2]=s.a[2]+A|0,s.a[3]=s.a[3]+z|0,s.a[4]=s.a[4]+W|0,s.a[5]=s.a[5]+Pe|0,s.a[6]=s.a[6]+ct|0,s.a[7]=s.a[7]+E|0}function Mb(s,l,h){h===void 0&&(h=l.length);var v=0,y=s.c;if(typeof l=="string")for(;v<h;)s.f[y++]=l.charCodeAt(v++),y==s.b&&(Db(s),y=0);else if(w(l))for(;v<h;){var E=l[v++];if(!(typeof E=="number"&&0<=E&&255>=E&&E==(E|0)))throw Error("message must be a byte array");s.f[y++]=E,y==s.b&&(Db(s),y=0)}else throw Error("message must be string or array");s.c=y,s.g+=h}var sO=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function aO(){pg.call(this,8,E8)}L(aO,pg);var E8=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function uO(s,l,h,v,y,E){this.v=s,this.i=l,this.l=h,this.m=v||null,this.u=y||null,this.s=E,this.h=l+":"+h,this.C=new w8,this.g=new m8(this.h),this.f=null,this.b=[],this.a=this.c=null}function gg(s){return new k("invalid-cordova-configuration",s)}e=uO.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=vW().then(function(){if(typeof At("universalLinks.subscribe",c)!="function")throw gg("cordova-universal-links-plugin-fix is not installed");if(typeof At("BuildInfo.packageName",c)>"u")throw gg("cordova-plugin-buildinfo is not installed");if(typeof At("cordova.plugins.browsertab.openUrl",c)!="function")throw gg("cordova-plugin-browsertab is not installed");if(typeof At("cordova.InAppBrowser.open",c)!="function")throw gg("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function S8(){for(var s=20,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}function T8(s){var l=new aO;Mb(l,s),s=[];var h=8*l.g;56>l.c?Mb(l,oO,56-l.c):Mb(l,oO,l.b-(l.c-56));for(var v=63;56<=v;v--)l.f[v]=h&255,h/=256;for(Db(l),v=h=0;v<l.i;v++)for(var y=24;0<=y;y-=8)s[h++]=l.a[v]>>y&255;return MW(s)}e.Pb=function(s,l){return l(new k("operation-not-supported-in-this-environment")),be()},e.Nb=function(){return Nt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(s,l,h,v){if(this.c)return Nt(new k("redirect-operation-pending"));var y=this,E=c.document,I=null,A=null,z=null,W=null;return this.c=be().then(function(){return X_(l),cO(y)}).then(function(){return I8(y,s,l,h,v)}).then(function(){return new He(function(Pe,ct){A=function(){var it=At("cordova.plugins.browsertab.close",c);return Pe(),typeof it=="function"&&it(),y.a&&typeof y.a.close=="function"&&(y.a.close(),y.a=null),!1},y.Ea(A),z=function(){I||(I=kl(2e3).then(function(){ct(new k("redirect-cancelled-by-user"))}))},W=function(){N_()&&z()},E.addEventListener("resume",z,!1),Mn().toLowerCase().match(/android/)||E.addEventListener("visibilitychange",W,!1)}).o(function(Pe){return Lb(y).then(function(){throw Pe})})}).oa(function(){z&&E.removeEventListener("resume",z,!1),W&&E.removeEventListener("visibilitychange",W,!1),I&&I.cancel(),A&&y.Ta(A),y.c=null})};function I8(s,l,h,v,y){var E=S8(),I=new qi(l,v,null,E,new k("no-auth-event"),null,y),A=At("BuildInfo.packageName",c);if(typeof A!="string")throw new k("invalid-cordova-configuration");var z=At("BuildInfo.displayName",c),W={};if(Mn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=A;else if(Mn().toLowerCase().match(/android/))W.apn=A;else return Nt(new k("operation-not-supported-in-this-environment"));z&&(W.appDisplayName=z),E=T8(E),W.sessionId=E;var Pe=ph(s.v,s.i,s.l,l,h,null,v,s.m,W,s.u,y,s.s);return s.ma().then(function(){var ct=s.h;return s.C.a.set(Pb,I.w(),ct)}).then(function(){var ct=At("cordova.plugins.browsertab.isAvailable",c);if(typeof ct!="function")throw new k("invalid-cordova-configuration");var it=null;ct(function(En){if(En){if(it=At("cordova.plugins.browsertab.openUrl",c),typeof it!="function")throw new k("invalid-cordova-configuration");it(Pe)}else{if(it=At("cordova.InAppBrowser.open",c),typeof it!="function")throw new k("invalid-cordova-configuration");En=Mn(),s.a=it(Pe,En.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||En.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function lO(s,l){for(var h=0;h<s.b.length;h++)try{s.b[h](l)}catch{}}function cO(s){return s.f||(s.f=s.ma().then(function(){return new He(function(l){function h(v){return l(v),s.Ta(h),!1}s.Ea(h),C8(s)})})),s.f}function Lb(s){var l=null;return y8(s.g).then(function(h){return l=h,h=s.g,jl(h.b,Pb,h.a)}).then(function(){return l})}function C8(s){function l(I){v=!0,y&&y.cancel(),Lb(s).then(function(A){var z=h;if(A&&I&&I.url){var W=null;z=tP(I.url),z.indexOf("/__/auth/callback")!=-1&&(W=Lr(z),W=Ol(_i(W,"firebaseError")||null),W=(W=typeof W=="object"?H(W):null)?new qi(A.c,A.b,null,null,W,null,A.T()):new qi(A.c,A.b,z,A.f,null,null,A.T())),z=W||h}lO(s,z)})}var h=new qi("unknown",null,null,null,new k("no-auth-event")),v=!1,y=kl(500).then(function(){return Lb(s).then(function(){v||lO(s,h)})}),E=c.handleOpenURL;c.handleOpenURL=function(I){if(I.toLowerCase().indexOf(At("BuildInfo.packageName",c).toLowerCase()+"://")==0&&l({url:I}),typeof E=="function")try{E(I)}catch(A){console.error(A)}},J_||(J_=new zW),qW(l)}e.Ea=function(s){this.b.push(s),cO(this).o(function(l){l.code==="auth/invalid-cordova-configuration"&&(l=new qi("unknown",null,null,null,new k("no-auth-event")),s(l))})},e.Ta=function(s){Ee(this.b,function(l){return l==s})};function k8(s){this.a=s,this.b=yh()}var Fb={name:"pendingRedirect",F:"session"};function x8(s){return s.b.set(Fb,"pending",s.a)}function $b(s){return jl(s.b,Fb,s.a)}function R8(s){return s.b.get(Fb,s.a).then(function(l){return l=="pending"})}function mg(s,l,h,v){this.i={},this.u=0,this.D=s,this.v=l,this.m=h,this.J=v,this.h=[],this.f=!1,this.l=R(this.s,this),this.b=new wg,this.C=new _O,this.g=new k8(mO(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=fO(this.D,this.v,this.m,pe,this.J)}function fO(s,l,h,v,y){var E=ge.SDK_VERSION||null;return C_()?new uO(s,l,h,E,v,y):new FP(s,l,h,E,v,y)}mg.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=fO(this.D,this.v,this.m,null,this.J),this.i={}};function hO(s){s.f||(s.f=!0,s.a.Ea(s.l));var l=s.a;return s.a.ma().o(function(h){throw s.a==l&&s.reset(),h})}function dO(s){s.a.Yb()&&hO(s).o(function(l){var h=new qi("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jb(l)&&s.s(h)}),s.a.Ub()||yO(s.b)}function yg(s,l){Ae(s.h,l)||s.h.push(l),s.f||R8(s.g).then(function(h){h?$b(s.g).then(function(){hO(s).o(function(v){var y=new qi("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jb(v)&&s.s(y)})}):dO(s)}).o(function(){dO(s)})}function Ub(s,l){Ee(s.h,function(h){return h==l})}mg.prototype.s=function(s){if(!s)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var l=!1,h=0;h<this.h.length;h++){var v=this.h[h];if(v.Gb(s.c,s.b)){(l=this.c[s.c])&&(l.h(s,v),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),l=!0;break}}return yO(this.b),l};var N8=new xs(2e3,1e4),A8=new xs(3e4,6e4);mg.prototype.ra=function(){return this.b.ra()};function pO(s,l,h,v,y,E,I){return s.a.Nb(l,h,v,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},y,E,I)}function jb(s){return!!(s&&s.code=="auth/cordova-not-ready")}function vO(s,l,h,v,y){var E;return x8(s.g).then(function(){return s.a.Ob(l,h,v,y).o(function(I){if(jb(I))throw new k("operation-not-supported-in-this-environment");return E=I,$b(s.g).then(function(){throw E})}).then(function(){return s.a.ac()?new He(function(){}):$b(s.g).then(function(){return s.ra()}).then(function(){}).o(function(){})})})}function gO(s,l,h,v,y){return s.a.Pb(v,function(E){l.na(h,null,E,y)},N8.get())}var Vb={};function mO(s,l,h){return s=s+":"+l,h&&(s=s+":"+h.url),s}function Bb(s,l,h,v){var y=mO(l,h,v);return Vb[y]||(Vb[y]=new mg(s,l,h,v)),Vb[y]}function wg(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}wg.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},wg.prototype.h=function(s,l){if(s){this.reset(),this.g=!0;var h=s.c,v=s.b,y=s.a&&s.a.code=="auth/web-storage-unsupported",E=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!y&&!E),h!="unknown"||y||E?s.a?(ou(this,!0,null,s.a),be()):l.Fa(h,v)?P8(this,s,l):Nt(new k("invalid-auth-event")):(ou(this,!1,null,null),be())}else Nt(new k("invalid-auth-event"))};function yO(s){s.g||(s.g=!0,ou(s,!1,null,null))}function _g(s){s.g&&!s.i&&ou(s,!1,null,null)}function P8(s,l,h){h=h.Fa(l.c,l.b);var v=l.g,y=l.f,E=l.i,I=l.T(),A=!!l.c.match(/Redirect$/);h(v,y,I,E).then(function(z){ou(s,A,z,null)}).o(function(z){ou(s,A,null,z)})}function O8(s,l){if(s.b=function(){return Nt(l)},s.c.length)for(var h=0;h<s.c.length;h++)s.c[h](l)}function wO(s,l){if(s.b=function(){return be(l)},s.f.length)for(var h=0;h<s.f.length;h++)s.f[h](l)}function ou(s,l,h,v){l?v?O8(s,v):wO(s,h):wO(s,{user:null}),s.f=[],s.c=[]}wg.prototype.ra=function(){var s=this;return new He(function(l,h){s.b?s.b().then(l,h):(s.f.push(l),s.c.push(h),D8(s))})};function D8(s){var l=new k("timeout");s.a&&s.a.cancel(),s.a=kl(A8.get()).then(function(){s.b||(s.g=!0,ou(s,!0,null,l))})}function _O(){}_O.prototype.h=function(s,l){if(s){var h=s.c,v=s.b;s.a?(l.na(s.c,null,s.a,s.b),be()):l.Fa(h,v)?M8(s,l):Nt(new k("invalid-auth-event"))}else Nt(new k("invalid-auth-event"))};function M8(s,l){var h=s.b,v=s.c;l.Fa(v,h)(s.g,s.f,s.T(),s.i).then(function(y){l.na(v,y,null,h)}).o(function(y){l.na(v,null,y,h)})}function bO(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(s){this.jb=s},enumerable:!1})}function zb(s,l){this.a=l,he(this,"verificationId",s)}zb.prototype.confirm=function(s){return s=uP(this.verificationId,s),this.a(s)};function qb(s,l,h,v){return new Wo(s).gb(l,h).then(function(y){return new zb(y,v)})}function L8(s){var l=KA(s);if(!(l&&l.exp&&l.auth_time&&l.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");gr(this,{token:s,expirationTime:Zf(1e3*l.exp),authTime:Zf(1e3*l.auth_time),issuedAtTime:Zf(1e3*l.iat),signInProvider:l.firebase&&l.firebase.sign_in_provider?l.firebase.sign_in_provider:null,signInSecondFactor:l.firebase&&l.firebase.sign_in_second_factor?l.firebase.sign_in_second_factor:null,claims:l})}function Wb(s,l,h){var v=l&&l[SO];if(!v)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=It(l),this.g=h,this.c=new Qv(null,v),this.b=[];var y=this;ye(l[EO]||[],function(E){(E=L_(E))&&y.b.push(E)}),he(this,"auth",this.a),he(this,"session",this.c),he(this,"hints",this.b)}var EO="mfaInfo",SO="mfaPendingCredential";Wb.prototype.Rc=function(s){var l=this;return s.tb(this.a.a,this.c).then(function(h){var v=It(l.f);return delete v[EO],delete v[SO],we(v,h),l.g(v)})};function Hb(s,l,h,v){k.call(this,"multi-factor-auth-required",v,l),this.b=new Wb(s,l,h),he(this,"resolver",this.b)}L(Hb,k);function TO(s,l,h){if(s&&T(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new Hb(l,s.serverResponse,h,s.message)}catch{}return null}function IO(){}IO.prototype.tb=function(s,l,h){return l.type==rh?F8(this,s,l,h):$8(this,s,l)};function F8(s,l,h,v){return h.Ha().then(function(y){return y={idToken:y},typeof v<"u"&&(y.displayName=v),we(y,{phoneVerificationInfo:ih(s.a)}),Ge(l,CH,y)})}function $8(s,l,h){return h.Ha().then(function(v){return v={mfaPendingCredential:v},we(v,{phoneVerificationInfo:ih(s.a)}),Ge(l,kH,v)})}function Kb(s){he(this,"factorId",s.fa),this.a=s}L(Kb,IO);function CO(s){if(Kb.call(this,s),this.a.fa!=Wo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}L(CO,Kb);function Vl(s,l){Mr.call(this,s);for(var h in l)this[h]=l[h]}L(Vl,Mr);function Gb(s,l){this.a=s,this.b=[],this.c=R(this.yc,this),wi(this.a,"userReloaded",this.c);var h=[];l&&l.multiFactor&&l.multiFactor.enrolledFactors&&ye(l.multiFactor.enrolledFactors,function(v){var y=null,E={};if(v){v.uid&&(E[$_]=v.uid),v.displayName&&(E[PA]=v.displayName),v.enrollmentTime&&(E[F_]=new Date(v.enrollmentTime).toISOString()),v.phoneNumber&&(E[U_]=v.phoneNumber);try{y=new eh(E)}catch{}v=y}else v=null;v&&h.push(v)}),bg(this,h)}function U8(s){var l=[];return ye(s.mfaInfo||[],function(h){(h=L_(h))&&l.push(h)}),l}e=Gb.prototype,e.yc=function(s){bg(this,U8(s.hd))};function bg(s,l){s.b=l,he(s,"enrolledFactors",l)}e.Sb=function(){return this.a.I().then(function(s){return new Qv(s,null)})},e.fc=function(s,l){var h=this,v=this.a.a;return this.Sb().then(function(y){return s.tb(v,y,l)}).then(function(y){return wo(h.a,y),h.a.reload()})},e.bd=function(s){var l=this,h=typeof s=="string"?s:s.uid,v=this.a.a;return this.a.I().then(function(y){return Ge(v,KH,{idToken:y,mfaEnrollmentId:h})}).then(function(y){var E=_n(l.b,function(I){return I.uid!=h});return bg(l,E),wo(l.a,y),l.a.reload().o(function(I){if(I.code!="auth/user-token-expired")throw I})})},e.w=function(){return{multiFactor:{enrolledFactors:Oe(this.b,function(s){return s.w()})}}};function Qb(s,l,h){if(this.h=s,this.i=l,this.g=h,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Qb.prototype.start=function(){this.a=this.c,Yb(this,!0)};function j8(s,l){return l?(s.a=s.c,s.g()):(l=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),l)}function Yb(s,l){s.stop(),s.b=kl(j8(s,l)).then(function(){return mW()}).then(function(){return s.h()}).then(function(){Yb(s,!0)}).o(function(h){s.i(h)&&Yb(s,!1)})}Qb.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Xb(s){this.f=s,this.b=this.a=null,this.c=Date.now()}Xb.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function kO(s,l){typeof l>"u"&&(s.b?(l=s.b,l=l.a-l.g):l=0),s.c=Date.now()+1e3*l}function xO(s,l){s.b=Kv(l[Hi]||""),s.a=l.refreshToken,l=l.expiresIn,kO(s,typeof l<"u"?Number(l):void 0)}function V8(s,l){s.b=l.b,s.a=l.a,s.c=l.c}function B8(s,l){return cH(s.f,l).then(function(h){return s.b=Kv(h.access_token),s.a=h.refresh_token,kO(s,h.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(h){throw h.code=="auth/user-token-expired"&&(s.a=null),h})}Xb.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?Nt(new k("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?B8(this,{grant_type:"refresh_token",refresh_token:this.a}):be(null):be({accessToken:this.b.toString(),refreshToken:this.a})};function Eg(s,l){this.a=s||null,this.b=l||null,gr(this,{lastSignInTime:Zf(l||null),creationTime:Zf(s||null)})}function z8(s){return new Eg(s.a,s.b)}Eg.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function q8(s,l,h,v,y,E){gr(this,{uid:s,displayName:v||null,photoURL:y||null,email:h||null,phoneNumber:E||null,providerId:l})}function Zr(s,l,h){this.N=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var v=ge.SDK_VERSION?Al(ge.SDK_VERSION):null;this.a=new Wi(this.l,se(pe),v),(this.u=s.emulatorConfig||null)&&cg(this.a,this.u),this.h=new Xb(this.a),i1(this,l[Hi]),xO(this.h,l),he(this,"refreshToken",this.h.a),NO(this,h||{}),vr.call(this),this.P=!1,this.s&&Qa()&&(this.b=Bb(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=W8(this),this.ba=R(this.ib,this);var y=this;this.za=null,this.Pa=function(E){y.xa(E.h)},this.qa=null,this.Ba=function(E){Jb(y,E.c)},this.$=null,this.aa=[],this.Oa=function(E){wh(y,E.f)},this.ja=null,this.S=new Gb(this,h),he(this,"multiFactor",this.S)}L(Zr,vr),Zr.prototype.xa=function(s){this.za=s,TP(this.a,s)};function Jb(s,l){s.u=l,cg(s.a,l),s.b&&(l=s.b,s.b=Bb(s.s,s.l,s.m,s.u),s.P&&(Ub(l,s),yg(s.b,s)))}Zr.prototype.la=function(){return this.za};function Zb(s,l){s.qa&&Xr(s.qa,"languageCodeChanged",s.Pa),(s.qa=l)&&wi(l,"languageCodeChanged",s.Pa)}function e1(s,l){s.$&&Xr(s.$,"emulatorConfigChanged",s.Ba),(s.$=l)&&wi(l,"emulatorConfigChanged",s.Ba)}function wh(s,l){s.aa=l,IP(s.a,ge.SDK_VERSION?Al(ge.SDK_VERSION,s.aa):null)}Zr.prototype.Ga=function(){return St(this.aa)};function t1(s,l){s.ja&&Xr(s.ja,"frameworkChanged",s.Oa),(s.ja=l)&&wi(l,"frameworkChanged",s.Oa)}Zr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function n1(s){try{return ge.app(s.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function W8(s){return new Qb(function(){return s.I(!0)},function(l){return!!(l&&l.code=="auth/network-request-failed")},function(){var l=s.h.c-Date.now()-3e5;return 0<l?l:0})}function RO(s){s.J||s.D.b||(s.D.start(),Xr(s,"tokenChanged",s.ba),wi(s,"tokenChanged",s.ba))}function r1(s){Xr(s,"tokenChanged",s.ba),s.D.stop()}function i1(s,l){s.Aa=l,he(s,"_lat",l)}function H8(s,l){Ee(s.W,function(h){return h==l})}function su(s){for(var l=[],h=0;h<s.W.length;h++)l.push(s.W[h](s));return KN(l).then(function(){return s})}function _h(s){s.b&&!s.P&&(s.P=!0,yg(s.b,s))}function NO(s,l){gr(s,{uid:l.uid,displayName:l.displayName||null,photoURL:l.photoURL||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,isAnonymous:l.isAnonymous||!1,tenantId:l.tenantId||null,metadata:new Eg(l.createdAt,l.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}he(Zr.prototype,"providerId","firebase");function AO(){}function o1(s){return be().then(function(){if(s.J)throw new k("app-deleted")})}function s1(s){return Oe(s.providerData,function(l){return l.providerId})}function a1(s,l){l&&(PO(s,l.providerId),s.providerData.push(l))}function PO(s,l){Ee(s.providerData,function(h){return h.providerId==l})}function As(s,l,h){(l!="uid"||h)&&s.hasOwnProperty(l)&&he(s,l,h)}function Sg(s,l){s!=l&&(gr(s,{uid:l.uid,displayName:l.displayName,photoURL:l.photoURL,email:l.email,emailVerified:l.emailVerified,phoneNumber:l.phoneNumber,isAnonymous:l.isAnonymous,tenantId:l.tenantId,providerData:[]}),l.metadata?he(s,"metadata",z8(l.metadata)):he(s,"metadata",new Eg),ye(l.providerData,function(h){a1(s,h)}),V8(s.h,l.h),he(s,"refreshToken",s.h.a),bg(s.S,l.S.b))}e=Zr.prototype,e.reload=function(){var s=this;return hn(this,o1(this).then(function(){return u1(s).then(function(){return su(s)}).then(AO)}))};function u1(s){return s.I().then(function(l){var h=s.isAnonymous;return K8(s,l).then(function(){return h||As(s,"isAnonymous",!1),l})})}e.oc=function(s){return this.I(s).then(function(l){return new L8(l)})},e.I=function(s){var l=this;return hn(this,o1(this).then(function(){return l.h.getToken(s)}).then(function(h){if(!h)throw new k("internal-error");return h.accessToken!=l.Aa&&(i1(l,h.accessToken),l.dispatchEvent(new Vl("tokenChanged"))),As(l,"refreshToken",h.refreshToken),h.accessToken}))};function wo(s,l){l[Hi]&&s.Aa!=l[Hi]&&(xO(s.h,l),s.dispatchEvent(new Vl("tokenChanged")),i1(s,l[Hi]),As(s,"refreshToken",s.h.a))}function K8(s,l){return Ge(s.a,xH,{idToken:l}).then(R(s.Kc,s))}e.Kc=function(s){if(s=s.users,!s||!s.length)throw new k("internal-error");s=s[0],NO(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var l=G8(s),h=0;h<l.length;h++)a1(this,l[h]);As(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Vl("userReloaded",{hd:s}))};function G8(s){return(s=s.providerUserInfo)&&s.length?Oe(s,function(l){return new q8(l.rawId,l.providerId,l.email,l.displayName,l.photoUrl,l.phoneNumber)}):[]}e.Lc=function(s){return A_("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(s)},e.ub=function(s){var l=this,h=null;return hn(this,s.c(this.a,this.uid).then(function(v){return wo(l,v),h=bh(l,v,"reauthenticate"),l.i=null,l.reload()}).then(function(){return h}),!0)};function Tg(s,l){return u1(s).then(function(){if(Ae(s1(s),l))return su(s).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(s){return A_("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(s)},e.rb=function(s){var l=this,h=null;return hn(this,Tg(this,s.providerId).then(function(){return l.I()}).then(function(v){return s.b(l.a,v)}).then(function(v){return h=bh(l,v,"link"),OO(l,v)}).then(function(){return h}))},e.Dc=function(s,l){var h=this;return hn(this,Tg(this,"phone").then(function(){return qb(n1(h),s,l,R(h.rb,h))}))},e.Mc=function(s,l){var h=this;return hn(this,be().then(function(){return qb(n1(h),s,l,R(h.ub,h))}),!0)};function bh(s,l,h){var v=Y_(l);return l=QA(l),mo({user:s,credential:v,additionalUserInfo:l,operationType:h})}function OO(s,l){return wo(s,l),s.reload().then(function(){return s})}e.Cb=function(s){var l=this;return hn(this,this.I().then(function(h){return l.a.Cb(h,s)}).then(function(h){return wo(l,h),l.reload()}))},e.ed=function(s){var l=this;return hn(this,this.I().then(function(h){return s.b(l.a,h)}).then(function(h){return wo(l,h),l.reload()}))},e.Db=function(s){var l=this;return hn(this,this.I().then(function(h){return l.a.Db(h,s)}).then(function(h){return wo(l,h),l.reload()}))},e.Eb=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return o1(this);var l=this;return hn(this,this.I().then(function(h){return l.a.Eb(h,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(h){return wo(l,h),As(l,"displayName",h.displayName||null),As(l,"photoURL",h.photoUrl||null),ye(l.providerData,function(v){v.providerId==="password"&&(he(v,"displayName",l.displayName),he(v,"photoURL",l.photoURL))}),su(l)}).then(AO))},e.cd=function(s){var l=this;return hn(this,u1(this).then(function(h){return Ae(s1(l),s)?mH(l.a,h,[s]).then(function(v){var y={};return ye(v.providerUserInfo||[],function(E){y[E.providerId]=!0}),ye(s1(l),function(E){y[E]||PO(l,E)}),y[Wo.PROVIDER_ID]||he(l,"phoneNumber",null),su(l)}):su(l).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var s=this;return hn(this,this.I().then(function(l){return Ge(s.a,EH,{idToken:l})}).then(function(){s.dispatchEvent(new Vl("userDeleted"))})).then(function(){for(var l=0;l<s.N.length;l++)s.N[l].cancel("app-deleted");Zb(s,null),e1(s,null),t1(s,null),s.N=[],s.J=!0,r1(s),he(s,"refreshToken",null),s.b&&Ub(s.b,s)})},e.Gb=function(s,l){return!!(s=="linkViaPopup"&&(this.g||null)==l&&this.f||s=="reauthViaPopup"&&(this.g||null)==l&&this.f||s=="linkViaRedirect"&&(this.ga||null)==l||s=="reauthViaRedirect"&&(this.ga||null)==l)},e.na=function(s,l,h,v){s!="linkViaPopup"&&s!="reauthViaPopup"||v!=(this.g||null)||(h&&this.C?this.C(h):l&&!h&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(s,l){return s=="linkViaPopup"&&l==(this.g||null)?R(this.Lb,this):s=="reauthViaPopup"&&l==(this.g||null)?R(this.Mb,this):s=="linkViaRedirect"&&(this.ga||null)==l?R(this.Lb,this):s=="reauthViaRedirect"&&(this.ga||null)==l?R(this.Mb,this):null},e.Ec=function(s){var l=this;return DO(this,"linkViaPopup",s,function(){return Tg(l,s.providerId).then(function(){return su(l)})},!1)},e.Nc=function(s){return DO(this,"reauthViaPopup",s,function(){return be()},!0)};function DO(s,l,h,v,y){if(!Qa())return Nt(new k("operation-not-supported-in-this-environment"));if(s.i&&!y)return Nt(s.i);var E=q_(h.providerId),I=Ya(s.uid+":::"),A=null;(!Xf()||k_())&&s.s&&h.isOAuthProvider&&(A=ph(s.s,s.l,s.m,l,h,null,I,ge.SDK_VERSION||null,null,null,s.tenantId,s.u));var z=SA(A,E&&E.va,E&&E.ua);return v=v().then(function(){if(LO(s),!y)return s.I().then(function(){})}).then(function(){return pO(s.b,z,l,h,I,!!A,s.tenantId)}).then(function(){return new He(function(W,Pe){s.na(l,null,new k("cancelled-popup-request"),s.g||null),s.f=W,s.C=Pe,s.g=I,s.c=gO(s.b,s,l,z,I)})}).then(function(W){return z&&Ga(z),W?mo(W):null}).o(function(W){throw z&&Ga(z),W}),hn(s,v,y)}e.Fc=function(s){var l=this;return MO(this,"linkViaRedirect",s,function(){return Tg(l,s.providerId)},!1)},e.Oc=function(s){return MO(this,"reauthViaRedirect",s,function(){return be()},!0)};function MO(s,l,h,v,y){if(!Qa())return Nt(new k("operation-not-supported-in-this-environment"));if(s.i&&!y)return Nt(s.i);var E=null,I=Ya(s.uid+":::");return v=v().then(function(){if(LO(s),!y)return s.I().then(function(){})}).then(function(){return s.ga=I,su(s)}).then(function(A){return s.ha&&(A=s.ha,A=A.b.set(l1,s.w(),A.a)),A}).then(function(){return vO(s.b,l,h,I,s.tenantId)}).o(function(A){if(E=A,s.ha)return $O(s.ha);throw E}).then(function(){if(E)throw E}),hn(s,v,y)}function LO(s){if(!s.b||!s.P)throw s.b&&!s.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(s,l,h,v){var y=this;this.c&&(this.c.cancel(),this.c=null);var E=null;return h=this.I().then(function(I){return mb(y.a,{requestUri:s,postBody:v,sessionId:l,idToken:I})}).then(function(I){return E=bh(y,I,"link"),OO(y,I)}).then(function(){return E}),hn(this,h)},e.Mb=function(s,l,h,v){var y=this;this.c&&(this.c.cancel(),this.c=null);var E=null,I=be().then(function(){return Ml(yb(y.a,{requestUri:s,sessionId:l,postBody:v,tenantId:h}),y.uid)}).then(function(A){return E=bh(y,A,"reauthenticate"),wo(y,A),y.i=null,y.reload()}).then(function(){return E});return hn(this,I,!0)},e.vb=function(s){var l=this,h=null;return hn(this,this.I().then(function(v){return h=v,typeof s>"u"||gt(s)?{}:Wv(new qv(s))}).then(function(v){return l.a.vb(h,v)}).then(function(v){if(l.email!=v)return l.reload()}).then(function(){}))},e.Fb=function(s,l){var h=this,v=null;return hn(this,this.I().then(function(y){return v=y,typeof l>"u"||gt(l)?{}:Wv(new qv(l))}).then(function(y){return h.a.Fb(v,s,y)}).then(function(y){if(h.email!=y)return h.reload()}).then(function(){}))};function hn(s,l,h){var v=Q8(s,l,h);return s.N.push(v),v.oa(function(){_t(s.N,v)}),v.o(function(y){var E=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(E=TO(y.w(),n1(s),R(s.jc,s))),E||y})}e.jc=function(s){var l=null,h=this;return s=Ml(be(s),h.uid).then(function(v){return l=bh(h,v,"reauthenticate"),wo(h,v),h.i=null,h.reload()}).then(function(){return l}),hn(this,s,!0)};function Q8(s,l,h){return s.i&&!h?(l.cancel(),Nt(s.i)):l.o(function(v){throw!v||v.code!="auth/user-disabled"&&v.code!="auth/user-token-expired"||(s.i||s.dispatchEvent(new Vl("userInvalidated")),s.i=v),v})}e.toJSON=function(){return this.w()},e.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&we(s,this.metadata.w()),ye(this.providerData,function(l){s.providerData.push(_W(l))}),we(s,this.S.w()),s};function FO(s){if(!s.apiKey)return null;var l={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},h={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){h[Hi]=s.stsTokenManager.accessToken,h.refreshToken=s.stsTokenManager.refreshToken||null;var v=s.stsTokenManager.expirationTime;v&&(h.expiresIn=(v-Date.now())/1e3)}else return null;var y=new Zr(l,h,s);return s.providerData&&ye(s.providerData,function(E){E&&a1(y,mo(E))}),s.redirectEventId&&(y.ga=s.redirectEventId),y}function Y8(s,l,h,v){var y=new Zr(s,l);return h&&(y.ha=h),v&&wh(y,v),y.reload().then(function(){return y})}function X8(s,l,h,v){var y=s.h,E={};return E[Hi]=y.b&&y.b.toString(),E.refreshToken=y.a,l=new Zr(l||{apiKey:s.l,authDomain:s.s,appName:s.m},E),h&&(l.ha=h),v&&wh(l,v),Sg(l,s),l}function J8(s){this.a=s,this.b=yh()}var l1={name:"redirectUser",F:"session"};function $O(s){return jl(s.b,l1,s.a)}function Z8(s,l){return s.b.get(l1,s.a).then(function(h){return h&&l&&(h.authDomain=l),FO(h||{})})}function c1(s){this.a=s,this.b=yh(),this.c=null,this.f=eK(this),this.b.addListener(_o("local"),this.a,R(this.g,this))}c1.prototype.g=function(){var s=this,l=_o("local");Bl(this,function(){return be().then(function(){return s.c&&s.c.F!="local"?s.b.get(l,s.a):null}).then(function(h){if(h)return f1(s,"local").then(function(){s.c=l})})})};function f1(s,l){var h=[],v;for(v in $l)$l[v]!==l&&h.push(jl(s.b,_o($l[v]),s.a));return h.push(jl(s.b,h1,s.a)),zq(h)}function eK(s){var l=_o("local"),h=_o("session"),v=_o("none");return v8(s.b,l,s.a).then(function(){return s.b.get(h,s.a)}).then(function(y){return y?h:s.b.get(v,s.a).then(function(E){return E?v:s.b.get(l,s.a).then(function(I){return I?l:s.b.get(h1,s.a).then(function(A){return A?_o(A):l})})})}).then(function(y){return s.c=y,f1(s,y.F)}).o(function(){s.c||(s.c=l)})}var h1={name:"persistence",F:"session"};function _o(s){return{name:"authUser",F:s}}c1.prototype.yb=function(s){var l=null,h=this;return p8(s),Bl(this,function(){return s!=h.c.F?h.b.get(h.c,h.a).then(function(v){return l=v,f1(h,s)}).then(function(){if(h.c=_o(s),l)return h.b.set(h.c,l,h.a)}):be()})};function tK(s){return Bl(s,function(){return s.b.set(h1,s.c.F,s.a)})}function UO(s,l){return Bl(s,function(){return s.b.set(s.c,l.w(),s.a)})}function jO(s){return Bl(s,function(){return jl(s.b,s.c,s.a)})}function VO(s,l,h){return Bl(s,function(){return s.b.get(s.c,s.a).then(function(v){return v&&l&&(v.authDomain=l),v&&h&&(v.emulatorConfig=h),FO(v||{})})})}function Bl(s,l){return s.f=s.f.then(l,l),s.f}function Ki(s){if(this.l=!1,he(this,"settings",new bO),he(this,"app",s),vt(this).options&&vt(this).options.apiKey)s=ge.SDK_VERSION?Al(ge.SDK_VERSION):null,this.a=new Wi(vt(this).options&&vt(this).options.apiKey,se(pe),s);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ge.INTERNAL.createSubscribe(R(this.zc,this)),this.W=void 0,this.ib=ge.INTERNAL.createSubscribe(R(this.Ac,this)),zl(this,null),this.i=new c1(vt(this).options.apiKey+":"+vt(this).name),this.D=new J8(vt(this).options.apiKey+":"+vt(this).name),this.$=qt(this,aK(this)),this.h=qt(this,uK(this)),this.ba=!1,this.ja=R(this.Zc,this),this.Ba=R(this.da,this),this.qa=R(this.mc,this),this.za=R(this.wc,this),this.Aa=R(this.xc,this),this.b=null,iK(this),this.INTERNAL={},this.INTERNAL.delete=R(this.delete,this),this.INTERNAL.logFramework=R(this.Gc,this),this.u=0,vr.call(this),rK(this),this.J=[],this.R=null}L(Ki,vr);function BO(s){Mr.call(this,"languageCodeChanged"),this.h=s}L(BO,Mr);function zO(s){Mr.call(this,"emulatorConfigChanged"),this.c=s}L(zO,Mr);function qO(s){Mr.call(this,"frameworkChanged"),this.f=s}L(qO,Mr),e=Ki.prototype,e.yb=function(s){return s=this.i.yb(s),qt(this,s)},e.xa=function(s){this.aa===s||this.l||(this.aa=s,TP(this.a,this.aa),this.dispatchEvent(new BO(this.la())))},e.la=function(){return this.aa},e.fd=function(){var s=c.navigator;this.xa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},e.gd=function(s,l){if(!this.R){if(!/^https?:\/\//.test(s))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");l=l?!!l.disableWarnings:!1,nK(l),this.R={url:s,ec:l},this.settings.jb=!0,cg(this.a,this.R),this.dispatchEvent(new zO(this.R))}};function nK(s){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!s&&Vv().then(function(){var l=c.document.createElement("div");l.innerText="Running in emulator mode. Do not use with production credentials.",l.style.position="fixed",l.style.width="100%",l.style.backgroundColor="#ffffff",l.style.border=".1em solid #000000",l.style.color="#b50000",l.style.bottom="0px",l.style.left="0px",l.style.margin="0px",l.style.zIndex=1e4,l.style.textAlign="center",l.classList.add("firebase-emulator-warning"),c.document.body.appendChild(l)})}e.Gc=function(s){this.J.push(s),IP(this.a,ge.SDK_VERSION?Al(ge.SDK_VERSION,this.J):null),this.dispatchEvent(new qO(this.J))},e.Ga=function(){return St(this.J)},e.zb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},e.T=function(){return this.S};function rK(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(l){this.xa(l)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(l){this.zb(l)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.R){var l=Lr(this.R.url);l=mo({protocol:l.c,host:l.a,port:l.g,options:mo({disableWarnings:this.R.ec})})}else l=null;return l},enumerable:!1})}e.toJSON=function(){return{apiKey:vt(this).options.apiKey,authDomain:vt(this).options.authDomain,appName:vt(this).name,currentUser:$e(this)&&$e(this).w()}};function d1(s){return s.Oa||Nt(new k("auth-domain-config-required"))}function iK(s){var l=vt(s).options.authDomain,h=vt(s).options.apiKey;l&&Qa()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=Bb(l,h,vt(s).name,s.R),yg(s.b,s),$e(s)&&_h($e(s)),s.m){_h(s.m);var v=s.m;v.xa(s.la()),Zb(v,s),v=s.m,wh(v,s.J),t1(v,s),v=s.m,Jb(v,s.R),e1(v,s),s.m=null}return s.b}}))}e.Gb=function(s,l){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==l&&!!this.f;default:return!1}},e.na=function(s,l,h,v){s=="signInViaPopup"&&this.g==v&&(h&&this.C?this.C(h):l&&!h&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(s,l){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==l&&this.f?R(this.ic,this):null},e.ic=function(s,l,h,v){var y=this,E={requestUri:s,postBody:v,sessionId:l,tenantId:h};return this.c&&(this.c.cancel(),this.c=null),y.$.then(function(){return au(y,gb(y.a,E))})},e.Xc=function(s){if(!Qa())return Nt(new k("operation-not-supported-in-this-environment"));var l=this,h=q_(s.providerId),v=Ya(),y=null;(!Xf()||k_())&&vt(this).options.authDomain&&s.isOAuthProvider&&(y=ph(vt(this).options.authDomain,vt(this).options.apiKey,vt(this).name,"signInViaPopup",s,null,v,ge.SDK_VERSION||null,null,null,this.T(),this.R));var E=SA(y,h&&h.va,h&&h.ua);return h=d1(this).then(function(I){return pO(I,E,"signInViaPopup",s,v,!!y,l.T())}).then(function(){return new He(function(I,A){l.na("signInViaPopup",null,new k("cancelled-popup-request"),l.g),l.f=I,l.C=A,l.g=v,l.c=gO(l.b,l,"signInViaPopup",E,v)})}).then(function(I){return E&&Ga(E),I?mo(I):null}).o(function(I){throw E&&Ga(E),I}),qt(this,h)},e.Yc=function(s){if(!Qa())return Nt(new k("operation-not-supported-in-this-environment"));var l=this,h=d1(this).then(function(){return tK(l.i)}).then(function(){return vO(l.b,"signInViaRedirect",s,void 0,l.T())});return qt(this,h)};function WO(s){if(!Qa())return Nt(new k("operation-not-supported-in-this-environment"));var l=d1(s).then(function(){return s.b.ra()}).then(function(h){return h?mo(h):null});return qt(s,l)}e.ra=function(){var s=this;return WO(this).then(function(l){return s.b&&_g(s.b.b),l}).o(function(l){throw s.b&&_g(s.b.b),l})},e.dd=function(s){if(!s)return Nt(new k("null-user"));if(this.S!=s.tenantId)return Nt(new k("tenant-id-mismatch"));var l=this,h={};h.apiKey=vt(this).options.apiKey,h.authDomain=vt(this).options.authDomain,h.appName=vt(this).name;var v=X8(s,h,l.D,l.Ga());return qt(this,this.h.then(function(){if(vt(l).options.apiKey!=s.l)return v.reload()}).then(function(){return $e(l)&&s.uid==$e(l).uid?(Sg($e(l),s),l.da(s)):(zl(l,v),_h(v),l.da(v))}).then(function(){Eh(l)}))};function oK(s,l){var h={};return h.apiKey=vt(s).options.apiKey,h.authDomain=vt(s).options.authDomain,h.appName=vt(s).name,s.R&&(h.emulatorConfig=s.R),s.$.then(function(){return Y8(h,l,s.D,s.Ga())}).then(function(v){return $e(s)&&v.uid==$e(s).uid?(Sg($e(s),v),s.da(v)):(zl(s,v),_h(v),s.da(v))}).then(function(){Eh(s)})}function zl(s,l){$e(s)&&(H8($e(s),s.Ba),Xr($e(s),"tokenChanged",s.qa),Xr($e(s),"userDeleted",s.za),Xr($e(s),"userInvalidated",s.Aa),r1($e(s))),l&&(l.W.push(s.Ba),wi(l,"tokenChanged",s.qa),wi(l,"userDeleted",s.za),wi(l,"userInvalidated",s.Aa),0<s.u&&RO(l)),he(s,"currentUser",l),l&&(l.xa(s.la()),Zb(l,s),wh(l,s.J),t1(l,s),Jb(l,s.R),e1(l,s))}e.Bb=function(){var s=this,l=this.h.then(function(){return s.b&&_g(s.b.b),$e(s)?(zl(s,null),jO(s.i).then(function(){Eh(s)})):be()});return qt(this,l)};function sK(s){var l=Z8(s.D,vt(s).options.authDomain).then(function(h){return(s.m=h)&&(h.ha=s.D),$O(s.D)});return qt(s,l)}function aK(s){var l=vt(s).options.authDomain,h=sK(s).then(function(){return VO(s.i,l,s.R)}).then(function(v){return v?(v.ha=s.D,s.m&&(s.m.ga||null)==(v.ga||null)?v:v.reload().then(function(){return UO(s.i,v).then(function(){return v})}).o(function(y){return y.code=="auth/network-request-failed"?v:jO(s.i)})):null}).then(function(v){zl(s,v||null)});return qt(s,h)}function uK(s){return s.$.then(function(){return WO(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var l=s.i;l.b.addListener(_o("local"),l.a,s.ja)}})}e.Zc=function(){var s=this;return VO(this.i,vt(this).options.authDomain).then(function(l){if(!s.l){var h;if(h=$e(s)&&l){h=$e(s).uid;var v=l.uid;h=h==null||h===""||v===void 0||v===null||v===""?!1:h==v}if(h)return Sg($e(s),l),$e(s).I();($e(s)||l)&&(zl(s,l),l&&(_h(l),l.ha=s.D),s.b&&yg(s.b,s),Eh(s))}})},e.da=function(s){return UO(this.i,s)},e.mc=function(){Eh(this),this.da($e(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function au(s,l){var h=null,v=null;return qt(s,l.then(function(y){return h=Y_(y),v=QA(y),oK(s,y)},function(y){var E=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(E=TO(y.w(),s,R(s.kc,s))),E||y}).then(function(){return mo({user:$e(s),credential:h,additionalUserInfo:v,operationType:"signIn"})}))}e.kc=function(s){var l=this;return this.h.then(function(){return au(l,be(s))})},e.zc=function(s){var l=this;this.addAuthTokenListener(function(){s.next($e(l))})},e.Ac=function(s){var l=this;lK(this,function(){s.next($e(l))})},e.Ic=function(s,l,h){var v=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s($e(v)):typeof s.next=="function"&&s.next($e(v))}),this.Pa(s,l,h)},e.Hc=function(s,l,h){var v=this;return this.ba&&Promise.resolve().then(function(){v.W=v.getUid(),typeof s=="function"?s($e(v)):typeof s.next=="function"&&s.next($e(v))}),this.ib(s,l,h)},e.nc=function(s){var l=this,h=this.h.then(function(){return $e(l)?$e(l).I(s).then(function(v){return{accessToken:v}}):null});return qt(this,h)},e.Tc=function(s){var l=this;return this.h.then(function(){return au(l,Ge(l.a,zH,{token:s}))}).then(function(h){var v=h.user;return As(v,"isAnonymous",!1),l.da(v),h})},e.Uc=function(s,l){var h=this;return this.h.then(function(){return au(h,Ge(h.a,DP,{email:s,password:l}))})},e.dc=function(s,l){var h=this;return this.h.then(function(){return au(h,Ge(h.a,_H,{email:s,password:l}))})},e.ab=function(s){var l=this;return this.h.then(function(){return au(l,s.ka(l.a))})},e.Sc=function(s){return A_("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(s)},e.Ab=function(){var s=this;return this.h.then(function(){var l=$e(s);if(l&&l.isAnonymous){var h=mo({providerId:null,isNewUser:!1});return mo({user:l,credential:null,additionalUserInfo:h,operationType:"signIn"})}return au(s,s.a.Ab()).then(function(v){var y=v.user;return As(y,"isAnonymous",!0),s.da(y),v})})};function vt(s){return s.app}function $e(s){return s.currentUser}e.getUid=function(){return $e(this)&&$e(this).uid||null};function Ig(s){return $e(s)&&$e(s)._lat||null}function Eh(s){if(s.ba){for(var l=0;l<s.s.length;l++)s.s[l]&&s.s[l](Ig(s));if(s.W!==s.getUid()&&s.N.length)for(s.W=s.getUid(),l=0;l<s.N.length;l++)s.N[l]&&s.N[l](Ig(s))}}e.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&$e(this)&&RO($e(this))},e.Pc=function(s){var l=this;ye(this.s,function(h){h==s&&l.u--}),0>this.u&&(this.u=0),this.u==0&&$e(this)&&r1($e(this)),this.removeAuthTokenListener(s)},e.addAuthTokenListener=function(s){var l=this;this.s.push(s),qt(this,this.h.then(function(){l.l||Ae(l.s,s)&&s(Ig(l))}))},e.removeAuthTokenListener=function(s){Ee(this.s,function(l){return l==s})};function lK(s,l){s.N.push(l),qt(s,s.h.then(function(){!s.l&&Ae(s.N,l)&&s.W!==s.getUid()&&(s.W=s.getUid(),l(Ig(s)))}))}e.delete=function(){this.l=!0;for(var s=0;s<this.P.length;s++)this.P[s].cancel("app-deleted");return this.P=[],this.i&&(s=this.i,s.b.removeListener(_o("local"),s.a,this.ja)),this.b&&(Ub(this.b,this),_g(this.b.b)),Promise.resolve()};function qt(s,l){return s.P.push(l),l.oa(function(){_t(s.P,l)}),l}e.hc=function(s){return qt(this,fH(this.a,s))},e.Bc=function(s){return!!Q_(s)},e.xb=function(s,l){var h=this;return qt(this,be().then(function(){var v=new qv(l);if(!v.c)throw new k("argument-error",B_+" must be true when sending sign in link to email");return Wv(v)}).then(function(v){return h.a.xb(s,v)}).then(function(){}))},e.jd=function(s){return this.Sa(s).then(function(l){return l.data.email})},e.ob=function(s,l){return qt(this,this.a.ob(s,l).then(function(){}))},e.Sa=function(s){return qt(this,this.a.Sa(s).then(function(l){return new EW(l)}))},e.kb=function(s){return qt(this,this.a.kb(s).then(function(){}))},e.wb=function(s,l){var h=this;return qt(this,be().then(function(){return typeof l>"u"||gt(l)?{}:Wv(new qv(l))}).then(function(v){return h.a.wb(s,v)}).then(function(){}))},e.Wc=function(s,l){return qt(this,qb(this,s,l,R(this.ab,this)))},e.Vc=function(s,l){var h=this;return qt(this,be().then(function(){var v=l||Yf(),y=aP(s,v);if(v=Q_(v),!v)throw new k("argument-error","Invalid email link!");if(v.tenantId!==h.T())throw new k("tenant-id-mismatch");return h.ab(y)}))};function Sh(){}Sh.prototype.render=function(){},Sh.prototype.reset=function(){},Sh.prototype.getResponse=function(){},Sh.prototype.execute=function(){};function ql(){this.a={},this.b=1e12}var p1=null;ql.prototype.render=function(s,l){return this.a[this.b.toString()]=new Cg(s,l),this.b++},ql.prototype.reset=function(s){var l=v1(this,s);s=HO(s),l&&s&&(l.delete(),delete this.a[s])},ql.prototype.getResponse=function(s){return(s=v1(this,s))?s.getResponse():null},ql.prototype.execute=function(s){(s=v1(this,s))&&s.execute()};function v1(s,l){return(l=HO(l))&&s.a[l]||null}function HO(s){return(s=typeof s>"u"?1e12:s)?s.toString():null}function Cg(s,l){this.g=!1,this.c=l,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=zf(s);var h=this;this.i=function(){h.execute()},this.h?this.execute():wi(this.f,"click",this.i)}Cg.prototype.getResponse=function(){return g1(this),this.b},Cg.prototype.execute=function(){g1(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=gW();var l=s.c.callback,h=s.c["expired-callback"];if(l)try{l(s.b)}catch{}s.a=setTimeout(function(){if(s.a=null,s.b=null,h)try{h()}catch{}s.h&&s.execute()},6e4)},500))},Cg.prototype.delete=function(){g1(this),this.g=!0,clearTimeout(this.a),this.a=null,Xr(this.f,"click",this.i)};function g1(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function m1(){}he(m1,"FACTOR_ID","phone");function y1(){}y1.prototype.g=function(){return p1||(p1=new ql),be(p1)},y1.prototype.c=function(){};var w1=null;function _1(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cK=new yi(xv,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),fK=new xs(3e4,6e4);_1.prototype.g=function(s){var l=this;return new He(function(h,v){var y=setTimeout(function(){v(new k("network-request-failed"))},fK.get());if(!c.grecaptcha||s!==l.f&&!l.b){c[l.a]=function(){if(c.grecaptcha){l.f=s;var I=c.grecaptcha.render;c.grecaptcha.render=function(A,z){return A=I(A,z),l.b++,A},clearTimeout(y),h(c.grecaptcha)}else clearTimeout(y),v(new k("internal-error"));delete c[l.a]};var E=t_(cK,{onload:l.a,hl:s||""});be(lb(E)).o(function(){clearTimeout(y),v(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(y),h(c.grecaptcha)})},_1.prototype.c=function(){this.b--};var b1=null;function E1(s,l,h,v,y,E,I){if(he(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=l,this.g=null,I?(w1||(w1=new y1),I=w1):(b1||(b1=new _1),I=b1),this.m=I,this.a=h||{theme:"light",type:"image"},this.h=[],this.a[QO])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[hK]==="invisible",!c.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!zf(l)||!this.i&&zf(l).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Wi(s,E||null,y||null),this.u=v||function(){return null};var A=this;this.l=[];var z=this.a[KO];this.a[KO]=function(Pe){if(YO(A,Pe),typeof z=="function")z(Pe);else if(typeof z=="string"){var ct=At(z,c);typeof ct=="function"&&ct(Pe)}};var W=this.a[GO];this.a[GO]=function(){if(YO(A,null),typeof W=="function")W();else if(typeof W=="string"){var Pe=At(W,c);typeof Pe=="function"&&Pe()}}}var KO="callback",GO="expired-callback",QO="sitekey",hK="size";function YO(s,l){for(var h=0;h<s.l.length;h++)try{s.l[h](l)}catch{}}function dK(s,l){Ee(s.l,function(h){return h==l})}function S1(s,l){return s.h.push(l),l.oa(function(){_t(s.h,l)}),l}e=E1.prototype,e.Ia=function(){var s=this;return this.f?this.f:this.f=S1(this,be().then(function(){if(Bv()&&!zi())return Vv();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(l){return s.g=l,Ge(s.s,DH,{})}).then(function(l){s.a[QO]=l.recaptchaSiteKey}).o(function(l){throw s.f=null,l}))},e.render=function(){kg(this);var s=this;return S1(this,this.Ia().then(function(){if(s.c===null){var l=s.v;if(!s.i){var h=zf(l);l=Uq("DIV"),h.appendChild(l)}s.c=s.g.render(l,s.a)}return s.c}))},e.verify=function(){kg(this);var s=this;return S1(this,this.render().then(function(l){return new He(function(h){var v=s.g.getResponse(l);if(v)h(v);else{var y=function(E){E&&(dK(s,y),h(E))};s.l.push(y),s.i&&s.g.execute(s.c)}})}))},e.reset=function(){kg(this),this.c!==null&&this.g.reset(this.c)};function kg(s){if(s.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){kg(this),this.J=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=zf(this.v);for(var l;l=s.firstChild;)s.removeChild(l)}};function T1(s,l,h){var v=!1;try{this.b=h||ge.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)h=this.b.options.apiKey;else throw new k("invalid-api-key");var y=this,E=null;try{E=this.b.auth().Ga()}catch{}try{v=this.b.auth().settings.appVerificationDisabledForTesting}catch{}E=ge.SDK_VERSION?Al(ge.SDK_VERSION,E):null,E1.call(this,h,s,l,function(){try{var I=y.b.auth().la()}catch{I=null}return I},E,se(pe),v)}L(T1,E1);function XO(s,l,h,v){e:{h=Array.prototype.slice.call(h);for(var y=0,E=!1,I=0;I<l.length;I++)if(l[I].optional)E=!0;else{if(E)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");y++}if(E=l.length,h.length<y||E<h.length)v="Expected "+(y==E?y==1?"1 argument":y+" arguments":y+"-"+E+" arguments")+" but got "+h.length+".";else{for(y=0;y<h.length;y++)if(E=l[y].optional&&h[y]===void 0,!l[y].M(h[y])&&!E){if(l=l[y],0>y||y>=JO.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");h=JO[y],v=(v?"":h+" argument ")+(l.name?'"'+l.name+'" ':"")+"must be "+l.K+".";break e}v=null}}if(v)throw new k("argument-error",s+" failed: "+v)}var JO="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function fe(s,l){return{name:s||"",K:"a valid string",optional:!!l,M:function(h){return typeof h=="string"}}}function I1(s,l){return{name:s||"",K:"a boolean",optional:!!l,M:function(h){return typeof h=="boolean"}}}function nn(s,l){return{name:s||"",K:"a valid object",optional:!!l,M:T}}function Wl(s,l){return{name:s||"",K:"a function",optional:!!l,M:function(h){return typeof h=="function"}}}function bo(s,l){return{name:s||"",K:"null",optional:!!l,M:function(h){return h===null}}}function pK(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function vK(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof Ki)}}}function gK(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof ge.app.App)}}}function Ps(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(l){if(!l)return!1;var h=!s||l.providerId===s;return!(!l.ka||!h)}}}function ZO(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.tb:!1}}}function Hl(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function C1(s,l){return T(s)&&typeof s.type=="string"&&s.type===l&&typeof s.Ha=="function"}function e2(s){return T(s)&&typeof s.uid=="string"}function xg(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function Gt(s,l,h,v){return{name:h||"",K:s.K+" or "+l.K,optional:!!v,M:function(y){return s.M(y)||l.M(y)}}}function Ft(s,l){for(var h in l){var v=l[h].name;s[v]=n2(v,s[h],l[h].j)}}function t2(s,l){for(var h in l){var v=l[h].name;v!==h&&Object.defineProperty(s,v,{get:F(function(y){return this[y]},h),set:F(function(y,E,I,A){XO(y,[I],[A],!0),this[E]=A},v,h,l[h].lb),enumerable:!0})}}function Qt(s,l,h,v){s[l]=n2(l,h,v)}function n2(s,l,h){function v(){var I=Array.prototype.slice.call(arguments);return XO(y,h,I),l.apply(this,I)}if(!h)return l;var y=mK(s),E;for(E in l)v[E]=l[E];for(E in l.prototype)v.prototype[E]=l.prototype[E];return v}function mK(s){return s=s.split("."),s[s.length-1]}Ft(Ki.prototype,{kb:{name:"applyActionCode",j:[fe("code")]},Sa:{name:"checkActionCode",j:[fe("code")]},ob:{name:"confirmPasswordReset",j:[fe("code"),fe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[fe("email"),fe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[fe("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[fe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Gt(nn(),Wl(),"nextOrObserver"),Wl("opt_error",!0),Wl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Gt(nn(),Wl(),"nextOrObserver"),Wl("opt_error",!0),Wl("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[fe("email"),Gt(nn("opt_actionCodeSettings",!0),bo(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[fe("email"),nn("actionCodeSettings")]},yb:{name:"setPersistence",j:[fe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ps()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ps()]},Tc:{name:"signInWithCustomToken",j:[fe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[fe("email"),fe("password")]},Vc:{name:"signInWithEmailLink",j:[fe("email"),fe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[fe("phoneNumber"),xg()]},Xc:{name:"signInWithPopup",j:[Hl()]},Yc:{name:"signInWithRedirect",j:[Hl()]},dd:{name:"updateCurrentUser",j:[Gt(function(s){return{name:"user",K:"an instance of Firebase User",optional:!!s,M:function(l){return!!(l&&l instanceof Zr)}}}(),bo(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[fe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[fe("url"),nn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[fe("code")]}}),t2(Ki.prototype,{lc:{name:"languageCode",lb:Gt(fe(),bo(),"languageCode")},ti:{name:"tenantId",lb:Gt(fe(),bo(),"tenantId")}}),Ki.Persistence=$l,Ki.Persistence.LOCAL="local",Ki.Persistence.SESSION="session",Ki.Persistence.NONE="none",Ft(Zr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[I1("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[I1("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ps()]},rb:{name:"linkWithCredential",j:[Ps()]},Dc:{name:"linkWithPhoneNumber",j:[fe("phoneNumber"),xg()]},Ec:{name:"linkWithPopup",j:[Hl()]},Fc:{name:"linkWithRedirect",j:[Hl()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ps()]},ub:{name:"reauthenticateWithCredential",j:[Ps()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[fe("phoneNumber"),xg()]},Nc:{name:"reauthenticateWithPopup",j:[Hl()]},Oc:{name:"reauthenticateWithRedirect",j:[Hl()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Gt(nn("opt_actionCodeSettings",!0),bo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[fe(null,!0)]},cd:{name:"unlink",j:[fe("provider")]},Cb:{name:"updateEmail",j:[fe("email")]},Db:{name:"updatePassword",j:[fe("password")]},ed:{name:"updatePhoneNumber",j:[Ps("phone")]},Eb:{name:"updateProfile",j:[nn("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[fe("email"),Gt(nn("opt_actionCodeSettings",!0),bo(null,!0),"opt_actionCodeSettings",!0)]}}),Ft(ql.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ft(Sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ft(He.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),t2(bO.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:I1("appVerificationDisabledForTesting")}}),Ft(zb.prototype,{confirm:{name:"confirm",j:[fe("verificationCode")]}}),Qt(Dl,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var l,h=[jW,VW,BW,UW],v=0;v<h.length;v++)if(l=h[v](s))return l;return null},[Gt(fe(),nn(),"json")]),Qt(bi,"credential",function(s,l){return new Rs(s,l)},[fe("email"),fe("password")]),Ft(Rs.prototype,{w:{name:"toJSON",j:[fe(null,!0)]}}),Ft(Za.prototype,{Ca:{name:"addScope",j:[fe("scope")]},Ka:{name:"setCustomParameters",j:[nn("customOAuthParameters")]}}),Qt(Za,"credential",rP,[Gt(fe(),nn(),"token")]),Qt(bi,"credentialWithLink",aP,[fe("email"),fe("emailLink")]),Ft(eu.prototype,{Ca:{name:"addScope",j:[fe("scope")]},Ka:{name:"setCustomParameters",j:[nn("customOAuthParameters")]}}),Qt(eu,"credential",iP,[Gt(fe(),nn(),"token")]),Ft(tu.prototype,{Ca:{name:"addScope",j:[fe("scope")]},Ka:{name:"setCustomParameters",j:[nn("customOAuthParameters")]}}),Qt(tu,"credential",oP,[Gt(fe(),Gt(nn(),bo()),"idToken"),Gt(fe(),bo(),"accessToken",!0)]),Ft(Ll.prototype,{Ka:{name:"setCustomParameters",j:[nn("customOAuthParameters")]}}),Qt(Ll,"credential",sP,[Gt(fe(),nn(),"token"),fe("secret",!0)]),Ft(Jr.prototype,{Ca:{name:"addScope",j:[fe("scope")]},credential:{name:"credential",j:[Gt(fe(),Gt(nn(),bo()),"optionsOrIdToken"),Gt(fe(),bo(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[nn("customOAuthParameters")]}}),Ft(qo.prototype,{w:{name:"toJSON",j:[fe(null,!0)]}}),Ft(Xa.prototype,{w:{name:"toJSON",j:[fe(null,!0)]}}),Qt(Wo,"credential",uP,[fe("verificationId"),fe("verificationCode")]),Ft(Wo.prototype,{gb:{name:"verifyPhoneNumber",j:[Gt(fe(),function(s,l){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!!l,M:function(h){return h?h.session&&h.phoneNumber?C1(h.session,rh)&&typeof h.phoneNumber=="string":h.session&&h.multiFactorHint?C1(h.session,Yv)&&e2(h.multiFactorHint):h.session&&h.multiFactorUid?C1(h.session,Yv)&&typeof h.multiFactorUid=="string":h.phoneNumber?typeof h.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),xg()]}}),Ft(Ns.prototype,{w:{name:"toJSON",j:[fe(null,!0)]}}),Ft(k.prototype,{toJSON:{name:"toJSON",j:[fe(null,!0)]}}),Ft(oh.prototype,{toJSON:{name:"toJSON",j:[fe(null,!0)]}}),Ft(Z_.prototype,{toJSON:{name:"toJSON",j:[fe(null,!0)]}}),Ft(Hb.prototype,{toJSON:{name:"toJSON",j:[fe(null,!0)]}}),Ft(Wb.prototype,{Rc:{name:"resolveSignIn",j:[ZO()]}}),Ft(Gb.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[ZO(),fe("displayName",!0)]},bd:{name:"unenroll",j:[Gt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:e2},fe(),"multiFactorInfoIdentifier")]}}),Ft(T1.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qt(V_,"parseLink",UA,[fe("link")]),Qt(m1,"assertion",function(s){return new CO(s)},[Ps("phone")]),function(){if(typeof ge<"u"&&ge.INTERNAL&&ge.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zv,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:j_,VERIFY_AND_CHANGE_EMAIL:th,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ki,AuthCredential:Dl,Error:k};Qt(s,"EmailAuthProvider",bi,[]),Qt(s,"FacebookAuthProvider",Za,[]),Qt(s,"GithubAuthProvider",eu,[]),Qt(s,"GoogleAuthProvider",tu,[]),Qt(s,"TwitterAuthProvider",Ll,[]),Qt(s,"OAuthProvider",Jr,[fe("providerId")]),Qt(s,"SAMLAuthProvider",nP,[fe("providerId")]),Qt(s,"PhoneAuthProvider",Wo,[vK()]),Qt(s,"RecaptchaVerifier",T1,[Gt(fe(),pK(),"recaptchaContainer"),nn("recaptchaParameters",!0),gK()]),Qt(s,"ActionCodeURL",V_,[]),Qt(s,"PhoneMultiFactorGenerator",m1,[]),ge.INTERNAL.registerComponent({name:"auth",instanceFactory:function(l){return l=l.getProvider("app").getImmediate(),new Ki(l)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(l){l.getProvider("auth-internal").initialize()}}),ge.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(l){return l=l.getProvider("auth").getImmediate(),{getUid:R(l.getUid,l),getToken:R(l.nc,l),addAuthTokenListener:R(l.cc,l),removeAuthTokenListener:R(l.Pc,l)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ge.registerVersion("@firebase/auth","0.16.8"),ge.INTERNAL.extendNamespace({User:Zr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var dY="@firebase/database",pY="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EU="";function SU(e){EU=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vY=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),vn(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Gd(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gY=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return ci(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TU=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new vY(t)}}catch{}return new gY},Tu=TU("localStorage"),bT=TU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kc=new cl("@firebase/database"),IU=function(){var e=1;return function(){return e++}}(),CU=function(e){var t=DQ(e),n=new NQ;n.update(t);var r=n.digest();return V0.encodeByteArray(r)},Up=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Up.apply(null,i):typeof i=="object"?n+=vn(i):n+=i,n+=" "}return n},Du=null,DD=!0,kU=function(e,t){Z(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(kc.logLevel=qe.VERBOSE,Du=kc.log.bind(kc),t&&bT.set("logging_enabled",!0)):typeof e=="function"?Du=e:(Du=null,bT.remove("logging_enabled"))},Cn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(DD===!0&&(DD=!1,Du===null&&bT.get("logging_enabled")===!0&&kU(!0)),Du){var n=Up.apply(null,e);Du(n)}},jp=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Cn.apply(void 0,je([e],Bn(t)))}},ET=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Up.apply(void 0,je([],Bn(e)));kc.error(n)},Mo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Up.apply(void 0,je([],Bn(e)));throw kc.error(n),new Error(n)},Wn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Up.apply(void 0,je([],Bn(e)));kc.warn(n)},mY=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},z0=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},yY=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ds="[MIN_NAME]",Lo="[MAX_NAME]",fl=function(e,t){if(e===t)return 0;if(e===ds||t===Lo)return-1;if(t===ds||e===Lo)return 1;var n=fy(e),r=fy(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},wY=function(e,t){return e===t?0:e<t?-1:1},Oh=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+vn(t))},sk=function(e){if(typeof e!="object"||e===null)return vn(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=vn(t[i]),r+=":",r+=sk(e[t[i]]);return r+="}",r},xU=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function wn(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var RU=function(e){Z(!z0(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,o,a,u,c;e===0?(o=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=u+r,a=Math.round(e*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(e/Math.pow(2,1-r-n))));var f=[];for(c=n;c;c-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(i?1:0),f.reverse();var d=f.join(""),p="";for(c=0;c<64;c+=8){var g=parseInt(d.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},_Y=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bY=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function EY(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var SY=new RegExp("^-?(0*)\\d{1,10}$"),NU=-2147483648,ak=2147483647,fy=function(e){if(SY.test(e)){var t=Number(e);if(t>=NU&&t<=ak)return t}return null},Ef=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Wn("Exception was thrown by user callback.",n),t},Math.floor(0))}},TY=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fd=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IY=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Wn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CY=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Cn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wn(t)},e}(),hd=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uk="5",AU="v",PU="s",OU="r",DU="f",MU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LU="ls",kY="p",ST="ac",FU="websocket",$U="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lk=function(){function e(t,n,r,i,o,a,u){o===void 0&&(o=!1),a===void 0&&(a=""),u===void 0&&(u=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tu.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Tu.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function xY(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function UU(e,t,n){Z(typeof t=="string","typeof type must == string"),Z(typeof n=="object","typeof params must == object");var r;if(t===FU)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===$U)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);xY(e)&&(n.ns=e.namespace);var i=[];return wn(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RY=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),ci(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return hU(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aE={},uE={};function ck(e){var t=e.toString();return aE[t]||(aE[t]=new RY),aE[t]}function NY(e,t){var n=e.toString();return uE[n]||(uE[n]=t()),uE[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AY=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var u=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var c=function(d){u[d]&&Ef(function(){r.onMessage_(u[d])})},f=0;f<u.length;++f)c(f);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MD="start",PY="close",OY="pLPCommand",DY="pRTLPCB",jU="id",VU="pw",BU="ser",MY="cb",LY="seg",FY="ts",$Y="d",UY="dframe",zU=1870,qU=30,jY=zU-qU,VY=25e3,BY=3e4,fk=function(){function e(t,n,r,i,o,a,u){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jp(t),this.stats_=ck(n),this.urlFn=function(f){return c.appCheckToken&&(f[ST]=c.appCheckToken),UU(n,$U,f)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new AY(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(BY)),yY(function(){if(!r.isClosed_){r.scriptTagHolder=new zY(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Bn(a,5),f=c[0],d=c[1],p=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,f===MD)r.id=d,r.password=p;else if(f===PY)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+f)},function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Bn(a,2),f=c[0],d=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(f,d)},function(){r.onClosed_()},r.urlFn);var i={};i[MD]="t",i[BU]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[MY]=r.scriptTagHolder.uniqueCallbackIdentifier),i[AU]=uk,r.transportSessionId&&(i[PU]=r.transportSessionId),r.lastSessionId&&(i[LU]=r.lastSessionId),r.applicationId&&(i[kY]=r.applicationId),r.appCheckToken&&(i[ST]=r.appCheckToken),typeof location<"u"&&location.hostname&&MU.test(location.hostname)&&(i[OU]=DU);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_Y()&&!bY()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=vn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=fU(n),i=xU(r,jY),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[UY]="t",r[jU]=t,r[VU]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=vn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),zY=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=IU(),window[OY+this.uniqueCallbackIdentifier]=t,window[DY+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";<\/script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){Cn("frame writing exception"),c.stack&&Cn(c.stack),Cn(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Cn("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[jU]=this.myID,t[VU]=this.myPW,t[BU]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+qU+r.length<=zU){var a=this.pendingSegs.shift();r=r+"&"+LY+i+"="+a.seg+"&"+FY+i+"="+a.ts+"&"+$Y+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(VY)),a=function(){clearTimeout(o),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Cn("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qY=16384,WY=45e3,hy=null;typeof MozWebSocket<"u"?hy=MozWebSocket:typeof WebSocket<"u"&&(hy=WebSocket);var yu=function(){function e(t,n,r,i,o,a,u){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jp(this.connId),this.stats_=ck(n),this.connURL=e.connectionURL_(n,a,u,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var o={};return o[AU]=uk,typeof location<"u"&&location.hostname&&MU.test(location.hostname)&&(o[OU]=DU),n&&(o[PU]=n),r&&(o[LU]=r),i&&(o[ST]=i),UU(t,FU,o)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tu.set("previous_websocket_failure",!0);try{var i,o,a,u;if(!vU()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new hy(this.connURL,[],o)}}catch(f){this.log_("Error instantiating WebSocket.");var c=f.message||f.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(f){r.handleIncomingFrame(f)},this.mySock.onerror=function(f){r.log_("WebSocket error.  Closing connection.");var d=f.message||f.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&hy!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Tu.isInMemoryStorage||Tu.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Tu.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Gd(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Z(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=vn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=xU(n,qY);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(WY))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HY=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[fk,yu]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=yu&&yu.isAvailable(),o=i&&!yu.previouslyFailed();if(t.webSocketOnly&&(i||Wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[yu];else{var a=this.transports_=[];try{for(var u=An(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var f=c.value;f&&f.isAvailable()&&a.push(f)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KY=6e4,GY=5e3,QY=10*1024,YY=100*1024,lE="t",LD="d",XY="s",FD="r",JY="e",$D="o",UD="a",jD="n",VD="p",ZY="h",WU=function(){function e(t,n,r,i,o,a,u,c,f,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jp("c:"+this.id+":"),this.transportManager_=new HY(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=fd(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>YY?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>QY?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(lE in t){var n=t[lE];n===UD?this.upgradeIfSecondaryHealthy_():n===FD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$D&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Oh("t",t),r=Oh("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:VD,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Oh("t",t),r=Oh("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Oh(lE,t);if(LD in t){var r=t[LD];if(n===ZY)this.onHandshake_(r);else if(n===jD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===XY?this.onConnectionShutdown_(r):n===FD?this.onReset_(r):n===JY?ET("Server Error: "+r):n===$D?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ET("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),uk!==r&&Wn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),fd(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(KY))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fd(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(GY))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:VD,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HU=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KU=function(){function e(t){this.allowedEvents_=t,this.listeners_={},Z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=je([],Bn(this.listeners_[t])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},e.prototype.validateEventType_=function(t){Z(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BD=function(e){oe(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ek()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return Z(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(KU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zD=32,qD=768,ut=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function st(){return new ut("")}function Ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ea(e){return e.pieces_.length-e.pieceNum_}function mt(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ut(e.pieces_,t)}function hk(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function eX(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Qd(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function GU(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ut(t,0)}function Lt(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ut)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new ut(n,0)}function Be(e){return e.pieceNum_>=e.pieces_.length}function Cr(e,t){var n=Ve(e),r=Ve(t);if(n===null)return t;if(n===r)return Cr(mt(e),mt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function tX(e,t){for(var n=Qd(e,0),r=Qd(t,0),i=0;i<n.length&&i<r.length;i++){var o=fl(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function dk(e,t){if(Ea(e)!==Ea(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ci(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ea(e)>Ea(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var nX=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Qd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=B0(this.parts_[r]);QU(this)}return e}();function rX(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=B0(t),QU(e)}function iX(e){var t=e.parts_.pop();e.byteLength_-=B0(t),e.parts_.length>0&&(e.byteLength_-=1)}function QU(e){if(e.byteLength_>qD)throw new Error(e.errorPrefix_+"has a key path longer than "+qD+" bytes ("+e.byteLength_+").");if(e.parts_.length>zD)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zD+") or object contains a cycle "+du(e))}function du(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oX=function(e){oe(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return Z(n==="visible","Unknown event type: "+n),[this.visible_]},t}(KU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dh=1e3,sX=60*5*1e3,aX=3*1e3,WD=30*1e3,uX=1.3,lX=3e4,cX="server_kill",HD=3,Mu=function(e){oe(t,e);function t(n,r,i,o,a,u,c,f){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=o,d.onServerInfoUpdate_=a,d.authTokenProvider_=u,d.appCheckTokenProvider_=c,d.authOverride_=f,d.id=t.nextPersistentConnectionId_++,d.log_=jp("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Dh,d.maxReconnectDelay_=sX,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,f&&!vU())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return oX.getInstance().on("visible",d.onVisible_,d),n.host.indexOf("fblocal")===-1&&BD.getInstance().on("online",d.onOnline_,d),d}return t.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(vn(a)),Z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new xn,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(c){var f=c.d;c.s==="ok"?(r.onDataUpdate_(o.p,f,!1,null),i.resolve(f)):i.reject(f)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var u=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[u];c===void 0||a!==c||(delete r.outstandingGets_[u],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},aX),this.connected_&&this.sendGet_(u),i.promise},t.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,u=n._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),Z(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Z(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");var c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(u).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var u={p:o},c="q";n.tag&&(u.q=i._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(c,u,function(f){var d=f.d,p=f.s;t.warnOnListenWarnings_(d,i);var g=r.listens.get(o)&&r.listens.get(o).get(a);g===n&&(r.log_("listen response",f),p!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(p,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&ci(n,"w")){var i=Ku(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Wn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||xQ(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=WD)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=kQ(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var u=a.s,c=a.d||"error";n.authToken_===r&&(u==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(u,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),Z(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},u="n";o&&(a.q=i,a.t=o),this.sendRequest(u,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(u){o&&setTimeout(function(){o(u.s,u.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},t.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},t.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var u={p:r,d:i};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:n,request:u,onComplete:o}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(u){r.log_(i+" response",u),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(u.s,u.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var u=o.d;r.log_("reportStats","Error sending stats: "+u)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+vn(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ET("Unrecognized action received from server: "+vn(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;Z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dh,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Dh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>lX&&(this.reconnectDelay_=Dh),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uX)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return M(this,void 0,void 0,function(){var n,r,i,o,a,u,c,f,d,p,g,m,w,_,T=this;return D(this,function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,f=function(){c?c.close():(u=!0,i())},d=function(S){Z(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(S)},this.realtime_={close:f,sendRequest:d},p=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)])];case 2:return g=Bn.apply(void 0,[b.sent(),2]),m=g[0],w=g[1],u?Cn("getToken() completed but was canceled"):(Cn("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=w&&w.token,c=new WU(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(S){Wn(S+" ("+T.repoInfo_.toString()+")"),T.interrupt(cX)},a)),[3,4];case 3:return _=b.sent(),this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&Wn(_),f()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Cn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Cn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],wT(this.interruptReasons_)&&(this.reconnectDelay_=Dh,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return sk(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new ut(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},t.prototype.onAuthRevoked_=function(n,r){Cn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=HD&&(this.reconnectDelay_=WD,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Cn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=HD&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=An(this.listens.values()),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var f=(i=void 0,An(c.values())),d=f.next();!d.done;d=f.next()){var p=d.value;this.sendListen_(p)}}catch(w){i={error:w}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var m=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(m.action,m.pathString,m.data,m.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+EU.replace(/\./g,"-")]=1,ek()?n["framework.cordova"]=1:pU()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=BD.getInstance().currentlyOnline();return wT(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(HU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q0=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Ye(ds,t),i=new Ye(ds,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Ye.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gg,YU=function(e){oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Gg},set:function(n){Gg=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return fl(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw _f("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Ye.MIN},t.prototype.maxPost=function(){return new Ye(Lo,Gg)},t.prototype.makePost=function(n,r){return Z(typeof n=="string","KeyIndex indexValue must always be a string."),new Ye(n,Gg)},t.prototype.toString=function(){return".key"},t}(q0),Ro=new YU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qg=function(){function e(t,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),eo=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=i!=null?i:ts.EMPTY_NODE,this.right=o!=null?o:ts.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ts.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return ts.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),fX=function(){function e(){}return e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new eo(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ts=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,eo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,eo.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Qg(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Qg(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Qg(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Qg(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new fX,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(e,t){return fl(e.name,t.name)}function pk(e,t){return fl(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TT;function dX(e){TT=e}var XU=function(e){return typeof e=="number"?"number:"+RU(e):"string:"+e},JU=function(e){if(e.isLeafNode()){var t=e.val();Z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ci(t,".sv"),"Priority must be a string or number.")}else Z(e===TT||e.isEmpty(),"priority of unexpected type.");Z(e===TT||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KD,zc=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),JU(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return KD},set:function(t){KD=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Be(t)?this:Ve(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Ve(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Z(r!==".priority"||Ea(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+XU(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=RU(this.value_):t+=this.value_,this.lazyHash_=CU(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Z(i>=0,"Unknown leaf type: "+n),Z(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZU,ej;function pX(e){ZU=e}function vX(e){ej=e}var gX=function(e){oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?fl(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Ye.MIN},t.prototype.maxPost=function(){return new Ye(Lo,new zc("[PRIORITY-POST]",ej))},t.prototype.makePost=function(n,r){var i=ZU(n);return new Ye(r,new zc("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(q0),Et=new gX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mX=Math.log(2),yX=function(){function e(t){var n=function(o){return parseInt(Math.log(o)/mX,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),dy=function(e,t,n,r){e.sort(t);var i=function(c,f){var d=f-c,p,g;if(d===0)return null;if(d===1)return p=e[c],g=n?n(p):p,new eo(g,p.node,eo.BLACK,null,null);var m=parseInt(d/2,10)+c,w=i(c,m),_=i(m+1,f);return p=e[m],g=n?n(p):p,new eo(g,p.node,eo.BLACK,w,_)},o=function(c){for(var f=null,d=null,p=e.length,g=function(b,S){var C=p-b,O=p;p-=b;var P=i(C+1,O),R=e[C],F=n?n(R):R;m(new eo(F,R.node,S,null,P))},m=function(b){f?(f.left=b,f=b):(d=b,f=b)},w=0;w<c.count;++w){var _=c.nextBitIsOne(),T=Math.pow(2,c.count-(w+1));_?g(T,eo.BLACK):(g(T,eo.BLACK),g(T,eo.RED))}return d},a=new yX(e.length),u=o(a);return new ts(r||t,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cE,Gl={},py=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return Z(Gl&&Et,"ChildrenNode.ts has not been loaded"),cE=cE||new e({".priority":Gl},{".priority":Et}),cE},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Ku(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ts?n:null},e.prototype.hasIndex=function(t){return ci(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){Z(t!==Ro,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Ye.Wrap),a=o.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();var u;i?u=dy(r,t.getCompare()):u=Gl;var c=t.toString(),f=Se({},this.indexSet_);f[c]=t;var d=Se({},this.indexes_);return d[c]=u,new e(d,f)},e.prototype.addToIndexes=function(t,n){var r=this,i=ly(this.indexes_,function(o,a){var u=Ku(r.indexSet_,a);if(Z(u,"Missing index implementation for "+a),o===Gl)if(u.isDefinedOn(t.node)){for(var c=[],f=n.getIterator(Ye.Wrap),d=f.getNext();d;)d.name!==t.name&&c.push(d),d=f.getNext();return c.push(t),dy(c,u.getCompare())}else return Gl;else{var p=n.get(t.name),g=o;return p&&(g=g.remove(new Ye(t.name,p))),g.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=ly(this.indexes_,function(i){if(i===Gl)return i;var o=n.get(t.name);return o?i.remove(new Ye(t.name,o)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mh,Le=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&JU(this.priorityNode_),this.children_.isEmpty()&&Z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Mh||(Mh=new e(new ts(pk),null,py.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Mh},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Mh:n},e.prototype.getChild=function(t){var n=Ve(t);return n===null?this:this.getImmediateChild(n).getChild(mt(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(Z(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Ye(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Mh:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(t,n){var r=Ve(t);if(r===null)return n;Z(Ve(t)!==".priority"||Ea(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(mt(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Et,function(c,f){n[c]=f.val(t),r++,o&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):o=!1}),!t&&o&&i<2*r){var a=[];for(var u in n)a[u]=n[u];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+XU(this.getPriority().val())+":"),this.forEachChild(Et,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":CU(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new Ye(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Ye(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Ye(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Ye.Wrap),o=i.peek();o!=null&&n.compare(o,t)<0;)i.getNext(),o=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Ye.Wrap),o=i.peek();o!=null&&n.compare(o,t)>0;)i.getNext(),o=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vp?-1:0},e.prototype.withIndex=function(t){if(t===Ro||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===Ro||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Et),i=n.getIterator(Et),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===Ro?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),wX=function(e){oe(t,e);function t(){return e.call(this,new ts(pk),Le.EMPTY_NODE,py.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return Le.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Le),Vp=new wX;Object.defineProperties(Ye,{MIN:{value:new Ye(ds,Le.EMPTY_NODE)},MAX:{value:new Ye(Lo,Vp)}});YU.__EMPTY_NODE=Le.EMPTY_NODE;zc.__childrenNodeConstructor=Le;dX(Vp);vX(Vp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _X=!0;function Ut(e,t){if(t===void 0&&(t=null),e===null)return Le.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new zc(n,Ut(t))}if(!(e instanceof Array)&&_X){var r=[],i=!1,o=e;if(wn(o,function(f,d){if(f.substring(0,1)!=="."){var p=Ut(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),r.push(new Ye(f,p)))}}),r.length===0)return Le.EMPTY_NODE;var a=dy(r,hX,function(f){return f.name},pk);if(i){var u=dy(r,Et.getCompare());return new Le(a,Ut(t),new py({".priority":u},{".priority":Et}))}else return new Le(a,Ut(t),py.Default)}else{var c=Le.EMPTY_NODE;return wn(e,function(f,d){if(ci(e,f)&&f.substring(0,1)!=="."){var p=Ut(d);(p.isLeafNode()||!p.isEmpty())&&(c=c.updateImmediateChild(f,p))}}),c.updatePriority(Ut(t))}}pX(Ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vk=function(e){oe(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,Z(!Be(n)&&Ve(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?fl(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=Ut(n),o=Le.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ye(r,o)},t.prototype.maxPost=function(){var n=Le.EMPTY_NODE.updateChild(this.indexPath_,Vp);return new Ye(Lo,n)},t.prototype.toString=function(){return Qd(this.indexPath_,0).join("/")},t}(q0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bX=function(e){oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?fl(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Ye.MIN},t.prototype.maxPost=function(){return Ye.MAX},t.prototype.makePost=function(n,r){var i=Ut(n);return new Ye(r,i)},t.prototype.toString=function(){return".value"},t}(q0),gk=new bX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IT="-",tj="z",nj=786,EX=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=qc.charAt(n%64),n=Math.floor(n/64);Z(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=qc.charAt(t[i]);return Z(a.length===20,"nextPushId: Length should be 20."),a}}(),GD=function(e){if(e===""+ak)return IT;var t=fy(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<nj)return n.push(IT),n.join("");for(var i=n.length-1;i>=0&&n[i]===tj;)i--;if(i===-1)return Lo;var o=n[i],a=qc.charAt(qc.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},QD=function(e){if(e===""+NU)return ds;var t=fy(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===IT?n.length===1?""+ak:(delete n[n.length-1],n.join("")):(n[n.length-1]=qc.charAt(qc.indexOf(n[n.length-1])-1),n.join("")+tj.repeat(nj-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(e){return{type:"value",snapshotNode:e}}function Wc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Yd(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Xd(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function SX(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mk=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,o,a){Z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=t.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Yd(n,u)):Z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Wc(n,r)):a.trackChildChange(Xd(n,r,u))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Et,function(i,o){n.hasChild(i)||r.trackChildChange(Yd(i,o))}),n.isLeafNode()||n.forEachChild(Et,function(i,o){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(o)||r.trackChildChange(Xd(i,o,a))}else r.trackChildChange(Wc(i,o))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?Le.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ij=function(){function e(t){this.indexedFilter_=new mk(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,o,a){return this.matches(new Ye(n,r))||(r=Le.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=Le.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Le.EMPTY_NODE);var o=this;return n.forEachChild(Et,function(a,u){o.matches(new Ye(a,u))||(i=i.updateImmediateChild(a,Le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TX=function(){function e(t){this.rangedFilter_=new ij(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,o,a){return this.rangedFilter_.matches(new Ye(n,r))||(r=Le.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,a):this.fullLimitUpdateChild_(t,n,r,o,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Le.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var u=o.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:c=this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(u.name,u.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Le.EMPTY_NODE);var f=void 0,d=void 0,p=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),f=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();p=function(T,b){return g(b,T)}}else o=i.getIterator(this.index_),f=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();for(var a=0,m=!1;o.hasNext();){var u=o.getNext();!m&&p(f,u)<=0&&(m=!0);var c=m&&a<this.limit_&&p(u,d)<=0;c?a++:i=i.updateImmediateChild(u.name,Le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,o){var a;if(this.reverse_){var u=this.index_.getCompare();a=function(S,C){return u(C,S)}}else a=this.index_.getCompare();var c=t;Z(c.numChildren()===this.limit_,"");var f=new Ye(n,r),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(c.hasChild(n)){for(var g=c.getImmediateChild(n),m=i.getChildAfterChild(this.index_,d,this.reverse_);m!=null&&(m.name===n||c.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);var w=m==null?1:a(m,f),_=p&&!r.isEmpty()&&w>=0;if(_)return o!=null&&o.trackChildChange(Xd(n,r,g)),c.updateImmediateChild(n,r);o!=null&&o.trackChildChange(Yd(n,g));var T=c.updateImmediateChild(n,Le.EMPTY_NODE),b=m!=null&&this.rangedFilter_.matches(m);return b?(o!=null&&o.trackChildChange(Wc(m.name,m.node)),T.updateImmediateChild(m.name,m.node)):T}else return r.isEmpty()?t:p&&a(d,f)>=0?(o!=null&&(o.trackChildChange(Yd(d.name,d.node)),o.trackChildChange(Wc(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(d.name,Le.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Et}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return Z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ds},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lo},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return Z(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Et},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function IX(e){return e.loadsAllData()?new mk(e.getIndex()):e.hasLimit()?new TX(e):new ij(e)}function CX(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function kX(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function CT(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function xX(e,t,n){var r;if(e.index_===Ro)typeof t=="string"&&(t=GD(t)),r=CT(e,t,n);else{var i=void 0;n==null?i=Lo:i=GD(n),r=CT(e,t,i)}return r.startAfterSet_=!0,r}function kT(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function RX(e,t,n){var r,i;return e.index_===Ro?(typeof t=="string"&&(t=QD(t)),i=kT(e,t,n)):(n==null?r=ds:r=QD(n),i=kT(e,t,r)),i.endBeforeSet_=!0,i}function W0(e,t){var n=e.copy();return n.index_=t,n}function YD(e){var t={};if(e.isDefault())return t;var n;return e.index_===Et?n="$priority":e.index_===gk?n="$value":e.index_===Ro?n="$key":(Z(e.index_ instanceof vk,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=vn(n),e.startSet_&&(t.startAt=vn(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+vn(e.indexStartName_))),e.endSet_&&(t.endAt=vn(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+vn(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function XD(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Et&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NX=function(e){oe(t,e);function t(n,r,i,o){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=jp("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(Z(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,o){var a=this,u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);var c=t.getListenId_(n,i),f={};this.listens_[c]=f;var d=YD(n._queryParams);this.restRequest_(u+".json",d,function(p,g){var m=g;if(p===404&&(m=null,p=null),p===null&&a.onDataUpdate_(u,m,!1,i),Ku(a.listens_,c)===f){var w;p?p===401?w="permission_denied":w="rest_error:"+p:w="ok",o(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=YD(n._queryParams),o=n._path.toString(),a=new xn;return this.restRequest_(o+".json",i,function(u,c){var f=c;u===404&&(f=null,u=null),u===null?(r.onDataUpdate_(o,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var u=Bn(a,2),c=u[0],f=u[1];c&&c.accessToken&&(r.auth=c.accessToken),f&&f.token&&(r.ac=f.token);var d=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+RQ(r);o.log_("Sending REST request for "+d);var p=new XMLHttpRequest;p.onreadystatechange=function(){if(i&&p.readyState===4){o.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);var g=null;if(p.status>=200&&p.status<300){try{g=Gd(p.responseText)}catch{Wn("Failed to parse JSON response for "+d+": "+p.responseText)}i(null,g)}else p.status!==401&&p.status!==404&&Wn("Got unsuccessful REST response for "+d+" Status: "+p.status),i(p.status);i=null}},p.open("GET",d,!0),p.send()})},t}(HU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AX=function(){function e(){this.rootNode_=Le.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){return{value:null,children:new Map}}function Sf(e,t,n){if(Be(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=Ve(t);e.children.has(r)||e.children.set(r,vy());var i=e.children.get(r);t=mt(t),Sf(i,t,n)}}function xT(e,t){if(Be(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Et,function(o,a){Sf(e,new ut(o),a)}),xT(e,t)}else if(e.children.size>0){var r=Ve(t);if(t=mt(t),e.children.has(r)){var i=xT(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function RT(e,t,n){e.value!==null?n(t,e.value):PX(e,function(r,i){var o=new ut(t.toString()+"/"+r);RT(i,o,n)})}function PX(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sj=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=Se({},t);return this.last_&&wn(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JD=10*1e3,OX=30*1e3,DX=5*60*1e3,MX=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new sj(t);var r=JD+(OX-JD)*Math.random();fd(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;wn(n,function(o,a){a>0&&ci(t.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),fd(this.reportStats_.bind(this),Math.floor(Math.random()*2*DX))},e}();function LX(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var io;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(io||(io={}));function yk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _k(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FX=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=io.ACK_USER_WRITE,this.source=yk()}return e.prototype.operationForChild=function(t){if(Be(this.path)){if(this.affectedTree.value!=null)return Z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ut(t));return new e(st(),n,this.revert)}else return Z(Ve(this.path)===t,"operationForChild called for unrelated child."),new e(mt(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aj=function(){function e(t,n){this.source=t,this.path=n,this.type=io.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Be(this.path)?new e(this.source,st()):new e(this.source,mt(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H0=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=io.OVERWRITE}return e.prototype.operationForChild=function(t){return Be(this.path)?new e(this.source,st(),this.snap.getImmediateChild(t)):new e(this.source,mt(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bk=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=io.MERGE}return e.prototype.operationForChild=function(t){if(Be(this.path)){var n=this.children.subtree(new ut(t));return n.isEmpty()?null:n.value?new H0(this.source,st(),n.value):new e(this.source,st(),n)}else return Z(Ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,mt(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sa=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(Be(t))return this.isFullyInitialized()&&!this.filtered_;var n=Ve(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $X=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function UX(e,t,n,r){var i=[],o=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(SX(a.childName,a.snapshotNode))}),Lh(e,i,"child_removed",t,r,n),Lh(e,i,"child_added",t,r,n),Lh(e,i,"child_moved",o,r,n),Lh(e,i,"child_changed",t,r,n),Lh(e,i,"value",t,r,n),i}function Lh(e,t,n,r,i,o){var a=r.filter(function(u){return u.type===n});a.sort(function(u,c){return VX(e,u,c)}),a.forEach(function(u){var c=jX(e,u,o);i.forEach(function(f){f.respondsTo(u.type)&&t.push(f.createEvent(c,e.query_))})})}function jX(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function VX(e,t,n){if(t.childName==null||n.childName==null)throw _f("Should only compare child_ events.");var r=new Ye(t.childName,t.snapshotNode),i=new Ye(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(e,t){return{eventCache:e,serverCache:t}}function dd(e,t,n,r){return K0(new Sa(t,n,r),e.serverCache)}function uj(e,t,n,r){return K0(e.eventCache,new Sa(t,n,r))}function gy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Gu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fE,BX=function(){return fE||(fE=new ts(wY)),fE},fi=function(){function e(t,n){n===void 0&&(n=BX()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return wn(t,function(r,i){n=n.set(new ut(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:st(),value:this.value};if(Be(t))return null;var r=Ve(t),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(mt(t),n);if(o!=null){var a=Lt(new ut(r),o.path);return{path:a,value:o.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(Be(t))return this;var n=Ve(t),r=this.children.get(n);return r!==null?r.subtree(mt(t)):new e(null)},e.prototype.set=function(t,n){if(Be(t))return new e(n,this.children);var r=Ve(t),i=this.children.get(r)||new e(null),o=i.set(mt(t),n),a=this.children.insert(r,o);return new e(this.value,a)},e.prototype.remove=function(t){if(Be(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Ve(t),r=this.children.get(n);if(r){var i=r.remove(mt(t)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this},e.prototype.get=function(t){if(Be(t))return this.value;var n=Ve(t),r=this.children.get(n);return r?r.get(mt(t)):null},e.prototype.setTree=function(t,n){if(Be(t))return n;var r=Ve(t),i=this.children.get(r)||new e(null),o=i.setTree(mt(t),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(st(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(Lt(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,st(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Be(t))return null;var o=Ve(t),a=this.children.get(o);return a?a.findOnPath_(mt(t),Lt(n,o),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,st(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(Be(t))return this;this.value&&r(n,this.value);var i=Ve(t),o=this.children.get(i);return o?o.foreachOnPath_(mt(t),Lt(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(st(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Lt(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var os=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new fi(null))},e}();function pd(e,t,n){if(Be(t))return new os(new fi(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,o=r.value,a=Cr(i,t);return o=o.updateChild(a,n),new os(e.writeTree_.set(i,o))}else{var u=new fi(n),c=e.writeTree_.setTree(t,u);return new os(c)}}function NT(e,t,n){var r=e;return wn(n,function(i,o){r=pd(r,Lt(t,i),o)}),r}function ZD(e,t){if(Be(t))return os.empty();var n=e.writeTree_.setTree(t,new fi(null));return new os(n)}function AT(e,t){return hl(e,t)!=null}function hl(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Cr(n.path,t)):null}function eM(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Et,function(r,i){t.push(new Ye(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Ye(r,i.value))}),t}function ca(e,t){if(Be(t))return e;var n=hl(e,t);return n!=null?new os(new fi(n)):new os(e.writeTree_.subtree(t))}function PT(e){return e.writeTree_.isEmpty()}function Hc(e,t){return lj(st(),e.writeTree_,t)}function lj(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,o){i===".priority"?(Z(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=lj(Lt(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Lt(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(e,t){return dj(t,e)}function zX(e,t,n,r,i){Z(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=pd(e.visibleWrites,t,n)),e.lastWriteId=r}function qX(e,t,n,r){Z(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=NT(e.visibleWrites,t,n),e.lastWriteId=r}function WX(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function HX(e,t){var n=e.allWrites.findIndex(function(f){return f.writeId===t});Z(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var u=e.allWrites[a];u.visible&&(a>=n&&KX(u,r.path)?i=!1:Ci(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return GX(e),!0;if(r.snap)e.visibleWrites=ZD(e.visibleWrites,r.path);else{var c=r.children;wn(c,function(f){e.visibleWrites=ZD(e.visibleWrites,Lt(r.path,f))})}return!0}else return!1}function KX(e,t){if(e.snap)return Ci(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ci(Lt(e.path,n),t))return!0;return!1}function GX(e){e.visibleWrites=cj(e.allWrites,QX,st()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function QX(e){return e.visible}function cj(e,t,n){for(var r=os.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,u=void 0;if(o.snap)Ci(n,a)?(u=Cr(n,a),r=pd(r,u,o.snap)):Ci(a,n)&&(u=Cr(a,n),r=pd(r,st(),o.snap.getChild(u)));else if(o.children){if(Ci(n,a))u=Cr(n,a),r=NT(r,u,o.children);else if(Ci(a,n))if(u=Cr(a,n),Be(u))r=NT(r,st(),o.children);else{var c=Ku(o.children,Ve(u));if(c){var f=c.getChild(mt(u));r=pd(r,st(),f)}}}else throw _f("WriteRecord should have .snap or .children")}}return r}function fj(e,t,n,r,i){if(!r&&!i){var o=hl(e.visibleWrites,t);if(o!=null)return o;var a=ca(e.visibleWrites,t);if(PT(a))return n;if(n==null&&!AT(a,st()))return null;var u=n||Le.EMPTY_NODE;return Hc(a,u)}else{var c=ca(e.visibleWrites,t);if(!i&&PT(c))return n;if(!i&&n==null&&!AT(c,st()))return null;var f=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(Ci(g.path,t)||Ci(t,g.path))},d=cj(e.allWrites,f,t),u=n||Le.EMPTY_NODE;return Hc(d,u)}}function YX(e,t,n){var r=Le.EMPTY_NODE,i=hl(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Et,function(u,c){r=r.updateImmediateChild(u,c)}),r;if(n){var o=ca(e.visibleWrites,t);return n.forEachChild(Et,function(u,c){var f=Hc(ca(o,new ut(u)),c);r=r.updateImmediateChild(u,f)}),eM(o).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}else{var a=ca(e.visibleWrites,t);return eM(a).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}}function XX(e,t,n,r,i){Z(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Lt(t,n);if(AT(e.visibleWrites,o))return null;var a=ca(e.visibleWrites,o);return PT(a)?i.getChild(n):Hc(a,i.getChild(n))}function JX(e,t,n,r){var i=Lt(t,n),o=hl(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=ca(e.visibleWrites,i);return Hc(a,r.getNode().getImmediateChild(n))}else return null}function ZX(e,t){return hl(e.visibleWrites,t)}function eJ(e,t,n,r,i,o,a){var u,c=ca(e.visibleWrites,t),f=hl(c,st());if(f!=null)u=f;else if(n!=null)u=Hc(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){for(var d=[],p=a.getCompare(),g=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a),m=g.getNext();m&&d.length<i;)p(m,r)!==0&&d.push(m),m=g.getNext();return d}else return[]}function tJ(){return{visibleWrites:os.empty(),allWrites:[],lastWriteId:-1}}function my(e,t,n,r){return fj(e.writeTree,e.treePath,t,n,r)}function Ek(e,t){return YX(e.writeTree,e.treePath,t)}function tM(e,t,n,r){return XX(e.writeTree,e.treePath,t,n,r)}function yy(e,t){return ZX(e.writeTree,Lt(e.treePath,t))}function nJ(e,t,n,r,i,o){return eJ(e.writeTree,e.treePath,t,n,r,i,o)}function Sk(e,t,n){return JX(e.writeTree,e.treePath,t,n)}function hj(e,t){return dj(Lt(e.treePath,t),e.writeTree)}function dj(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rJ=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;Z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Z(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Xd(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Yd(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Wc(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Xd(r,t.snapshotNode,i.oldSnap));else throw _f("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iJ=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),pj=new iJ,Tk=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Sa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sk(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gu(this.viewCache_),o=nJ(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJ(e){return{filter:e}}function sJ(e,t){Z(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Z(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function aJ(e,t,n,r,i){var o=new rJ,a,u;if(n.type===io.OVERWRITE){var c=n;c.source.fromUser?a=OT(e,t,c.path,c.snap,r,i,o):(Z(c.source.fromServer,"Unknown source."),u=c.source.tagged||t.serverCache.isFiltered()&&!Be(c.path),a=wy(e,t,c.path,c.snap,r,i,u,o))}else if(n.type===io.MERGE){var f=n;f.source.fromUser?a=lJ(e,t,f.path,f.children,r,i,o):(Z(f.source.fromServer,"Unknown source."),u=f.source.tagged||t.serverCache.isFiltered(),a=DT(e,t,f.path,f.children,r,i,u,o))}else if(n.type===io.ACK_USER_WRITE){var d=n;d.revert?a=hJ(e,t,d.path,r,i,o):a=cJ(e,t,d.path,d.affectedTree,r,i,o)}else if(n.type===io.LISTEN_COMPLETE)a=fJ(e,t,n.path,r,o);else throw _f("Unknown operation type: "+n.type);var p=o.getChanges();return uJ(t,a,p),{viewCache:a,changes:p}}function uJ(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=gy(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(rj(gy(t)))}}function vj(e,t,n,r,i,o){var a=t.eventCache;if(yy(r,n)!=null)return t;var u=void 0,c=void 0;if(Be(n))if(Z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var f=Gu(t),d=f instanceof Le?f:Le.EMPTY_NODE,p=Ek(r,d);u=e.filter.updateFullNode(t.eventCache.getNode(),p,o)}else{var g=my(r,Gu(t));u=e.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{var m=Ve(n);if(m===".priority"){Z(Ea(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var _=tM(r,n,w,c);_!=null?u=e.filter.updatePriority(w,_):u=a.getNode()}else{var T=mt(n),b=void 0;if(a.isCompleteForChild(m)){c=t.serverCache.getNode();var S=tM(r,n,a.getNode(),c);S!=null?b=a.getNode().getImmediateChild(m).updateChild(T,S):b=a.getNode().getImmediateChild(m)}else b=Sk(r,m,t.serverCache);b!=null?u=e.filter.updateChild(a.getNode(),m,b,T,i,o):u=a.getNode()}}return dd(t,u,a.isFullyInitialized()||Be(n),e.filter.filtersNodes())}function wy(e,t,n,r,i,o,a,u){var c=t.serverCache,f,d=a?e.filter:e.filter.getIndexedFilter();if(Be(n))f=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){var p=c.getNode().updateChild(n,r);f=d.updateFullNode(c.getNode(),p,null)}else{var g=Ve(n);if(!c.isCompleteForPath(n)&&Ea(n)>1)return t;var m=mt(n),w=c.getNode().getImmediateChild(g),_=w.updateChild(m,r);g===".priority"?f=d.updatePriority(c.getNode(),_):f=d.updateChild(c.getNode(),g,_,m,pj,null)}var T=uj(t,f,c.isFullyInitialized()||Be(n),d.filtersNodes()),b=new Tk(i,T,o);return vj(e,T,n,i,b,u)}function OT(e,t,n,r,i,o,a){var u=t.eventCache,c,f,d=new Tk(i,t,o);if(Be(n))f=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=dd(t,f,!0,e.filter.filtersNodes());else{var p=Ve(n);if(p===".priority")f=e.filter.updatePriority(t.eventCache.getNode(),r),c=dd(t,f,u.isFullyInitialized(),u.isFiltered());else{var g=mt(n),m=u.getNode().getImmediateChild(p),w=void 0;if(Be(g))w=r;else{var _=d.getCompleteChild(p);_!=null?hk(g)===".priority"&&_.getChild(GU(g)).isEmpty()?w=_:w=_.updateChild(g,r):w=Le.EMPTY_NODE}if(m.equals(w))c=t;else{var T=e.filter.updateChild(u.getNode(),p,w,g,d,a);c=dd(t,T,u.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function nM(e,t){return e.eventCache.isCompleteForChild(t)}function lJ(e,t,n,r,i,o,a){var u=t;return r.foreach(function(c,f){var d=Lt(n,c);nM(t,Ve(d))&&(u=OT(e,u,d,f,i,o,a))}),r.foreach(function(c,f){var d=Lt(n,c);nM(t,Ve(d))||(u=OT(e,u,d,f,i,o,a))}),u}function rM(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function DT(e,t,n,r,i,o,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,f;Be(n)?f=r:f=new fi(null).setTree(n,r);var d=t.serverCache.getNode();return f.children.inorderTraversal(function(p,g){if(d.hasChild(p)){var m=t.serverCache.getNode().getImmediateChild(p),w=rM(e,m,g);c=wy(e,c,new ut(p),w,i,o,a,u)}}),f.children.inorderTraversal(function(p,g){var m=!t.serverCache.isCompleteForChild(p)&&g.value===void 0;if(!d.hasChild(p)&&!m){var w=t.serverCache.getNode().getImmediateChild(p),_=rM(e,w,g);c=wy(e,c,new ut(p),_,i,o,a,u)}}),c}function cJ(e,t,n,r,i,o,a){if(yy(i,n)!=null)return t;var u=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(Be(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return wy(e,t,n,c.getNode().getChild(n),i,o,u,a);if(Be(n)){var f=new fi(null);return c.getNode().forEachChild(Ro,function(p,g){f=f.set(new ut(p),g)}),DT(e,t,n,f,i,o,u,a)}else return t}else{var d=new fi(null);return r.foreach(function(p,g){var m=Lt(n,p);c.isCompleteForPath(m)&&(d=d.set(p,c.getNode().getChild(m)))}),DT(e,t,n,d,i,o,u,a)}}function fJ(e,t,n,r,i){var o=t.serverCache,a=uj(t,o.getNode(),o.isFullyInitialized()||Be(n),o.isFiltered());return vj(e,a,n,r,pj,i)}function hJ(e,t,n,r,i,o){var a;if(yy(r,n)!=null)return t;var u=new Tk(r,t,i),c=t.eventCache.getNode(),f=void 0;if(Be(n)||Ve(n)===".priority"){var d=void 0;if(t.serverCache.isFullyInitialized())d=my(r,Gu(t));else{var p=t.serverCache.getNode();Z(p instanceof Le,"serverChildren would be complete if leaf node"),d=Ek(r,p)}d=d,f=e.filter.updateFullNode(c,d,o)}else{var g=Ve(n),m=Sk(r,g,t.serverCache);m==null&&t.serverCache.isCompleteForChild(g)&&(m=c.getImmediateChild(g)),m!=null?f=e.filter.updateChild(c,g,m,mt(n),u,o):t.eventCache.getNode().hasChild(g)?f=e.filter.updateChild(c,g,Le.EMPTY_NODE,mt(n),u,o):f=c,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=my(r,Gu(t)),a.isLeafNode()&&(f=e.filter.updateFullNode(f,a,o)))}return a=t.serverCache.isFullyInitialized()||yy(r,st())!=null,dd(t,f,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dJ=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new mk(r.getIndex()),o=IX(r);this.processor_=oJ(o);var a=n.serverCache,u=n.eventCache,c=i.updateFullNode(Le.EMPTY_NODE,a.getNode(),null),f=o.updateFullNode(Le.EMPTY_NODE,u.getNode(),null),d=new Sa(c,a.isFullyInitialized(),i.filtersNodes()),p=new Sa(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=K0(p,d),this.eventGenerator_=new $X(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function pJ(e){return e.viewCache_.serverCache.getNode()}function vJ(e){return gy(e.viewCache_)}function gJ(e,t){var n=Gu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Be(t)&&!n.getImmediateChild(Ve(t)).isEmpty())?n.getChild(t):null}function iM(e){return e.eventRegistrations_.length===0}function mJ(e,t){e.eventRegistrations_.push(t)}function oM(e,t,n){var r=[];if(n){Z(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var f=c.createCancelEvent(n,i);f&&r.push(f)})}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var u=e.eventRegistrations_[a];if(!u.matches(t))o.push(u);else if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function sM(e,t,n,r){t.type===io.MERGE&&t.source.queryId!==null&&(Z(Gu(e.viewCache_),"We should always have a full cache before handling merges"),Z(gy(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,o=aJ(e.processor_,i,t,n,r);return sJ(e.processor_,o.viewCache),Z(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,gj(e,o.changes,o.viewCache.eventCache.getNode(),null)}function yJ(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Et,function(o,a){r.push(Wc(o,a))})}return n.isFullyInitialized()&&r.push(rj(n.getNode())),gj(e,r,n.getNode(),t)}function gj(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return UX(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _y,mj=function(){function e(){this.views=new Map}return e}();function wJ(e){Z(!_y,"__referenceConstructor has already been defined"),_y=e}function _J(){return Z(_y,"Reference.ts has not been loaded"),_y}function bJ(e){return e.views.size===0}function Ik(e,t,n,r){var i,o,a=t.source.queryId;if(a!==null){var u=e.views.get(a);return Z(u!=null,"SyncTree gave us an op for an invalid query."),sM(u,t,n,r)}else{var c=[];try{for(var f=An(e.views.values()),d=f.next();!d.done;d=f.next()){var u=d.value;c=c.concat(sM(u,t,n,r))}}catch(p){i={error:p}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return c}}function yj(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var u=my(n,i?r:null),c=!1;u?c=!0:r instanceof Le?(u=Ek(n,r),c=!1):(u=Le.EMPTY_NODE,c=!1);var f=K0(new Sa(u,c,!1),new Sa(r,i,!1));return new dJ(t,f)}return a}function EJ(e,t,n,r,i,o){var a=yj(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),mJ(a,n),yJ(a,n)}function SJ(e,t,n,r){var i,o,a=t._queryIdentifier,u=[],c=[],f=Ta(e);if(a==="default")try{for(var d=An(e.views.entries()),p=d.next();!p.done;p=d.next()){var g=Bn(p.value,2),m=g[0],w=g[1];c=c.concat(oM(w,n,r)),iM(w)&&(e.views.delete(m),w.query._queryParams.loadsAllData()||u.push(w.query))}}catch(_){i={error:_}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat(oM(w,n,r)),iM(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||u.push(w.query)))}return f&&!Ta(e)&&u.push(new(_J())(t._repo,t._path)),{removed:u,events:c}}function wj(e){var t,n,r=[];try{for(var i=An(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function fa(e,t){var n,r,i=null;try{for(var o=An(e.views.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i||gJ(u,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function _j(e,t){var n=t._queryParams;if(n.loadsAllData())return Q0(e);var r=t._queryIdentifier;return e.views.get(r)}function bj(e,t){return _j(e,t)!=null}function Ta(e){return Q0(e)!=null}function Q0(e){var t,n;try{for(var r=An(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var by;function TJ(e){Z(!by,"__referenceConstructor has already been defined"),by=e}function IJ(){return Z(by,"Reference.ts has not been loaded"),by}var CJ=1,aM=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new fi(null),this.pendingWriteTree_=tJ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function Ck(e,t,n,r,i){return zX(e.pendingWriteTree_,t,n,r,i),i?Tf(e,new H0(yk(),t,n)):[]}function kJ(e,t,n,r){qX(e.pendingWriteTree_,t,n,r);var i=fi.fromObject(n);return Tf(e,new bk(yk(),t,i))}function ea(e,t,n){n===void 0&&(n=!1);var r=WX(e.pendingWriteTree_,t),i=HX(e.pendingWriteTree_,t);if(i){var o=new fi(null);return r.snap!=null?o=o.set(st(),!0):wn(r.children,function(a){o=o.set(new ut(a),!0)}),Tf(e,new FX(r.path,o,n))}else return[]}function Bp(e,t,n){return Tf(e,new H0(wk(),t,n))}function xJ(e,t,n){var r=fi.fromObject(n);return Tf(e,new bk(wk(),t,r))}function RJ(e,t){return Tf(e,new aj(wk(),t))}function NJ(e,t,n){var r=kk(e,n);if(r){var i=xk(r),o=i.path,a=i.queryId,u=Cr(o,t),c=new aj(_k(a),u);return Rk(e,o,c)}else return[]}function MT(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&(t._queryIdentifier==="default"||bj(o,t))){var u=SJ(o,t,n,r);bJ(o)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=u.removed;a=u.events;var f=c.findIndex(function(S){return S._queryParams.loadsAllData()})!==-1,d=e.syncPointTree_.findOnPath(i,function(S,C){return Ta(C)});if(f&&!d){var p=e.syncPointTree_.subtree(i);if(!p.isEmpty())for(var g=DJ(p),m=0;m<g.length;++m){var w=g[m],_=w.query,T=Tj(e,w);e.listenProvider_.startListening(vd(_),Ey(e,_),T.hashFn,T.onComplete)}}if(!d&&c.length>0&&!r)if(f){var b=null;e.listenProvider_.stopListening(vd(t),b)}else c.forEach(function(S){var C=e.queryToTagMap.get(X0(S));e.listenProvider_.stopListening(vd(S),C)});MJ(e,c)}return a}function AJ(e,t,n,r){var i=kk(e,r);if(i!=null){var o=xk(i),a=o.path,u=o.queryId,c=Cr(a,t),f=new H0(_k(u),c,n);return Rk(e,a,f)}else return[]}function PJ(e,t,n,r){var i=kk(e,r);if(i){var o=xk(i),a=o.path,u=o.queryId,c=Cr(a,t),f=fi.fromObject(n),d=new bk(_k(u),c,f);return Rk(e,a,d)}else return[]}function uM(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,function(_,T){var b=Cr(_,r);i=i||fa(T,b),o=o||Ta(T)});var a=e.syncPointTree_.get(r);a?(o=o||Ta(a),i=i||fa(a,st())):(a=new mj,e.syncPointTree_=e.syncPointTree_.set(r,a));var u;if(i!=null)u=!0;else{u=!1,i=Le.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(_,T){var b=fa(T,st());b&&(i=i.updateImmediateChild(_,b))})}var f=bj(a,t);if(!f&&!t._queryParams.loadsAllData()){var d=X0(t);Z(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var p=LJ();e.queryToTagMap.set(d,p),e.tagToQueryMap.set(p,d)}var g=G0(e.pendingWriteTree_,r),m=EJ(a,t,n,g,i,u);if(!f&&!o){var w=_j(a,t);m=m.concat(FJ(e,t,w))}return m}function Y0(e,t,n){var r=!0,i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,function(a,u){var c=Cr(a,t),f=fa(u,c);if(f)return f});return fj(i,t,o,n,r)}function OJ(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(f,d){var p=Cr(f,n);r=r||fa(d,p)});var i=e.syncPointTree_.get(n);i?r=r||fa(i,st()):(i=new mj,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=r!=null,a=o?new Sa(r,!0,!1):null,u=G0(e.pendingWriteTree_,t._path),c=yj(i,t,u,o?a.getNode():Le.EMPTY_NODE,o);return vJ(c)}function Tf(e,t){return Ej(t,e.syncPointTree_,null,G0(e.pendingWriteTree_,st()))}function Ej(e,t,n,r){if(Be(e.path))return Sj(e,t,n,r);var i=t.get(st());n==null&&i!=null&&(n=fa(i,st()));var o=[],a=Ve(e.path),u=e.operationForChild(a),c=t.children.get(a);if(c&&u){var f=n?n.getImmediateChild(a):null,d=hj(r,a);o=o.concat(Ej(u,c,f,d))}return i&&(o=o.concat(Ik(i,e,r,n))),o}function Sj(e,t,n,r){var i=t.get(st());n==null&&i!=null&&(n=fa(i,st()));var o=[];return t.children.inorderTraversal(function(a,u){var c=n?n.getImmediateChild(a):null,f=hj(r,a),d=e.operationForChild(a);d&&(o=o.concat(Sj(d,u,c,f)))}),i&&(o=o.concat(Ik(i,e,r,n))),o}function Tj(e,t){var n=t.query,r=Ey(e,n);return{hashFn:function(){var i=pJ(t)||Le.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?NJ(e,n._path,r):RJ(e,n._path);var o=EY(i,n);return MT(e,n,null,o)}}}function Ey(e,t){var n=X0(t);return e.queryToTagMap.get(n)}function X0(e){return e._path.toString()+"$"+e._queryIdentifier}function kk(e,t){return e.tagToQueryMap.get(t)}function xk(e){var t=e.indexOf("$");return Z(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ut(e.substr(0,t))}}function Rk(e,t,n){var r=e.syncPointTree_.get(t);Z(r,"Missing sync point for query tag that we're tracking");var i=G0(e.pendingWriteTree_,t);return Ik(r,n,i,null)}function DJ(e){return e.fold(function(t,n,r){if(n&&Ta(n)){var i=Q0(n);return[i]}else{var o=[];return n&&(o=wj(n)),wn(r,function(a,u){o=o.concat(u)}),o}})}function vd(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(IJ())(e._repo,e._path):e}function MJ(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=X0(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function LJ(){return CJ++}function FJ(e,t,n){var r=t._path,i=Ey(e,t),o=Tj(e,n),a=e.listenProvider_.startListening(vd(t),i,o.hashFn,o.onComplete),u=e.syncPointTree_.subtree(r);if(i)Z(!Ta(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(p,g,m){if(!Be(p)&&g&&Ta(g))return[Q0(g).query];var w=[];return g&&(w=w.concat(wj(g).map(function(_){return _.query}))),wn(m,function(_,T){w=w.concat(T)}),w}),f=0;f<c.length;++f){var d=c[f];e.listenProvider_.stopListening(vd(d),Ey(e,d))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $J=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),UJ=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Lt(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Y0(this.syncTree_,this.path_)},e}(),jJ=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},lM=function(e,t,n){if(!e||typeof e!="object")return e;if(Z(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return VJ(e[".sv"],t,n);if(typeof e[".sv"]=="object")return BJ(e[".sv"],t);Z(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},VJ=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Z(!1,"Unexpected server value: "+e)}},BJ=function(e,t,n){e.hasOwnProperty("increment")||Z(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&Z(!1,"Unexpected increment value: "+r);var i=t.node();if(Z(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},Ij=function(e,t,n,r){return Ak(t,new UJ(n,e),r)},Nk=function(e,t,n){return Ak(e,new $J(t),n)};function Ak(e,t,n){var r=e.getPriority().val(),i=lM(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){var a=e,u=lM(a.getValue(),t,n);return u!==a.getValue()||i!==a.getPriority().val()?new zc(u,Ut(i)):e}else{var c=e;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new zc(i))),c.forEachChild(Et,function(f,d){var p=Ak(d,t.getImmediateChild(f),n);p!==d&&(o=o.updateImmediateChild(f,p))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pk=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function J0(e,t){for(var n=t instanceof ut?t:new ut(t),r=e,i=Ve(n);i!==null;){var o=Ku(r.node.children,i)||{children:{},childCount:0};r=new Pk(i,r,o),n=mt(n),i=Ve(n)}return r}function dl(e){return e.node.value}function Ok(e,t){e.node.value=t,LT(e)}function Cj(e){return e.node.childCount>0}function zJ(e){return dl(e)===void 0&&!Cj(e)}function Z0(e,t){wn(e.node.children,function(n,r){t(new Pk(n,e,r))})}function kj(e,t,n,r){n&&!r&&t(e),Z0(e,function(i){kj(i,t,!0,r)}),n&&r&&t(e)}function qJ(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function zp(e){return new ut(e.parent===null?e.name:zp(e.parent)+"/"+e.name)}function LT(e){e.parent!==null&&WJ(e.parent,e.name,e)}function WJ(e,t,n){var r=zJ(n),i=ci(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,LT(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,LT(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HJ=/[\[\].#$\/\u0000-\u001F\u007F]/,KJ=/[\[\].#$\u0000-\u001F\u007F]/,hE=10*1024*1024,ew=function(e){return typeof e=="string"&&e.length!==0&&!HJ.test(e)},xj=function(e){return typeof e=="string"&&e.length!==0&&!KJ.test(e)},GJ=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xj(e)},Jd=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!z0(e)||e&&typeof e=="object"&&ci(e,".sv")},Fo=function(e,t,n,r){r&&t===void 0||qp(Wr(e,"value"),t,n)},qp=function(e,t,n){var r=n instanceof ut?new nX(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+du(r));if(typeof t=="function")throw new Error(e+"contains a function "+du(r)+" with contents = "+t.toString());if(z0(t))throw new Error(e+"contains "+t.toString()+" "+du(r));if(typeof t=="string"&&t.length>hE/3&&B0(t)>hE)throw new Error(e+"contains a string greater than "+hE+" utf8 bytes "+du(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,o=!1;if(wn(t,function(a,u){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!ew(a)))throw new Error(e+" contains an invalid key ("+a+") "+du(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rX(r,a),qp(e,u,r),iX(r)}),i&&o)throw new Error(e+' contains ".value" child '+du(r)+" in addition to actual children.")}},QJ=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Qd(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!ew(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(tX);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Ci(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},Rj=function(e,t,n,r){if(!(r&&t===void 0)){var i=Wr(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];wn(t,function(a,u){var c=new ut(a);if(qp(i,u,Lt(n,c)),hk(c)===".priority"&&!Jd(u))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),QJ(i,o)}},Dk=function(e,t,n){if(!(n&&t===void 0)){if(z0(t))throw new Error(Wr(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Jd(t))throw new Error(Wr(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},YJ=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Wr(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Wp=function(e,t,n,r){if(!(r&&n===void 0)&&!ew(n))throw new Error(Wr(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Zd=function(e,t,n,r){if(!(r&&n===void 0)&&!xj(n))throw new Error(Wr(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},XJ=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zd(e,t,n,r)},ki=function(e,t){if(Ve(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Nj=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ew(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!GJ(n))throw new Error(Wr(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},JJ=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Wr(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZJ=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function tw(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();n!==null&&!dk(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Mk(e,t,n){tw(e,n),Aj(e,function(r){return dk(r,t)})}function Fi(e,t,n){tw(e,n),Aj(e,function(r){return Ci(r,t)||Ci(t,r)})}function Aj(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var o=i.path;t(o)?(eZ(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function eZ(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();Du&&Cn("event: "+n.toString()),Ef(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pj="repo_interrupt",tZ=25,nZ=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZJ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vy(),this.transactionQueueTree_=new Pk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function rZ(e,t,n){if(e.stats_=ck(e.repoInfo_),e.forceRestClient_||TY())e.server_=new NX(e.repoInfo_,function(r,i,o,a){cM(e,r,i,o,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return fM(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{vn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Mu(e.repoInfo_,t,function(r,i,o,a){cM(e,r,i,o,a)},function(r){fM(e,r)},function(r){oZ(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=NY(e.repoInfo_,function(){return new MX(e.stats_,e.server_)}),e.infoData_=new AX,e.infoSyncTree_=new aM({startListening:function(r,i,o,a){var u=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(u=Bp(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),u},stopListening:function(){}}),Lk(e,"connected",!1),e.serverSyncTree_=new aM({startListening:function(r,i,o,a){return e.server_.listen(r,o,i,function(u,c){var f=a(u,c);Fi(e.eventQueue_,r._path,f)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function Oj(e){var t=e.infoData_.getNode(new ut(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Hp(e){return jJ({timestamp:Oj(e)})}function cM(e,t,n,r,i){e.dataUpdateCount++;var o=new ut(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var u=ly(n,function(g){return Ut(g)});a=PJ(e.serverSyncTree_,o,u,i)}else{var c=Ut(n);a=AJ(e.serverSyncTree_,o,c,i)}else if(r){var f=ly(n,function(g){return Ut(g)});a=xJ(e.serverSyncTree_,o,f)}else{var d=Ut(n);a=Bp(e.serverSyncTree_,o,d)}var p=o;a.length>0&&(p=Kc(e,o)),Fi(e.eventQueue_,p,a)}function iZ(e,t){e.interceptServerDataCallback_=t}function fM(e,t){Lk(e,"connected",t),t===!1&&uZ(e)}function oZ(e,t){wn(t,function(n,r){Lk(e,n,r)})}function Lk(e,t,n){var r=new ut("/.info/"+t),i=Ut(n);e.infoData_.updateSnapshot(r,i);var o=Bp(e.infoSyncTree_,r,i);Fi(e.eventQueue_,r,o)}function nw(e){return e.nextWriteId_++}function sZ(e,t){var n=OJ(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=Ut(r).withIndex(t._queryParams.getIndex()),o=Bp(e.serverSyncTree_,t._path,i);return Mk(e.eventQueue_,t._path,o),Promise.resolve(i)},function(r){return If(e,"get for query "+vn(t)+" failed: "+r),Promise.reject(new Error(r))})}function Fk(e,t,n,r,i){If(e,"set",{path:t.toString(),value:n,priority:r});var o=Hp(e),a=Ut(n,r),u=Y0(e.serverSyncTree_,t),c=Nk(a,u,o),f=nw(e),d=Ck(e.serverSyncTree_,t,c,f,!0);tw(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),function(g,m){var w=g==="ok";w||Wn("set at "+t+" failed: "+g);var _=ea(e.serverSyncTree_,f,!w);Fi(e.eventQueue_,t,_),Ia(e,i,g,m)});var p=Uk(e,t);Kc(e,p),Fi(e.eventQueue_,p,[])}function aZ(e,t,n,r){If(e,"update",{path:t.toString(),value:n});var i=!0,o=Hp(e),a={};if(wn(n,function(f,d){i=!1,a[f]=Ij(Lt(t,f),Ut(d),e.serverSyncTree_,o)}),i)Cn("update() called with empty data.  Don't do anything."),Ia(e,r,"ok",void 0);else{var u=nw(e),c=kJ(e.serverSyncTree_,t,a,u);tw(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(f,d){var p=f==="ok";p||Wn("update at "+t+" failed: "+f);var g=ea(e.serverSyncTree_,u,!p),m=g.length>0?Kc(e,t):t;Fi(e.eventQueue_,m,g),Ia(e,r,f,d)}),wn(n,function(f){var d=Uk(e,Lt(t,f));Kc(e,d)}),Fi(e.eventQueue_,t,[])}}function uZ(e){If(e,"onDisconnectEvents");var t=Hp(e),n=vy();RT(e.onDisconnect_,st(),function(i,o){var a=Ij(i,o,e.serverSyncTree_,t);Sf(n,i,a)});var r=[];RT(n,st(),function(i,o){r=r.concat(Bp(e.serverSyncTree_,i,o));var a=Uk(e,i);Kc(e,a)}),e.onDisconnect_=vy(),Fi(e.eventQueue_,st(),r)}function lZ(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&xT(e.onDisconnect_,t),Ia(e,n,r,i)})}function hM(e,t,n,r){var i=Ut(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(o,a){o==="ok"&&Sf(e.onDisconnect_,t,i),Ia(e,r,o,a)})}function cZ(e,t,n,r,i){var o=Ut(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),function(a,u){a==="ok"&&Sf(e.onDisconnect_,t,o),Ia(e,i,a,u)})}function fZ(e,t,n,r){if(wT(n)){Cn("onDisconnect().update() called with empty data.  Don't do anything."),Ia(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,o){i==="ok"&&wn(n,function(a,u){var c=Ut(u);Sf(e.onDisconnect_,Lt(t,a),c)}),Ia(e,r,i,o)})}function hZ(e,t,n){var r;Ve(t._path)===".info"?r=uM(e.infoSyncTree_,t,n):r=uM(e.serverSyncTree_,t,n),Mk(e.eventQueue_,t._path,r)}function FT(e,t,n){var r;Ve(t._path)===".info"?r=MT(e.infoSyncTree_,t,n):r=MT(e.serverSyncTree_,t,n),Mk(e.eventQueue_,t._path,r)}function Dj(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Pj)}function dZ(e){e.persistentConnection_&&e.persistentConnection_.resume(Pj)}function pZ(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new sj(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);wn(n,function(i,o){for(var a=i,u=i.length;u<r+2;u++)a+=" ";console.log(a+o)})}}function vZ(e,t){e.stats_.incrementCounter(t),LX(e.statsReporter_,t)}function If(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Cn.apply(void 0,je([r],Bn(t)))}function Ia(e,t,n,r){t&&Ef(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,t(a)}})}function gZ(e,t,n,r,i,o){If(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:IU(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=$k(e,t,void 0);a.currentInputSnapshot=u;var c=a.update(u.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{qp("transaction failed: Data returned ",c,a.path),a.status=0;var f=J0(e.transactionQueueTree_,t),d=dl(f)||[];d.push(a),Ok(f,d);var p=void 0;if(typeof c=="object"&&c!==null&&ci(c,".priority"))p=Ku(c,".priority"),Z(Jd(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=Y0(e.serverSyncTree_,t)||Le.EMPTY_NODE;p=g.getPriority().val()}var m=Hp(e),w=Ut(c,p),_=Nk(w,u,m);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=_,a.currentWriteId=nw(e);var T=Ck(e.serverSyncTree_,t,_,a.currentWriteId,a.applyLocally);Fi(e.eventQueue_,t,T),rw(e,e.transactionQueueTree_)}}function $k(e,t,n){return Y0(e.serverSyncTree_,t,n)||Le.EMPTY_NODE}function rw(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||iw(e,t),dl(t)){var n=Lj(e,t);Z(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&mZ(e,zp(t),n)}else Cj(t)&&Z0(t,function(i){rw(e,i)})}function mZ(e,t,n){for(var r=n.map(function(g){return g.currentWriteId}),i=$k(e,t,r),o=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];Z(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var f=Cr(t,c.path);o=o.updateChild(f,c.currentOutputSnapshotRaw)}var d=o.val(!0),p=t;e.server_.put(p.toString(),d,function(g){If(e,"transaction put response",{path:p.toString(),status:g});var m=[];if(g==="ok"){for(var w=[],_=function(b){n[b].status=2,m=m.concat(ea(e.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&w.push(function(){return n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)}),n[b].unwatcher()},T=0;T<n.length;T++)_(T);iw(e,J0(e.transactionQueueTree_,t)),rw(e,e.transactionQueueTree_),Fi(e.eventQueue_,t,m);for(var T=0;T<w.length;T++)Ef(w[T])}else{if(g==="datastale")for(var T=0;T<n.length;T++)n[T].status===3?n[T].status=4:n[T].status=0;else{Wn("transaction at "+p.toString()+" failed: "+g);for(var T=0;T<n.length;T++)n[T].status=4,n[T].abortReason=g}Kc(e,t)}},a)}function Kc(e,t){var n=Mj(e,t),r=zp(n),i=Lj(e,n);return yZ(e,i,r),r}function yZ(e,t,n){if(t.length!==0){for(var r=[],i=[],o=t.filter(function(f){return f.status===0}),a=o.map(function(f){return f.currentWriteId}),u=function(f){var d=t[f],p=Cr(n,d.path),g=!1,m;if(Z(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,m=d.abortReason,i=i.concat(ea(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=tZ)g=!0,m="maxretry",i=i.concat(ea(e.serverSyncTree_,d.currentWriteId,!0));else{var w=$k(e,d.path,a);d.currentInputSnapshot=w;var _=t[f].update(w.val());if(_!==void 0){qp("transaction failed: Data returned ",_,d.path);var T=Ut(_),b=typeof _=="object"&&_!=null&&ci(_,".priority");b||(T=T.updatePriority(w.getPriority()));var S=d.currentWriteId,C=Hp(e),O=Nk(T,w,C);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=O,d.currentWriteId=nw(e),a.splice(a.indexOf(S),1),i=i.concat(Ck(e.serverSyncTree_,d.path,O,d.currentWriteId,d.applyLocally)),i=i.concat(ea(e.serverSyncTree_,S,!0))}else g=!0,m="nodata",i=i.concat(ea(e.serverSyncTree_,d.currentWriteId,!0))}Fi(e.eventQueue_,n,i),i=[],g&&(t[f].status=2,function(P){setTimeout(P,Math.floor(0))}(t[f].unwatcher),t[f].onComplete&&(m==="nodata"?r.push(function(){return t[f].onComplete(null,!1,t[f].currentInputSnapshot)}):r.push(function(){return t[f].onComplete(new Error(m),!1,null)})))},c=0;c<t.length;c++)u(c);iw(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Ef(r[c]);rw(e,e.transactionQueueTree_)}}function Mj(e,t){var n,r=e.transactionQueueTree_;for(n=Ve(t);n!==null&&dl(r)===void 0;)r=J0(r,n),t=mt(t),n=Ve(t);return r}function Lj(e,t){var n=[];return Fj(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function Fj(e,t,n){var r=dl(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Z0(t,function(o){Fj(e,o,n)})}function iw(e,t){var n=dl(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ok(t,n.length>0?n:void 0)}Z0(t,function(o){iw(e,o)})}function Uk(e,t){var n=zp(Mj(e,t)),r=J0(e.transactionQueueTree_,t);return qJ(r,function(i){dE(e,i)}),dE(e,r),kj(r,function(i){dE(e,i)}),n}function dE(e,t){var n=dl(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Z(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Z(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(ea(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Ok(t,void 0):n.length=o+1,Fi(e.eventQueue_,zp(t),i);for(var a=0;a<r.length;a++)Ef(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wZ(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function _Z(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=An(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var u=a.split("=");u.length===2?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Wn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var $T=function(e,t){var n=bZ(e),r=n.namespace;n.domain==="firebase.com"&&Mo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Mo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mY();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lk(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ut(n.pathString)}},bZ=function(e){var t="",n="",r="",i="",o="",a=!0,u="https",c=443;if(typeof e=="string"){var f=e.indexOf("//");f>=0&&(u=e.substring(0,f-1),e=e.substring(f+2));var d=e.indexOf("/");d===-1&&(d=e.length);var p=e.indexOf("?");p===-1&&(p=e.length),t=e.substring(0,Math.min(d,p)),d<p&&(i=wZ(e.substring(d,p)));var g=_Z(e.substring(Math.min(e.length,p)));f=t.indexOf(":"),f>=0?(a=u==="https"||u==="wss",c=parseInt(t.substring(f+1),10)):f=t.length;var m=t.slice(0,f);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),o=r}"ns"in g&&(o=g.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $j=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+vn(this.snapshot.exportVal())},e}(),Uj=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jj=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return Z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EZ=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new xn;return lZ(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){ki("OnDisconnect.remove",this._path);var t=new xn;return hM(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){ki("OnDisconnect.set",this._path),Fo("OnDisconnect.set",t,this._path,!1);var n=new xn;return hM(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){ki("OnDisconnect.setWithPriority",this._path),Fo("OnDisconnect.setWithPriority",t,this._path,!1),Dk("OnDisconnect.setWithPriority",n,!1);var r=new xn;return cZ(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){ki("OnDisconnect.update",this._path),Rj("OnDisconnect.update",t,this._path,!1);var n=new xn;return fZ(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ui=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return Be(this._path)?null:hk(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new jo(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=XD(this._queryParams),n=sk(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return XD(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=Ue(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=dk(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+eX(this._path)},e}();function ow(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function La(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ro){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var o=e.getIndexStartName();if(o!==ds)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Lo)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Et){if(t!=null&&!Jd(t)||n!=null&&!Jd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Z(e.getIndex()instanceof vk||e.getIndex()===gk,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function sw(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var jo=function(e){oe(t,e);function t(n,r){return e.call(this,n,r,new oj,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=GU(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Ui),aw=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ut(t),r=Qu(this.ref,t);return new e(this._node.getChild(n),r,Et)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return t(new e(o,Qu(n.ref,i),Et))})},e.prototype.hasChild=function(t){var n=new ut(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Vj(e,t){return e=Ue(e),e._checkNotDeleted("ref"),t!==void 0?Qu(e._root,t):e._root}function dM(e,t){e=Ue(e),e._checkNotDeleted("refFromURL");var n=$T(t,e._repo.repoInfo_.nodeAdmin);Nj("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Mo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Vj(e,n.path.toString())}function Qu(e,t){return e=Ue(e),Ve(e._path)===null?XJ("child","path",t,!1):Zd("child","path",t,!1),new jo(e._repo,Lt(e._path,t))}function SZ(e,t){e=Ue(e),ki("push",e._path),Fo("push",t,e._path,!0);var n=Oj(e._repo),r=EX(n),i=Qu(e,r),o=Qu(e,r),a;return t!=null?a=jk(o,t).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function TZ(e){return ki("remove",e._path),jk(e,null)}function jk(e,t){e=Ue(e),ki("set",e._path),Fo("set",t,e._path,!1);var n=new xn;return Fk(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function IZ(e,t){e=Ue(e),ki("setPriority",e._path),Dk("setPriority",t,!1);var n=new xn;return Fk(e._repo,Lt(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function CZ(e,t,n){if(ki("setWithPriority",e._path),Fo("setWithPriority",t,e._path,!1),Dk("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new xn;return Fk(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function kZ(e,t){Rj("update",t,e._path,!1);var n=new xn;return aZ(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function xZ(e){return e=Ue(e),sZ(e._repo,e).then(function(t){return new aw(t,new jo(e._repo,e._path),e._queryParams.getIndex())})}var Bj=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new $j("value",this,new aw(t.snapshotNode,new jo(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new Uj(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),zj=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new Uj(this,t,n):null},e.prototype.createEvent=function(t,n){Z(t.childName!=null,"Child events should have a childName.");var r=Qu(new jo(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new $j(t.type,this,new aw(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Kp(e,t,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,u=function(d,p){FT(e._repo,e,f),a(d,p)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new jj(n,o||void 0),f=t==="value"?new Bj(c):new zj(t,c);return hZ(e._repo,e,f),function(){return FT(e._repo,e,f)}}function UT(e,t,n,r){return Kp(e,"value",t,n,r)}function pM(e,t,n,r){return Kp(e,"child_added",t,n,r)}function vM(e,t,n,r){return Kp(e,"child_changed",t,n,r)}function gM(e,t,n,r){return Kp(e,"child_moved",t,n,r)}function mM(e,t,n,r){return Kp(e,"child_removed",t,n,r)}function yM(e,t,n){var r=null,i=n?new jj(n):null;t==="value"?r=new Bj(i):t&&(r=new zj(t,i)),FT(e._repo,e,r)}var ho=function(){function e(){}return e}(),qj=function(e){oe(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Fo("endAt",this._value,n._path,!0);var r=kT(n._queryParams,this._value,this._key);if(sw(r),La(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ui(n._repo,n._path,r,n._orderByCalled)},t}(ho);function RZ(e,t){return Wp("endAt","key",t,!0),new qj(e,t)}var NZ=function(e){oe(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Fo("endBefore",this._value,n._path,!1);var r=RX(n._queryParams,this._value,this._key);if(sw(r),La(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ui(n._repo,n._path,r,n._orderByCalled)},t}(ho);function AZ(e,t){return Wp("endBefore","key",t,!0),new NZ(e,t)}var Wj=function(e){oe(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Fo("startAt",this._value,n._path,!0);var r=CT(n._queryParams,this._value,this._key);if(sw(r),La(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ui(n._repo,n._path,r,n._orderByCalled)},t}(ho);function PZ(e,t){return e===void 0&&(e=null),Wp("startAt","key",t,!0),new Wj(e,t)}var OZ=function(e){oe(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Fo("startAfter",this._value,n._path,!1);var r=xX(n._queryParams,this._value,this._key);if(sw(r),La(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ui(n._repo,n._path,r,n._orderByCalled)},t}(ho);function DZ(e,t){return Wp("startAfter","key",t,!0),new OZ(e,t)}var MZ=function(e){oe(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ui(n._repo,n._path,CX(n._queryParams,this._limit),n._orderByCalled)},t}(ho);function LZ(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new MZ(e)}var FZ=function(e){oe(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ui(n._repo,n._path,kX(n._queryParams,this._limit),n._orderByCalled)},t}(ho);function $Z(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new FZ(e)}var UZ=function(e){oe(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){ow(n,"orderByChild");var r=new ut(this._path);if(Be(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new vk(r),o=W0(n._queryParams,i);return La(o),new Ui(n._repo,n._path,o,!0)},t}(ho);function jZ(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zd("orderByChild","path",e,!1),new UZ(e)}var VZ=function(e){oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){ow(n,"orderByKey");var r=W0(n._queryParams,Ro);return La(r),new Ui(n._repo,n._path,r,!0)},t}(ho);function BZ(){return new VZ}var zZ=function(e){oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){ow(n,"orderByPriority");var r=W0(n._queryParams,Et);return La(r),new Ui(n._repo,n._path,r,!0)},t}(ho);function qZ(){return new zZ}var WZ=function(e){oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){ow(n,"orderByValue");var r=W0(n._queryParams,gk);return La(r),new Ui(n._repo,n._path,r,!0)},t}(ho);function HZ(){return new WZ}var KZ=function(e){oe(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Fo("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qj(this._value,this._key)._apply(new Wj(this._value,this._key)._apply(n))},t}(ho);function GZ(e,t){return Wp("equalTo","key",t,!0),new KZ(e,t)}function Qi(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Ue(e);try{for(var a=An(r),u=a.next();!u.done;u=a.next()){var c=u.value;o=c._apply(o)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}wJ(jo);TJ(jo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QZ="FIREBASE_DATABASE_EMULATOR_HOST",jT={},Hj=!1;function YZ(e,t,n,r){e.repoInfo_=new lk(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Kj(e,t,n,r,i){var o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Mo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cn("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a=$T(o,i),u=a.repoInfo,c,f=void 0;typeof process<"u"&&(f=process.env[QZ]),f?(c=!0,o="http://"+f+"?ns="+u.namespace,a=$T(o,i),u=a.repoInfo):c=!a.repoInfo.secure;var d=i&&c?new hd(hd.OWNER):new CY(e.name,e.options,t);Nj("Invalid Firebase Database URL",a),Be(a.path)||Mo("Database URL must point to the root of a Firebase Database (not including a child path).");var p=JZ(u,e,d,new IY(e.name,n));return new eee(p,e)}function XZ(e,t){var n=jT[t];(!n||n[e.key]!==e)&&Mo("Database "+t+"("+e.repoInfo_+") has already been deleted."),Dj(e),delete n[e.key]}function JZ(e,t,n,r){var i=jT[t.name];i||(i={},jT[t.name]=i);var o=i[e.toURLString()];return o&&Mo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new nZ(e,Hj,n,r),i[e.toURLString()]=o,o}function ZZ(e){Hj=e}var eee=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(rZ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new jo(this._repo,st())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(XZ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Mo("Cannot call "+t+" on a deleted database.")},e}();function tee(e,t,n,r){r===void 0&&(r={}),e=Ue(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Mo("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Mo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new hd(hd.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:ZC(r.mockUserToken,e.app.options.projectId);o=new hd(a)}YZ(i,t,n,o)}function nee(e){e=Ue(e),e._checkNotDeleted("goOffline"),Dj(e._repo)}function ree(e){e=Ue(e),e._checkNotDeleted("goOnline"),dZ(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iee={".sv":"timestamp"};function oee(){return iee}function see(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aee=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function uee(e,t,n){var r;if(e=Ue(e),ki("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new xn,a=function(c,f,d){var p=null;c?o.reject(c):(p=new aw(d,new jo(e._repo,e._path),Et),o.resolve(new aee(f,p)))},u=UT(e,function(){});return gZ(e._repo,e._path,t,a,u,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lee=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){Ce("OnDisconnect.cancel",0,1,arguments.length),In("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){Ce("OnDisconnect.remove",0,1,arguments.length),In("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){Ce("OnDisconnect.set",1,2,arguments.length),In("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){Ce("OnDisconnect.setWithPriority",2,3,arguments.length),In("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(t,n){if(Ce("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Wn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}In("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(t);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cee=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return Ce("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gd=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return Ce("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Ce("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Ce("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Ce("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Ce("DataSnapshot.child",0,1,arguments.length),t=String(t),Zd("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return Ce("DataSnapshot.hasChild",1,1,arguments.length),Zd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return Ce("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Ce("DataSnapshot.forEach",1,1,arguments.length),In("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return Ce("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Ce("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Ce("DataSnapshot.ref",0,0,arguments.length),new Iu(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Gj=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var o=this,a;Ce("Query.on",2,4,arguments.length),In("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(d,p){n.call(u.context,new gd(o.database,d),p)};c.userCallback=n,c.context=u.context;var f=(a=u.cancel)===null||a===void 0?void 0:a.bind(u.context);switch(t){case"value":return UT(this._delegate,c,f),n;case"child_added":return pM(this._delegate,c,f),n;case"child_removed":return mM(this._delegate,c,f),n;case"child_changed":return vM(this._delegate,c,f),n;case"child_moved":return gM(this._delegate,c,f),n;default:throw new Error(Wr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(Ce("Query.off",0,3,arguments.length),YJ("Query.off",t,!0),In("Query.off","callback",n,!0),PD("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,yM(this._delegate,t,i)}else yM(this._delegate,t)},e.prototype.get=function(){var t=this;return xZ(this._delegate).then(function(n){return new gd(t.database,n)})},e.prototype.once=function(t,n,r,i){var o=this;Ce("Query.once",1,4,arguments.length),In("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),u=new xn,c=function(d,p){var g=new gd(o.database,d);n&&n.call(a.context,g,p),u.resolve(g)};c.userCallback=n,c.context=a.context;var f=function(d){a.cancel&&a.cancel.call(a.context,d),u.reject(d)};switch(t){case"value":UT(this._delegate,c,f,{onlyOnce:!0});break;case"child_added":pM(this._delegate,c,f,{onlyOnce:!0});break;case"child_removed":mM(this._delegate,c,f,{onlyOnce:!0});break;case"child_changed":vM(this._delegate,c,f,{onlyOnce:!0});break;case"child_moved":gM(this._delegate,c,f,{onlyOnce:!0});break;default:throw new Error(Wr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Ce("Query.limitToFirst",1,1,arguments.length),new e(this.database,Qi(this._delegate,LZ(t)))},e.prototype.limitToLast=function(t){return Ce("Query.limitToLast",1,1,arguments.length),new e(this.database,Qi(this._delegate,$Z(t)))},e.prototype.orderByChild=function(t){return Ce("Query.orderByChild",1,1,arguments.length),new e(this.database,Qi(this._delegate,jZ(t)))},e.prototype.orderByKey=function(){return Ce("Query.orderByKey",0,0,arguments.length),new e(this.database,Qi(this._delegate,BZ()))},e.prototype.orderByPriority=function(){return Ce("Query.orderByPriority",0,0,arguments.length),new e(this.database,Qi(this._delegate,qZ()))},e.prototype.orderByValue=function(){return Ce("Query.orderByValue",0,0,arguments.length),new e(this.database,Qi(this._delegate,HZ()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),Ce("Query.startAt",0,2,arguments.length),new e(this.database,Qi(this._delegate,PZ(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),Ce("Query.startAfter",0,2,arguments.length),new e(this.database,Qi(this._delegate,DZ(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),Ce("Query.endAt",0,2,arguments.length),new e(this.database,Qi(this._delegate,RZ(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),Ce("Query.endBefore",0,2,arguments.length),new e(this.database,Qi(this._delegate,AZ(t,n)))},e.prototype.equalTo=function(t,n){return Ce("Query.equalTo",1,2,arguments.length),new e(this.database,Qi(this._delegate,GZ(t,n)))},e.prototype.toString=function(){return Ce("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Ce("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Ce("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,In(t,"cancel",i.cancel,!0),i.context=r,PD(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Wr(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Iu(this.database,new jo(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Iu=function(e){oe(t,e);function t(n,r){var i=e.call(this,n,new Ui(r._repo,r._path,new oj,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return Ce("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return Ce("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,Qu(this._delegate,n))},t.prototype.getParent=function(){Ce("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return Ce("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){Ce("Reference.set",1,2,arguments.length),In("Reference.set","onComplete",r,!0);var i=jk(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(n,r){if(Ce("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,Wn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ki("Reference.update",this._delegate._path),In("Reference.update","onComplete",r,!0);var a=kZ(this._delegate,n);return r&&a.then(function(){return r(null)},function(u){return r(u)}),a},t.prototype.setWithPriority=function(n,r,i){Ce("Reference.setWithPriority",2,3,arguments.length),In("Reference.setWithPriority","onComplete",i,!0);var o=CZ(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},t.prototype.remove=function(n){Ce("Reference.remove",0,1,arguments.length),In("Reference.remove","onComplete",n,!0);var r=TZ(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var o=this;Ce("Reference.transaction",1,3,arguments.length),In("Reference.transaction","transactionUpdate",n,!1),In("Reference.transaction","onComplete",r,!0),JJ("Reference.transaction","applyLocally",i,!0);var a=uee(this._delegate,n,{applyLocally:i}).then(function(u){return new cee(u.committed,new gd(o.database,u.snapshot))});return r&&a.then(function(u){return r(null,u.committed,u.snapshot)},function(u){return r(u,!1,null)}),a},t.prototype.setPriority=function(n,r){Ce("Reference.setPriority",1,2,arguments.length),In("Reference.setPriority","onComplete",r,!0);var i=IZ(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.push=function(n,r){var i=this;Ce("Reference.push",0,2,arguments.length),In("Reference.push","onComplete",r,!0);var o=SZ(this._delegate,n),a=o.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var u=new t(this.database,o);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u},t.prototype.onDisconnect=function(){return ki("Reference.onDisconnect",this._delegate._path),new lee(new EZ(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Gj);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sy=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),tee(this._delegate,t,n,r)},e.prototype.ref=function(t){if(Ce("database.ref",0,1,arguments.length),t instanceof Iu){var n=dM(this._delegate,t.toString());return new Iu(this,n)}else{var n=Vj(this._delegate,t);return new Iu(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";Ce(n,1,1,arguments.length);var r=dM(this._delegate,t);return new Iu(this,r)},e.prototype.goOffline=function(){return Ce("database.goOffline",0,0,arguments.length),nee(this._delegate)},e.prototype.goOnline=function(){return Ce("database.goOnline",0,0,arguments.length),ree(this._delegate)},e.ServerValue={TIMESTAMP:oee(),increment:function(t){return see(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fee=function(){yu.forceDisallow(),fk.forceAllow()},hee=function(){fk.forceDisallow()},dee=function(){return yu.isAvailable()},pee=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},vee=function(e,t){pZ(e._delegate._repo,t)},gee=function(e,t){vZ(e._delegate._repo,t)},mee=function(e){return e._delegate._repo.dataUpdateCount},yee=function(e,t){return iZ(e._delegate._repo,t)};function wee(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,u=a===void 0?!1:a;SU(r);var c=new mU("auth-internal",new yU("database-standalone"));return c.setComponent(new fr("auth-internal",function(){return i},"PRIVATE")),{instance:new Sy(Kj(t,c,void 0,n,u),t),namespace:o}}var _ee=Object.freeze({__proto__:null,forceLongPolling:fee,forceWebSockets:hee,isWebSocketsAvailable:dee,setSecurityDebugCallback:pee,stats:vee,statsIncrementCounter:gee,dataUpdateCount:mee,interceptServerData:yee,initStandalone:wee});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bee=Mu;Mu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Mu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Eee=WU,See=function(e){var t=Mu.prototype.put;return Mu.prototype.put=function(n,r,i,o){o!==void 0&&(o=e()),t.call(this,n,r,i,o)},function(){Mu.prototype.put=t}},Tee=lk,Iee=function(e){return e._delegate._queryIdentifier},Cee=function(e){ZZ(e)},kee=Object.freeze({__proto__:null,DataConnection:bee,RealTimeConnection:Eee,hijackHash:See,ConnectionTarget:Tee,queryIdentifier:Iee,forceRestClient:Cee});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xee=Sy.ServerValue;function Ree(e){SU(e.SDK_VERSION),e.INTERNAL.registerComponent(new fr("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Sy(Kj(i,o,a,r),i)},"PUBLIC").setServiceProps({Reference:Iu,Query:Gj,Database:Sy,DataSnapshot:gd,enableLogging:kU,INTERNAL:_ee,ServerValue:xee,TEST_ACCESS:kee}).setMultipleInstances(!0)),e.registerVersion(dY,pY)}Ree(ge);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VT=function(e,t){return VT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},VT(e,t)};function Nee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");VT(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Qj(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Aee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,Vk=Vk||{},De=Aee||self;function Ty(){}function BT(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Gp(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Pee(e){return Object.prototype.hasOwnProperty.call(e,pE)&&e[pE]||(e[pE]=++Oee)}var pE="closure_uid_"+(1e9*Math.random()>>>0),Oee=0;function Dee(e,t,n){return e.call.apply(e.bind,arguments)}function Mee(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Hn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Hn=Dee:Hn=Mee,Hn.apply(null,arguments)}function Yg(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Yn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[i].apply(r,a)}}function Fa(){this.s=this.s,this.o=this.o}var Lee=0;Fa.prototype.s=!1;Fa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Lee!=0)&&Pee(this)};Fa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Yj=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Xj=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Fee(e){e:{for(var t=xte,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function wM(e){return Array.prototype.concat.apply([],arguments)}function Bk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Iy(e){return/^[\s\xa0]*$/.test(e)}var _M=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Er(e,t){return e.indexOf(t)!=-1}function vE(e,t){return e<t?-1:e>t?1:0}var Sr;e:{var bM=De.navigator;if(bM){var EM=bM.userAgent;if(EM){Sr=EM;break e}}Sr=""}function zk(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Jj(e){var t={};for(var n in e)t[n]=e[n];return t}var SM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zj(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<SM.length;o++)n=SM[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qk(e){return qk[" "](e),e}qk[" "]=Ty;function $ee(e){var t=Vee;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Uee=Er(Sr,"Opera"),Gc=Er(Sr,"Trident")||Er(Sr,"MSIE"),eV=Er(Sr,"Edge"),zT=eV||Gc,tV=Er(Sr,"Gecko")&&!(Er(Sr.toLowerCase(),"webkit")&&!Er(Sr,"Edge"))&&!(Er(Sr,"Trident")||Er(Sr,"MSIE"))&&!Er(Sr,"Edge"),jee=Er(Sr.toLowerCase(),"webkit")&&!Er(Sr,"Edge");function nV(){var e=De.document;return e?e.documentMode:void 0}var Cy;e:{var gE="",mE=function(){var e=Sr;if(tV)return/rv:([^\);]+)(\)|;)/.exec(e);if(eV)return/Edge\/([\d\.]+)/.exec(e);if(Gc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(jee)return/WebKit\/(\S+)/.exec(e);if(Uee)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(mE&&(gE=mE?mE[1]:""),Gc){var yE=nV();if(yE!=null&&yE>parseFloat(gE)){Cy=String(yE);break e}}Cy=gE}var Vee={};function Bee(){return $ee(function(){for(var e=0,t=_M(String(Cy)).split("."),n=_M("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o[0].length==0&&a[0].length==0)break;e=vE(o[1].length==0?0:parseInt(o[1],10),a[1].length==0?0:parseInt(a[1],10))||vE(o[2].length==0,a[2].length==0)||vE(o[2],a[2]),o=o[3],a=a[3]}while(e==0)}return 0<=e})}var qT;if(De.document&&Gc){var TM=nV();qT=TM||parseInt(Cy,10)||void 0}else qT=void 0;var zee=qT,qee=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{De.addEventListener("test",Ty,t),De.removeEventListener("test",Ty,t)}catch{}return e}();function ar(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ar.prototype.h=function(){this.defaultPrevented=!0};function ep(e,t){if(ar.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tV){e:{try{qk(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Wee[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ep.Z.h.call(this)}}Yn(ep,ar);var Wee={2:"touch",3:"pen",4:"mouse"};ep.prototype.h=function(){ep.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qp="closure_listenable_"+(1e6*Math.random()|0),Hee=0;function Kee(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Hee,this.ca=this.fa=!1}function uw(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function lw(e){this.src=e,this.g={},this.h=0}lw.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var a=HT(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new Kee(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function WT(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Yj(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(uw(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function HT(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var Wk="closure_lm_"+(1e6*Math.random()|0),wE={};function rV(e,t,n,r,i){if(r&&r.once)return oV(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)rV(e,t[o],n,r,i);return null}return n=Gk(n),e&&e[Qp]?e.N(t,n,Gp(r)?!!r.capture:!!r,i):iV(e,t,n,!1,r,i)}function iV(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Gp(i)?!!i.capture:!!i,u=Kk(e);if(u||(e[Wk]=u=new lw(e)),n=u.add(t,n,r,a,o),n.proxy)return n;if(r=Gee(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qee||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(aV(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Gee(){function e(n){return t.call(e.src,e.listener,n)}var t=Qee;return e}function oV(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)oV(e,t[o],n,r,i);return null}return n=Gk(n),e&&e[Qp]?e.O(t,n,Gp(r)?!!r.capture:!!r,i):iV(e,t,n,!0,r,i)}function sV(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)sV(e,t[o],n,r,i);else r=Gp(r)?!!r.capture:!!r,n=Gk(n),e&&e[Qp]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=HT(o,n,r,i),-1<n&&(uw(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Kk(e))&&(t=e.g[t.toString()],e=-1,t&&(e=HT(t,n,r,i)),(n=-1<e?t[e]:null)&&Hk(n))}function Hk(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Qp])WT(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(aV(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kk(t))?(WT(n,e),n.h==0&&(n.src=null,t[Wk]=null)):uw(e)}}}function aV(e){return e in wE?wE[e]:wE[e]="on"+e}function Qee(e,t){if(e.ca)e=!0;else{t=new ep(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Hk(e),e=n.call(r,t)}return e}function Kk(e){return e=e[Wk],e instanceof lw?e:null}var _E="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gk(e){return typeof e=="function"?e:(e[_E]||(e[_E]=function(t){return e.handleEvent(t)}),e[_E])}function Pn(){Fa.call(this),this.i=new lw(this),this.P=this,this.I=null}Yn(Pn,Fa);Pn.prototype[Qp]=!0;Pn.prototype.removeEventListener=function(e,t,n,r){sV(this,e,t,n,r)};function Kn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new ar(t,e);else if(t instanceof ar)t.target=t.target||e;else{var i=t;t=new ar(r,e),Zj(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Xg(a,r,!0,t)&&i}if(a=t.g=e,i=Xg(a,r,!0,t)&&i,i=Xg(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Xg(a,r,!1,t)&&i}Pn.prototype.M=function(){if(Pn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)uw(n[r]);delete e.g[t],e.h--}}this.I=null};Pn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Pn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Xg(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,c=a.ia||a.src;a.fa&&WT(e.i,a),i=u.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Qk=De.JSON.stringify;function Yee(){var e=lV,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xee=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=uV.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),uV=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new Jee},function(e){return e.reset()}),Jee=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Zee(e){De.setTimeout(function(){throw e},0)}function Yk(e,t){KT||ete(),GT||(KT(),GT=!0),lV.add(e,t)}var KT;function ete(){var e=De.Promise.resolve(void 0);KT=function(){e.then(tte)}}var GT=!1,lV=new Xee;function tte(){for(var e;e=Yee();){try{e.h.call(e.g)}catch(n){Zee(n)}var t=uV;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}GT=!1}function cw(e,t){Pn.call(this),this.h=e||1,this.g=t||De,this.j=Hn(this.kb,this),this.l=Date.now()}Yn(cw,Pn);le=cw.prototype;le.da=!1;le.S=null;le.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kn(this,"tick"),this.da&&(Xk(this),this.start()))}};le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xk(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}le.M=function(){cw.Z.M.call(this),Xk(this),delete this.g};function Jk(e,t,n){if(typeof e=="function")n&&(e=Hn(e,n));else if(e&&typeof e.handleEvent=="function")e=Hn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:De.setTimeout(e,t||0)}function cV(e){e.g=Jk(function(){e.g=null,e.i&&(e.i=!1,cV(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var nte=function(e){Nee(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:cV(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(De.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Fa);function tp(e){Fa.call(this),this.h=e,this.g={}}Yn(tp,Fa);var IM=[];function fV(e,t,n,r){Array.isArray(n)||(n&&(IM[0]=n.toString()),n=IM);for(var i=0;i<n.length;i++){var o=rV(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function hV(e){zk(e.g,function(t,n){this.g.hasOwnProperty(n)&&Hk(t)},e),e.g={}}tp.prototype.M=function(){tp.Z.M.call(this),hV(this)};tp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fw(){this.g=!0}fw.prototype.Aa=function(){this.g=!1};function rte(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",u=o.split("&"),c=0;c<u.length;c++){var f=u[c].split("=");if(1<f.length){var d=f[0];f=f[1];var p=d.split("_");a=2<=p.length&&p[1]=="type"?a+(d+"="+f+"&"):a+(d+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function ite(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+a})}function yc(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+ste(e,n)+(r?" "+r:"")})}function ote(e,t){e.info(function(){return"TIMEOUT: "+t})}fw.prototype.info=function(){};function ste(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return Qk(n)}catch{return t}}var pl={},CM=null;function hw(){return CM=CM||new Pn}pl.Ma="serverreachability";function dV(e){ar.call(this,pl.Ma,e)}Yn(dV,ar);function np(e){var t=hw();Kn(t,new dV(t))}pl.STAT_EVENT="statevent";function pV(e,t){ar.call(this,pl.STAT_EVENT,e),this.stat=t}Yn(pV,ar);function kr(e){var t=hw();Kn(t,new pV(t,e))}pl.Na="timingevent";function vV(e,t){ar.call(this,pl.Na,e),this.size=t}Yn(vV,ar);function Yp(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){e()},t)}var dw={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gV={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Zk(){}Zk.prototype.h=null;function kM(e){return e.h||(e.h=e.i())}function mV(){}var Xp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ex(){ar.call(this,"d")}Yn(ex,ar);function tx(){ar.call(this,"c")}Yn(tx,ar);var QT;function pw(){}Yn(pw,Zk);pw.prototype.g=function(){return new XMLHttpRequest};pw.prototype.i=function(){return{}};QT=new pw;function Jp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new tp(this),this.P=ate,e=zT?125:void 0,this.W=new cw(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yV}function yV(){this.i=null,this.g="",this.h=!1}var ate=45e3,YT={},ky={};le=Jp.prototype;le.setTimeout=function(e){this.P=e};function XT(e,t,n){e.K=1,e.v=gw(ps(t)),e.s=n,e.U=!0,wV(e,null)}function wV(e,t){e.F=Date.now(),Zp(e),e.A=ps(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),CV(n.h,"t",r),e.C=0,n=e.l.H,e.h=new yV,e.g=HV(e.l,n?t:null,!e.s),0<e.O&&(e.L=new nte(Hn(e.Ia,e,e.g),e.O)),fV(e.V,e.g,"readystatechange",e.gb),t=e.H?Jj(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),np(),rte(e.j,e.u,e.A,e.m,e.X,e.s)}le.gb=function(e){e=e.target;var t=this.L;t&&ns(e)==3?t.l():this.Ia(e)};le.Ia=function(e){try{if(e==this.g)e:{var t=ns(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||zT||this.g&&(this.h.h||this.g.ga()||AM(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?np(3):np(2)),vw(this);var i=this.g.ba();this.N=i;t:if(_V(this)){var o=AM(this.g);e="";var a=o.length,u=ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cu(this),md(this);var c="";break t}this.h.i=new De.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,ite(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var f,d=this.g;if((f=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Iy(f)){var p=f;break t}}p=null}if(i=p)yc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,JT(this,i);else{this.i=!1,this.o=3,kr(12),Cu(this),md(this);break e}}this.U?(bV(this,t,c),zT&&this.i&&t==3&&(fV(this.V,this.W,"tick",this.fb),this.W.start())):(yc(this.j,this.m,c,null),JT(this,c)),t==4&&Cu(this),this.i&&!this.I&&(t==4?BV(this.l,this):(this.i=!1,Zp(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),Cu(this),md(this)}}}catch{}finally{}};function _V(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function bV(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=ute(e,n),i==ky){t==4&&(e.o=4,kr(14),r=!1),yc(e.j,e.m,null,"[Incomplete Response]");break}else if(i==YT){e.o=4,kr(15),yc(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else yc(e.j,e.m,i,null),JT(e,i);_V(e)&&i!=ky&&i!=YT&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,kr(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cx(t),t.L=!0,kr(11))):(yc(e.j,e.m,n,"[Invalid Chunked Response]"),Cu(e),md(e))}le.fb=function(){if(this.g){var e=ns(this.g),t=this.g.ga();this.C<t.length&&(vw(this),bV(this,e,t),this.i&&e!=4&&Zp(this))}};function ute(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ky:(n=Number(t.substring(n,r)),isNaN(n)?YT:(r+=1,r+n>t.length?ky:(t=t.substr(r,n),e.C=r+n,t)))}le.cancel=function(){this.I=!0,Cu(this)};function Zp(e){e.Y=Date.now()+e.P,EV(e,e.P)}function EV(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Yp(Hn(e.eb,e),t)}function vw(e){e.B&&(De.clearTimeout(e.B),e.B=null)}le.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(ote(this.j,this.A),this.K!=2&&(np(),kr(17)),Cu(this),this.o=2,md(this)):EV(this,this.Y-e)};function md(e){e.l.G==0||e.I||BV(e.l,e)}function Cu(e){vw(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Xk(e.W),hV(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function JT(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||ZT(n.i,e))){if(n.I=e.N,!e.J&&ZT(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Ay(n),ww(n);else break e;lx(n),kr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Yp(Hn(n.ab,n),6e3));if(1>=RV(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ku(n,11)}else if((e.J||n.g==e)&&Ay(n),!Iy(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var a=o[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var c=o[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var f=e.g;if(f){var d=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var p=r.i;!p.g&&(Er(d,"spdy")||Er(d,"quic")||Er(d,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(ix(p,p.h),p.h=null))}if(r.D){var g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Mt(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var m=e;if(r.oa=WV(r,r.H?r.la:null,r.W),m.J){NV(r.i,m);var w=m,_=r.K;_&&w.setTimeout(_),w.B&&(vw(w),Zp(w)),r.g=m}else jV(r);0<n.l.length&&_w(n)}else o[0]!="stop"&&o[0]!="close"||ku(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?ku(n,7):ux(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}np(4)}catch{}}function lte(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(BT(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function nx(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(BT(e)||typeof e=="string")Xj(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(BT(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=lte(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Cf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Cf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}le=Cf.prototype;le.R=function(){rx(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};le.T=function(){return rx(this),this.g.concat()};function rx(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Yu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Yu(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}le.get=function(e,t){return Yu(this.h,e)?this.h[e]:t};le.set=function(e,t){Yu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};le.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function Yu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var SV=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cte(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Xu){this.g=t!==void 0?t:e.g,xy(this,e.j),this.s=e.s,Ry(this,e.i),Ny(this,e.m),this.l=e.l,t=e.h;var n=new rp;n.i=t.i,t.g&&(n.g=new Cf(t.g),n.h=t.h),xM(this,n),this.o=e.o}else e&&(n=String(e).match(SV))?(this.g=!!t,xy(this,n[1]||"",!0),this.s=yd(n[2]||""),Ry(this,n[3]||"",!0),Ny(this,n[4]),this.l=yd(n[5]||"",!0),xM(this,n[6]||"",!0),this.o=yd(n[7]||"")):(this.g=!!t,this.h=new rp(null,this.g))}Xu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kh(t,RM,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Kh(t,RM,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Kh(n,n.charAt(0)=="/"?vte:pte,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kh(n,mte)),e.join("")};function ps(e){return new Xu(e)}function xy(e,t,n){e.j=n?yd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ry(e,t,n){e.i=n?yd(t,!0):t}function Ny(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xM(e,t,n){t instanceof rp?(e.h=t,yte(e.h,e.g)):(n||(t=Kh(t,gte)),e.h=new rp(t,e.g))}function Mt(e,t,n){e.h.set(t,n)}function gw(e){return Mt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fte(e){return e instanceof Xu?ps(e):new Xu(e,void 0)}function hte(e,t,n,r){var i=new Xu(null,void 0);return e&&xy(i,e),t&&Ry(i,t),n&&Ny(i,n),r&&(i.l=r),i}function yd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kh(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,dte),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dte(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var RM=/[#\/\?@]/g,pte=/[#\?:]/g,vte=/[#\?]/g,gte=/[#\?@]/g,mte=/#/g;function rp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $a(e){e.g||(e.g=new Cf,e.h=0,e.i&&cte(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}le=rp.prototype;le.add=function(e,t){$a(this),this.i=null,e=kf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function TV(e,t){$a(e),t=kf(e,t),Yu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Yu(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&rx(e)))}function IV(e,t){return $a(e),t=kf(e,t),Yu(e.g.h,t)}le.forEach=function(e,t){$a(this),this.g.forEach(function(n,r){Xj(n,function(i){e.call(t,i,r,this)},this)},this)};le.T=function(){$a(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};le.R=function(e){$a(this);var t=[];if(typeof e=="string")IV(this,e)&&(t=wM(t,this.g.get(kf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=wM(t,e[n])}return t};le.set=function(e,t){return $a(this),this.i=null,e=kf(this,e),IV(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};le.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function CV(e,t,n){TV(e,t),0<n.length&&(e.i=null,e.g.set(kf(e,t),Bk(n)),e.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};function kf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function yte(e,t){t&&!e.j&&($a(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TV(this,r),CV(this,i,n))},e)),e.j=t}var wte=function(){function e(t,n){this.h=t,this.g=n}return e}();function kV(e){this.l=e||_te,De.PerformanceNavigationTiming?(e=De.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(De.g&&De.g.Ea&&De.g.Ea()&&De.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _te=10;function xV(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function RV(e){return e.h?1:e.g?e.g.size:0}function ZT(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ix(e,t){e.g?e.g.add(t):e.h=t}function NV(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}kV.prototype.cancel=function(){var e,t;if(this.i=AV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=Qj(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function AV(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=Qj(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Bk(e.i)}function ox(){}ox.prototype.stringify=function(e){return De.JSON.stringify(e,void 0)};ox.prototype.parse=function(e){return De.JSON.parse(e,void 0)};function bte(){this.g=new ox}function Ete(e,t,n){var r=n||"";try{nx(e,function(i,o){var a=i;Gp(i)&&(a=Qk(i)),t.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ste(e,t){var n=new fw;if(De.Image){var r=new Image;r.onload=Yg(Jg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yg(Jg,n,r,"TestLoadImage: error",!1,t),r.onabort=Yg(Jg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yg(Jg,n,r,"TestLoadImage: timeout",!1,t),De.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Jg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function ev(e){this.l=e.$b||null,this.j=e.ib||!1}Yn(ev,Zk);ev.prototype.g=function(){return new mw(this.l,this.j)};ev.prototype.i=function(e){return function(){return e}}({});function mw(e,t){Pn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yn(mw,Pn);var sx=0;le=mw.prototype;le.open=function(e,t){if(this.readyState!=sx)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ip(this)};le.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||De).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tv(this)),this.readyState=sx};le.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ip(this)),this.g&&(this.readyState=3,ip(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof De.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PV(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function PV(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}le.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tv(this):ip(this),this.readyState==3&&PV(this)}};le.Ua=function(e){this.g&&(this.response=this.responseText=e,tv(this))};le.Ta=function(e){this.g&&(this.response=e,tv(this))};le.ha=function(){this.g&&tv(this)};function tv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ip(e)}le.setRequestHeader=function(e,t){this.v.append(e,t)};le.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ip(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(mw.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Tte=De.JSON.parse;function un(e){Pn.call(this),this.headers=new Cf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OV,this.K=this.L=!1}Yn(un,Pn);var OV="",Ite=/^https?$/i,Cte=["POST","PUT"];le=un.prototype;le.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():QT.g(),this.C=this.u?kM(this.u):kM(QT),this.g.onreadystatechange=Hn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){NM(this,o);return}e=n||"";var i=new Cf(this.headers);r&&nx(r,function(o,a){i.set(a,o)}),r=Fee(i.T()),n=De.FormData&&e instanceof De.FormData,!(0<=Yj(Cte,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{LV(this),0<this.B&&((this.K=kte(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hn(this.pa,this)):this.A=Jk(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){NM(this,o)}};function kte(e){return Gc&&Bee()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function xte(e){return e.toLowerCase()=="content-type"}le.pa=function(){typeof Vk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kn(this,"timeout"),this.abort(8))};function NM(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,DV(e),yw(e)}function DV(e){e.D||(e.D=!0,Kn(e,"complete"),Kn(e,"error"))}le.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Kn(this,"complete"),Kn(this,"abort"),yw(this))};le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yw(this,!0)),un.Z.M.call(this)};le.Fa=function(){this.s||(this.F||this.v||this.l?MV(this):this.cb())};le.cb=function(){MV(this)};function MV(e){if(e.h&&typeof Vk<"u"&&(!e.C[1]||ns(e)!=4||e.ba()!=2)){if(e.v&&ns(e)==4)Jk(e.Fa,0,e);else if(Kn(e,"readystatechange"),ns(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(SV)[1]||null;if(!o&&De.self&&De.self.location){var a=De.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ite.test(o?o.toLowerCase():"")}r=i}if(r)Kn(e,"complete"),Kn(e,"success");else{e.m=6;try{var u=2<ns(e)?e.g.statusText:""}catch{u=""}e.j=u+" ["+e.ba()+"]",DV(e)}}finally{yw(e)}}}}function yw(e,t){if(e.g){LV(e);var n=e.g,r=e.C[0]?Ty:null;e.g=null,e.C=null,t||Kn(e,"ready");try{n.onreadystatechange=r}catch{}}}function LV(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(De.clearTimeout(e.A),e.A=null)}function ns(e){return e.g?e.g.readyState:0}le.ba=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}};le.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Tte(t)}};function AM(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case OV:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}le.Da=function(){return this.m};le.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Rte(e){var t="";return zk(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function ax(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rte(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Mt(e,t,n))}function Fh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function FV(e){this.za=0,this.l=[],this.h=new fw,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fh("baseRetryDelayMs",5e3,e),this.$a=Fh("retryDelaySeedMs",1e4,e),this.Ya=Fh("forwardChannelMaxRetries",2,e),this.ra=Fh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new kV(e&&e.concurrentRequestLimit),this.Ca=new bte,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}le=FV.prototype;le.ma=8;le.G=1;function ux(e){if($V(e),e.G==3){var t=e.V++,n=ps(e.F);Mt(n,"SID",e.J),Mt(n,"RID",t),Mt(n,"TYPE","terminate"),nv(e,n),t=new Jp(e,e.h,t,void 0),t.K=2,t.v=gw(ps(n)),n=!1,De.navigator&&De.navigator.sendBeacon&&(n=De.navigator.sendBeacon(t.v.toString(),"")),!n&&De.Image&&(new Image().src=t.v,n=!0),n||(t.g=HV(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Zp(t)}qV(e)}le.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function ww(e){e.g&&(cx(e),e.g.cancel(),e.g=null)}function $V(e){ww(e),e.u&&(De.clearTimeout(e.u),e.u=null),Ay(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&De.clearTimeout(e.m),e.m=null)}function bE(e,t){e.l.push(new wte(e.Za++,t)),e.G==3&&_w(e)}function _w(e){xV(e.i)||e.m||(e.m=!0,Yk(e.Ha,e),e.C=0)}function Nte(e,t){return RV(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Yp(Hn(e.Ha,e,t),zV(e,e.C)),e.C++,!0)}le.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Jp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=Jj(n),Zj(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=UV(this,t,r),i=ps(this.F),Mt(i,"RID",e),Mt(i,"CVER",22),this.D&&Mt(i,"X-HTTP-Session-Id",this.D),nv(this,i),this.o&&n&&ax(i,this.o,n),ix(this.i,t),this.Ra&&Mt(i,"TYPE","init"),this.ja?(Mt(i,"$req",r),Mt(i,"SID","null"),t.$=!0,XT(t,i,null)):XT(t,i,r),this.G=2}}else this.G==3&&(e?PM(this,e):this.l.length==0||xV(this.i)||PM(this))};function PM(e,t){var n;t?n=t.m:n=e.V++;var r=ps(e.F);Mt(r,"SID",e.J),Mt(r,"RID",n),Mt(r,"AID",e.U),nv(e,r),e.o&&e.s&&ax(r,e.o,e.s),n=new Jp(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=UV(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ix(e.i,n),XT(n,r,t)}function nv(e,t){e.j&&nx({},function(n,r){Mt(t,r,n)})}function UV(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Hn(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,c=0;c<n;c++){var f=i[c].h,d=i[c].g;if(f-=o,0>f)o=Math.max(0,i[c].h-100),u=!1;else try{Ete(d,a,"req"+f+"_")}catch{r&&r(d)}}if(u){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function jV(e){e.g||e.u||(e.Y=1,Yk(e.Ga,e),e.A=0)}function lx(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Yp(Hn(e.Ga,e),zV(e,e.A)),e.A++,!0)}le.Ga=function(){if(this.u=null,VV(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Yp(Hn(this.bb,this),e)}};le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kr(10),ww(this),VV(this))};function cx(e){e.B!=null&&(De.clearTimeout(e.B),e.B=null)}function VV(e){e.g=new Jp(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ps(e.oa);Mt(t,"RID","rpc"),Mt(t,"SID",e.J),Mt(t,"CI",e.N?"0":"1"),Mt(t,"AID",e.U),nv(e,t),Mt(t,"TYPE","xmlhttp"),e.o&&e.s&&ax(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=gw(ps(t)),n.s=null,n.U=!0,wV(n,e)}le.ab=function(){this.v!=null&&(this.v=null,ww(this),lx(this),kr(19))};function Ay(e){e.v!=null&&(De.clearTimeout(e.v),e.v=null)}function BV(e,t){var n=null;if(e.g==t){Ay(e),cx(e),e.g=null;var r=2}else if(ZT(e.i,t))n=t.D,NV(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=hw(),Kn(r,new vV(r,n)),_w(e)}else jV(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&Nte(e,t)||r==2&&lx(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ku(e,5);break;case 4:ku(e,10);break;case 3:ku(e,6);break;default:ku(e,2)}}}function zV(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ku(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Hn(e.jb,e);n||(n=new Xu("//www.google.com/images/cleardot.gif"),De.location&&De.location.protocol=="http"||xy(n,"https"),gw(n)),Ste(n.toString(),r)}else kr(2);e.G=0,e.j&&e.j.va(t),qV(e),$V(e)}le.jb=function(e){e?(this.h.info("Successfully pinged google.com"),kr(2)):(this.h.info("Failed to ping google.com"),kr(1))};function qV(e){e.G=0,e.I=-1,e.j&&((AV(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Bk(e.l),e.l.length=0),e.j.ua())}function WV(e,t,n){var r=fte(n);if(r.i!="")t&&Ry(r,t+"."+r.i),Ny(r,r.m);else{var i=De.location;r=hte(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&zk(e.aa,function(o,a){Mt(r,a,o)}),t=e.D,n=e.sa,t&&n&&Mt(r,t,n),Mt(r,"VER",e.ma),nv(e,r),r}function HV(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new un(new ev({ib:!0})):new un(e.qa),t.L=e.H,t}function KV(){}le=KV.prototype;le.xa=function(){};le.wa=function(){};le.va=function(){};le.ua=function(){};le.Oa=function(){};function Py(){if(Gc&&!(10<=Number(zee)))throw Error("Environmental error: no available transport.")}Py.prototype.g=function(e,t){return new hi(e,t)};function hi(e,t){Pn.call(this),this.g=new FV(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Iy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Iy(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new xf(this)}Yn(hi,Pn);hi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Yk(Hn(e.hb,e,t))),kr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=WV(e,null,e.W),_w(e)};hi.prototype.close=function(){ux(this.g)};hi.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,bE(this.g,t)}else this.v?(t={},t.__data__=Qk(e),bE(this.g,t)):bE(this.g,e)};hi.prototype.M=function(){this.g.j=null,delete this.j,ux(this.g),delete this.g,hi.Z.M.call(this)};function GV(e){ex.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Yn(GV,ex);function QV(){tx.call(this),this.status=1}Yn(QV,tx);function xf(e){this.g=e}Yn(xf,KV);xf.prototype.xa=function(){Kn(this.g,"a")};xf.prototype.wa=function(e){Kn(this.g,new GV(e))};xf.prototype.va=function(e){Kn(this.g,new QV)};xf.prototype.ua=function(){Kn(this.g,"b")};Py.prototype.createWebChannel=Py.prototype.g;hi.prototype.send=hi.prototype.u;hi.prototype.open=hi.prototype.m;hi.prototype.close=hi.prototype.close;dw.NO_ERROR=0;dw.TIMEOUT=8;dw.HTTP_ERROR=6;gV.COMPLETE="complete";mV.EventType=Xp;Xp.OPEN="a";Xp.CLOSE="b";Xp.ERROR="c";Xp.MESSAGE="d";Pn.prototype.listen=Pn.prototype.N;un.prototype.listenOnce=un.prototype.O;un.prototype.getLastError=un.prototype.La;un.prototype.getLastErrorCode=un.prototype.Da;un.prototype.getStatus=un.prototype.ba;un.prototype.getResponseJson=un.prototype.Qa;un.prototype.getResponseText=un.prototype.ga;un.prototype.send=un.prototype.ea;var Ate=function(){return new Py},Pte=function(){return hw()},EE=dw,Ote=gV,Dte=pl,OM={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Mte=ev,Zg=mV,Lte=un;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();oi.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return oe(t,e),t}(Error),ao=new cl("@firebase/firestore");function eI(){return ao.logLevel}function te(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ao.logLevel<=qe.DEBUG){var r=t.map(fx);ao.debug.apply(ao,je(["Firestore (8.10.1): "+e],r))}}function an(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ao.logLevel<=qe.ERROR){var r=t.map(fx);ao.error.apply(ao,je(["Firestore (8.10.1): "+e],r))}}function op(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ao.logLevel<=qe.WARN){var r=t.map(fx);ao.warn.apply(ao,je(["Firestore (8.10.1): "+e],r))}}function fx(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw an(t),new Error(t)}function xe(e,t){e||me()}function ie(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YV=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=Fte(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function Qe(e,t){return e<t?-1:e>t?1:0}function Qc(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function XV(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Qe(this.nanoseconds,t.nanoseconds):Qe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ze=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Hr(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function JV(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZV=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&me(),r===void 0?r=t.length-n:r>t.length-n&&me(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),at=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var u=a[o];if(u.indexOf("//")>=0)throw new K(B.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(ZV),$te=/^[_a-zA-Z][_a-zA-Z0-9]*$/,co=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return $te.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new K(B.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var c=n[o];if(c==="\\"){if(o+1===n.length)throw new K(B.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var f=n[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new K(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=f,o+=2}else c==="`"?(u=!u,o++):c!=="."||u?(i+=c,o++):(a(),o++)}if(a(),u)throw new K(B.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(ZV),Yc=function(){function e(t){this.fields=t,t.sort(co.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Qc(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Nr=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Qe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Nr.EMPTY_BYTE_STRING=new Nr("");var Ute=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(e){if(xe(!!e),typeof e=="string"){var t=0,n=Ute.exec(e);if(xe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:on(e.seconds),nanos:on(e.nanos)}}function on(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Xc(e){return typeof e=="string"?Nr.fromBase64String(e):Nr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function e5(e){var t=e.mapValue.fields.__previous_value__;return hx(t)?e5(t):t}function sp(e){var t=Ca(e.mapValue.fields.__local_write_time__.timestampValue);return new Hr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e){return e==null}function Oy(e){return e===0&&1/e==-1/0}function t5(e){return typeof e=="number"&&Number.isInteger(e)&&!Oy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(at.fromString(t))},e.fromName=function(t){return new e(at.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&at.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return at.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new at(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hx(e)?4:10:me()}function $o(e,t){var n=Ju(e);if(n!==Ju(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sp(e).isEqual(sp(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Ca(r.timestampValue),a=Ca(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Xc(r.bytesValue).isEqual(Xc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return on(r.geoPointValue.latitude)===on(i.geoPointValue.latitude)&&on(r.geoPointValue.longitude)===on(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return on(r.integerValue)===on(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=on(r.doubleValue),a=on(i.doubleValue);return o===a?Oy(o)===Oy(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Qc(e.arrayValue.values||[],t.arrayValue.values||[],$o);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(DM(o)!==DM(a))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!$o(o[u],a[u])))return!1;return!0}(e,t);default:return me()}}function ap(e,t){return(e.values||[]).find(function(n){return $o(n,t)})!==void 0}function Jc(e,t){var n=Ju(e),r=Ju(t);if(n!==r)return Qe(n,r);switch(n){case 0:return 0;case 1:return Qe(e.booleanValue,t.booleanValue);case 2:return function(i,o){var a=on(i.integerValue||i.doubleValue),u=on(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return MM(e.timestampValue,t.timestampValue);case 4:return MM(sp(e),sp(t));case 5:return Qe(e.stringValue,t.stringValue);case 6:return function(i,o){var a=Xc(i),u=Xc(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),u=o.split("/"),c=0;c<a.length&&c<u.length;c++){var f=Qe(a[c],u[c]);if(f!==0)return f}return Qe(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var a=Qe(on(i.latitude),on(o.latitude));return a!==0?a:Qe(on(i.longitude),on(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],u=o.values||[],c=0;c<a.length&&c<u.length;++c){var f=Jc(a[c],u[c]);if(f)return f}return Qe(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var a=i.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(var d=0;d<u.length&&d<f.length;++d){var p=Qe(u[d],f[d]);if(p!==0)return p;var g=Jc(a[u[d]],c[f[d]]);if(g!==0)return g}return Qe(u.length,f.length)}(e.mapValue,t.mapValue);default:throw me()}}function MM(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qe(e,t);var n=Ca(e),r=Ca(t),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function dx(e){return tI(e)}function tI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Ca(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_e.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,a=0,u=r.values||[];a<u.length;a++)o?o=!1:i+=",",i+=tI(u[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,a=0,u=Object.keys(r.fields||{}).sort();a<u.length;a++){var c=u[a];o?o=!1:i+=",",i+=c+":"+tI(r.fields[c])}return i+"}"}(e.mapValue):me();var t,n}function Dy(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function nI(e){return!!e&&"integerValue"in e}function px(e){return!!e&&"arrayValue"in e}function LM(e){return!!e&&"nullValue"in e}function FM(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xm(e){return!!e&&"mapValue"in e}function wd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return vl(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=wd(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wd(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!xm(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wd(n)},e.prototype.setAll=function(t){var n=this,r=co.emptyPath(),i={},o=[];t.forEach(function(u,c){if(!r.isImmediateParentOf(c)){var f=n.getFieldsMap(r);n.applyChanges(f,i,o),i={},o=[],r=c.popLast()}u?i[c.lastSegment()]=wd(u):o.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());xm(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return $o(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];xm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){vl(n,function(u,c){return t[u]=c});for(var i=0,o=r;i<o.length;i++){var a=o[i];delete t[a]}},e.prototype.clone=function(){return new e(wd(this.value))},e}();function n5(e){var t=[];return vl(e.fields,function(n,r){var i=new co([n]);if(xm(r)){var o=n5(r.mapValue).fields;if(o.length===0)t.push(i);else for(var a=0,u=o;a<u.length;a++){var c=u[a];t.push(i.child(c))}}else t.push(i)}),new Yc(t)}var Qn=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,ze.min(),ri.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ri.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ri.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ri.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ri.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),jte=function(e,t,n,r,i,o,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(e,t,n,r,i,o,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new jte(e,t,n,r,i,o,a)}function rv(e){var t=ie(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+dx(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),gl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ly(t.startAt)),t.endAt&&(n+="|ub:",n+=Ly(t.endAt)),t.h=n}return t.h}function bw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Gte(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!$o(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jM(e.startAt,t.startAt)&&jM(e.endAt,t.endAt)}function My(e){return _e.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var si=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return oe(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new Vte(n,r,i):r==="array-contains"?new qte(n,i):r==="in"?new Wte(n,i):r==="not-in"?new Hte(n,i):r==="array-contains-any"?new Kte(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new Bte(n,i):new zte(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Jc(r,this.value)):r!==null&&Ju(this.value)===Ju(r)&&this.m(Jc(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return me()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Vte=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=_e.fromName(i.referenceValue),o}return oe(t,e),t.prototype.matches=function(n){var r=_e.comparator(n.key,this.key);return this.m(r)},t}(si),Bte=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=r5("in",r),i}return oe(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(si),zte=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=r5("not-in",r),i}return oe(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(si);function r5(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return _e.fromName(r.referenceValue)})}var qte=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return oe(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return px(r)&&ap(r.arrayValue,this.value)},t}(si),Wte=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return oe(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&ap(this.value.arrayValue,r)},t}(si),Hte=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return oe(t,e),t.prototype.matches=function(n){if(ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!ap(this.value.arrayValue,r)},t}(si),Kte=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return oe(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!px(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return ap(r.value.arrayValue,o)})},t}(si),up=function(e,t){this.position=e,this.before=t};function Ly(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return dx(t)}).join(",")}var xc=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function Gte(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function UM(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?_e.comparator(_e.fromName(a.referenceValue),n.key):Jc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function jM(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!$o(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s=function(e,t,n,r,i,o,a,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function i5(e,t,n,r,i,o,a,u){return new _s(e,t,n,r,i,o,a,u)}function Rf(e){return new _s(e)}function Rm(e){return!gl(e.limit)&&e.limitType==="F"}function Fy(e){return!gl(e.limit)&&e.limitType==="L"}function vx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gx(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function mx(e){return e.collectionGroup!==null}function Zc(e){var t=ie(e);if(t.p===null){t.p=[];var n=gx(t),r=vx(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new xc(n)),t.p.push(new xc(co.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var u=a[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new xc(co.keyField(),c))}}}return t.p}function $i(e){var t=ie(e);if(!t.T)if(t.limitType==="F")t.T=$M(t.path,t.collectionGroup,Zc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Zc(t);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new xc(o.field,a))}var u=t.endAt?new up(t.endAt.position,!t.endAt.before):null,c=t.startAt?new up(t.startAt.position,!t.startAt.before):null;t.T=$M(t.path,t.collectionGroup,n,t.filters,t.limit,u,c)}return t.T}function o5(e,t,n){return new _s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function iv(e,t){return bw($i(e),$i(t))&&e.limitType===t.limitType}function s5(e){return rv($i(e))+"|lt:"+e.limitType}function rI(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+dx(i.value);var i}).join(", ")+"]"),gl(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Ly(t.startAt)),t.endAt&&(n+=", endAt: "+Ly(t.endAt)),"Target("+n+")"}($i(e))+"; limitType="+e.limitType+")"}function ov(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):_e.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!UM(n.startAt,Zc(n),r))&&(!n.endAt||!UM(n.endAt,Zc(n),r))}(e,t)}function a5(e){return function(t,n){for(var r=!1,i=0,o=Zc(e);i<o.length;i++){var a=o[i],u=Qte(a,t,n);if(u!==0)return u;r=r||a.field.isKeyField()}return 0}}function Qte(e,t,n){var r=e.field.isKeyField()?_e.comparator(t.key,n.key):function(i,o,a){var u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Jc(u,c):me()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oy(t)?"-0":t}}function l5(e){return{integerValue:""+e}}function c5(e,t){return t5(t)?l5(t):u5(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ew=function(){this._=void 0};function Yte(e,t,n){return e instanceof ef?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Zu?h5(e,t):e instanceof el?d5(e,t):function(r,i){var o=f5(r,i),a=VM(o)+VM(r.A);return nI(o)&&nI(r.A)?l5(a):u5(r.R,a)}(e,t)}function Xte(e,t,n){return e instanceof Zu?h5(e,t):e instanceof el?d5(e,t):n}function f5(e,t){return e instanceof tf?nI(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var ef=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return oe(t,e),t}(Ew),Zu=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return oe(t,e),t}(Ew);function h5(e,t){for(var n=p5(t),r=function(a){n.some(function(u){return $o(u,a)})||n.push(a)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var el=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return oe(t,e),t}(Ew);function d5(e,t){for(var n=p5(t),r=function(a){n=n.filter(function(u){return!$o(u,a)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tf=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return oe(t,e),t}(Ew);function VM(e){return on(e.integerValue||e.doubleValue)}function p5(e){return px(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sv=function(e,t){this.field=e,this.transform=t},Jte=function(e,t){this.version=e,this.transformResults=t},sr=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Nm(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Sw=function(){};function Zte(e,t,n){e instanceof av?function(r,i,o){var a=r.value.clone(),u=qM(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ua?function(r,i,o){if(Nm(r.precondition,i)){var a=qM(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(v5(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function iI(e,t,n){e instanceof av?function(r,i,o){if(Nm(r.precondition,i)){var a=r.value.clone(),u=WM(r.fieldTransforms,o,i);a.setAll(u),i.convertToFoundDocument(zM(i),a).setHasLocalMutations()}}(e,t,n):e instanceof Ua?function(r,i,o){if(Nm(r.precondition,i)){var a=WM(r.fieldTransforms,o,i),u=i.data;u.setAll(v5(r)),u.setAll(a),i.convertToFoundDocument(zM(i),u).setHasLocalMutations()}}(e,t,n):function(r,i){Nm(r.precondition,i)&&i.convertToNoDocument(ze.min())}(e,t)}function ene(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),u=f5(o.transform,a||null);u!=null&&(n==null&&(n=ri.empty()),n.set(o.field,u))}return n||null}function BM(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Qc(n,r,function(i,o){return function(a,u){return a.field.isEqual(u.field)&&function(c,f){return c instanceof Zu&&f instanceof Zu||c instanceof el&&f instanceof el?Qc(c.elements,f.elements,$o):c instanceof tf&&f instanceof tf?$o(c.A,f.A):c instanceof ef&&f instanceof ef}(a.transform,u.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function zM(e){return e.isFoundDocument()?e.version:ze.min()}var av=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return oe(t,e),t}(Sw),Ua=function(e){function t(n,r,i,o,a){a===void 0&&(a=[]);var u=this;return(u=e.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=a,u.type=1,u}return oe(t,e),t}(Sw);function v5(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function qM(e,t,n){var r=new Map;xe(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,Xte(a,u,n[i]))}return r}function WM(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],u=a.transform,c=n.data.field(a.field);r.set(a.field,Yte(u,c,t))}return r}var rn,et,uv=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return oe(t,e),t}(Sw),yx=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return oe(t,e),t}(Sw),tne=function(e){this.count=e};function g5(e){switch(e){case B.OK:return me();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return me()}}function m5(e){if(e===void 0)return an("GRPC error has no .code"),B.UNKNOWN;switch(e){case rn.OK:return B.OK;case rn.CANCELLED:return B.CANCELLED;case rn.UNKNOWN:return B.UNKNOWN;case rn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case rn.INTERNAL:return B.INTERNAL;case rn.UNAVAILABLE:return B.UNAVAILABLE;case rn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case rn.NOT_FOUND:return B.NOT_FOUND;case rn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case rn.ABORTED:return B.ABORTED;case rn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case rn.DATA_LOSS:return B.DATA_LOSS;default:return me()}}(et=rn||(rn={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){function e(t,n){this.comparator=t,this.root=n||Ks.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ks.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ks.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new em(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new em(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new em(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new em(this.root,t,this.comparator,!0)},e}(),em=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Ks=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=i!=null?i:e.EMPTY,this.right=o!=null?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();var t=this.left.check();if(t!==this.right.check())throw me();return t+(this.isRed()?0:1)},e}();Ks.EMPTY=null,Ks.RED=!0,Ks.BLACK=!1,Ks.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw me()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw me()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw me()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw me()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw me()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new Ks(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn=function(){function e(t){this.comparator=t,this.data=new dr(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new HM(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new HM(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),HM=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),nne=new dr(_e.comparator);function Oi(){return nne}var rne=new dr(_e.comparator);function oI(){return rne}var ine=new dr(_e.comparator);function y5(){return ine}var one=new yn(_e.comparator);function ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=one,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var sne=new yn(Qe);function Tw(){return sne}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wx=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,_x.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ze.min(),r,Tw(),Oi(),ht())},e}(),_x=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Nr.EMPTY_BYTE_STRING,n,ht(),ht(),ht())},e}(),Am=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},w5=function(e,t){this.targetId=e,this.V=t},_5=function(e,t,n,r){n===void 0&&(n=Nr.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},KM=function(){function e(){this.S=0,this.D=QM(),this.C=Nr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=ht(),n=ht(),r=ht();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new _x(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=QM()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ane=function(){function e(t){this.W=t,this.G=new Map,this.H=Oi(),this.J=GM(),this.Y=new yn(Qe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,a=t.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:me()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(My(o))if(r===0){var a=new _e(o.path);this.tt(n,a,Qn.newNoDocument(a,ze.min()))}else xe(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,u){var c=n.ot(u);if(c){if(a.current&&My(c.target)){var f=new _e(c.target.path);n.H.get(f)!==null||n.at(u,f)||n.tt(u,f,Qn.newNoDocument(f,t))}a.$&&(r.set(u,a.M()),a.L())}});var i=ht();this.J.forEach(function(a,u){var c=!0;u.forEachWhile(function(f){var d=n.ot(f);return!d||d.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var o=new wx(t,r,this.Y,this.H,i);return this.H=Oi(),this.J=GM(),this.Y=new yn(Qe),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new KM,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new yn(Qe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||te("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new KM),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function GM(){return new dr(_e.comparator)}function QM(){return new dr(_e.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var une={asc:"ASCENDING",desc:"DESCENDING"},lne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cne=function(e,t){this.databaseId=e,this.I=t};function lp(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function b5(e,t){return e.I?t.toBase64():t.toUint8Array()}function fne(e,t){return lp(e,t.toTimestamp())}function Rn(e){return xe(!!e),ze.fromTimestamp(function(t){var n=Ca(t);return new Hr(n.seconds,n.nanos)}(e))}function bx(e,t){return function(n){return new at(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function E5(e){var t=at.fromString(e);return xe(N5(t)),t}function cp(e,t){return bx(e.databaseId,t.path)}function No(e,t){var n=E5(t);if(n.get(1)!==e.databaseId.projectId)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _e(T5(n))}function sI(e,t){return bx(e.databaseId,t)}function S5(e){var t=E5(e);return t.length===4?at.emptyPath():T5(t)}function fp(e){return new at(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function T5(e){return xe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function YM(e,t,n){return{name:cp(e,t),fields:n.value.mapValue.fields}}function I5(e,t,n){var r=No(e,t.name),i=Rn(t.updateTime),o=new ri({mapValue:{fields:t.fields}}),a=Qn.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $y(e,t){var n;if(t instanceof av)n={update:YM(e,t.key,t.value)};else if(t instanceof uv)n={delete:cp(e,t.key)};else if(t instanceof Ua)n={update:YM(e,t.key,t.data),updateMask:gne(t.fieldMask)};else{if(!(t instanceof yx))return me();n={verify:cp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof ef)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof el)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tf)return{fieldPath:o.field.canonicalString(),increment:a.A};throw me()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:fne(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:me()}(e,t.precondition)),n}function XM(e,t){var n=t.currentDocument?function(f){return f.updateTime!==void 0?sr.updateTime(Rn(f.updateTime)):f.exists!==void 0?sr.exists(f.exists):sr.none()}(t.currentDocument):sr.none(),r=t.updateTransforms?t.updateTransforms.map(function(f){return function(d,p){var g=null;if("setToServerValue"in p)xe(p.setToServerValue==="REQUEST_TIME"),g=new ef;else if("appendMissingElements"in p){var m=p.appendMissingElements.values||[];g=new Zu(m)}else if("removeAllFromArray"in p){var w=p.removeAllFromArray.values||[];g=new el(w)}else"increment"in p?g=new tf(d,p.increment):me();var _=co.fromServerFormat(p.fieldPath);return new sv(_,g)}(e,f)}):[];if(t.update){t.update.name;var i=No(e,t.update.name),o=new ri({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(f){var d=f.fieldPaths||[];return new Yc(d.map(function(p){return co.fromServerFormat(p)}))}(t.updateMask);return new Ua(i,o,a,n,r)}return new av(i,o,n,r)}if(t.delete){var u=No(e,t.delete);return new uv(u,n)}if(t.verify){var c=No(e,t.verify);return new yx(c,n)}return me()}function C5(e,t){return{documents:[sI(e,t.path)]}}function k5(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=sI(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sI(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var c=u.map(function(f){return function(d){if(d.op==="=="){if(FM(d.value))return{unaryFilter:{field:Ql(d.field),op:"IS_NAN"}};if(LM(d.value))return{unaryFilter:{field:Ql(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(FM(d.value))return{unaryFilter:{field:Ql(d.field),op:"IS_NOT_NAN"}};if(LM(d.value))return{unaryFilter:{field:Ql(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(d.field),op:dne(d.op),value:d.value}}}(f)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(c){return function(f){return{field:Ql(f.field),direction:hne(f.dir)}}(c)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(u,c){return u.I||gl(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=JM(t.startAt)),t.endAt&&(n.structuredQuery.endAt=JM(t.endAt)),n}function x5(e){var t=S5(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=R5(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(p){return function(g){return new xc(wc(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p)}));var c=null;n.limit&&(c=function(p){var g;return gl(g=typeof p=="object"?p.value:p)?null:g}(n.limit));var f=null;n.startAt&&(f=ZM(n.startAt));var d=null;return n.endAt&&(d=ZM(n.endAt)),i5(t,i,u,a,c,"F",f,d)}function R5(e){return e?e.unaryFilter!==void 0?[vne(e)]:e.fieldFilter!==void 0?[pne(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return R5(t)}).reduce(function(t,n){return t.concat(n)}):me():[]}function JM(e){return{before:e.before,values:e.position}}function ZM(e){var t=!!e.before,n=e.values||[];return new up(n,t)}function hne(e){return une[e]}function dne(e){return lne[e]}function Ql(e){return{fieldPath:e.canonicalString()}}function wc(e){return co.fromServerFormat(e.fieldPath)}function pne(e){return si.create(wc(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return me()}}(e.fieldFilter.op),e.fieldFilter.value)}function vne(e){switch(e.unaryFilter.op){case"IS_NAN":var t=wc(e.unaryFilter.field);return si.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=wc(e.unaryFilter.field);return si.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wc(e.unaryFilter.field);return si.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wc(e.unaryFilter.field);return si.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return me()}}function gne(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function N5(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=eL(t)),t=mne(e.get(n),t);return eL(t)}function mne(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function eL(e){return e+""}function rs(e){var t=e.length;if(xe(t>=2),t===2)return xe(e.charAt(0)===""&&e.charAt(1)===""),at.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&me(),e.charAt(a+1)){case"":var u=e.substring(o,a),c=void 0;i.length===0?c=u:(c=i+=u,i=""),r.push(c);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:me()}o=a+2}return new at(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yne=function(e,t){this.seconds=e,this.nanoseconds=t},ti=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ti.store="owner",ti.key="owner";var ha=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ha.store="mutationQueues",ha.keyPath="userId";var kt=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};kt.store="mutations",kt.keyPath="batchId",kt.userMutationsIndex="userMutationsIndex",kt.userMutationsKeyPath=["userId","batchId"];var or=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,uo(n)]},e.key=function(t,n,r){return[t,uo(n),r]},e}();or.store="documentMutations",or.PLACEHOLDER=new or;var wne=function(e,t){this.path=e,this.readTime=t},_ne=function(e,t){this.path=e,this.version=t},Ht=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ht.store="remoteDocuments",Ht.readTimeIndex="readTimeIndex",Ht.readTimeIndexPath="readTime",Ht.collectionReadTimeIndex="collectionReadTimeIndex",Ht.collectionReadTimeIndexPath=["parentPath","readTime"];var Co=function(e){this.byteSize=e};Co.store="remoteDocumentGlobal",Co.key="remoteDocumentGlobalKey";var Vr=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Vr.store="targets",Vr.keyPath="targetId",Vr.queryTargetsIndexName="queryTargetsIndex",Vr.queryTargetsKeyPath=["canonicalId","targetId"];var zn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};zn.store="targetDocuments",zn.keyPath=["targetId","path"],zn.documentTargetsIndex="documentTargetsIndex",zn.documentTargetsKeyPath=["path","targetId"];var ni=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ni.key="targetGlobalKey",ni.store="targetGlobal";var Lu=function(e,t){this.collectionId=e,this.parent=t};Lu.store="collectionParents",Lu.keyPath=["collectionId","parent"];var ss=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ss.store="clientMetadata",ss.keyPath="clientId";var nf=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};nf.store="bundles",nf.keyPath="bundleId";var rf=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};rf.store="namedQueries",rf.keyPath="name";var bne=je(je([],je(je([],je(je([],je(je([],[ha.store,kt.store,or.store,Ht.store,Vr.store,ti.store,ni.store,zn.store]),[ss.store])),[Co.store])),[Lu.store])),[nf.store,rf.store]),A5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",P5=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),hr=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},Y=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,a=!1;t.forEach(function(u){++i,u.next(function(){++o,a&&o===i&&n()},function(c){return r(c)})}),a=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(u){return u?e.resolve(u):a()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},e}(),O5=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new hr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new _d(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Ex(i.target.error);r.ft.reject(new _d(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new _d(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(te("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new Sne(n)},e}(),of=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Hu())===12.2&&an("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return te("SimpleDb","Removing database:",t),wu(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Hu(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return M(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(te("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(c){var f=c.target.result;o(f)},u.onblocked=function(){a(new _d(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(c){var f=c.target.error;f.name==="VersionError"?a(new K(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new _d(t,f))},u.onupgradeneeded=function(c){te("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var f=c.target.result;r.wt.Rt(f,u.transaction,c.oldVersion,r.version).next(function(){te("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return M(this,void 0,void 0,function(){var o,a,u,c,f;return D(this,function(d){switch(d.label){case 0:o=n==="readonly",a=0,u=function(){var p,g,m,w,_;return D(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=T.sent(),p=O5.open(c.db,t,o?"readonly":"readwrite",r),g=i(p).catch(function(b){return p.abort(b),Y.reject(b)}).toPromise(),m={},g.catch(function(){}),[4,p.dt];case 3:return[2,(m.value=(T.sent(),g),m)];case 4:return w=T.sent(),_=w.name!=="FirebaseError"&&a<3,te("SimpleDb","Transaction failed with error:",w.message,"Retrying:",_),c.close(),_?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,d.label=1;case 1:return[5,u()];case 2:if(typeof(f=d.sent())=="object")return[2,f.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Ene=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return wu(this.Pt.delete())},e}(),_d=function(e){function t(n,r){var i=this;return(i=e.call(this,B.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return oe(t,e),t}(K);function ml(e){return e.name==="IndexedDbTransactionError"}var Sne=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(te("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),wu(r)},e.prototype.add=function(t){return te("SimpleDb","ADD",this.store.name,t,t),wu(this.store.add(t))},e.prototype.get=function(t){var n=this;return wu(this.store.get(t)).next(function(r){return r===void 0&&(r=null),te("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return te("SimpleDb","DELETE",this.store.name,t),wu(this.store.delete(t))},e.prototype.count=function(){return te("SimpleDb","COUNT",this.store.name),wu(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){te("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,a,u){return u.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new Y(function(r,i){n.onerror=function(o){var a=Ex(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?t(a.primaryKey,a.value).next(function(u){u?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new Y(function(i,o){t.onerror=function(a){o(a.target.error)},t.onsuccess=function(a){var u=a.target.result;if(u){var c=new Ene(u),f=n(u.primaryKey,u.value,c);if(f instanceof Y){var d=f.catch(function(p){return c.done(),Y.reject(p)});r.push(d)}c.isDone?i():c.Dt===null?u.continue():u.continue(c.Dt)}else i()}}).next(function(){return Y.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function wu(e){return new Y(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=Ex(r.target.error);n(i)}})}var tL=!1;function Ex(e){var t=of._t(Hu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new K("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tL||(tL=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return oe(t,e),t}(P5);function Qr(e,t){var n=ie(e);return of.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sx=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&Zte(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&iI(a,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t.key)&&iI(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(ze.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ht())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Qc(this.mutations,t.mutations,function(n,r){return BM(n,r)})&&Qc(this.baseMutations,t.baseMutations,function(n,r){return BM(n,r)})},e}(),Tne=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){xe(t.mutations.length===r.length);for(var i=y5(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Iw=function(){function e(t,n,r,i,o,a,u){o===void 0&&(o=ze.min()),a===void 0&&(a=ze.min()),u===void 0&&(u=Nr.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),D5=function(e){this.Lt=e};function aI(e,t){if(t.document)return I5(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=_e.fromSegments(t.noDocument.path),r=af(t.noDocument.readTime),i=Qn.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=_e.fromSegments(t.unknownDocument.path);return r=af(t.unknownDocument.version),Qn.newUnknownDocument(o,r)}return me()}function rL(e,t,n){var r=Tx(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(p,g){return{name:cp(p,g.key),fields:g.data.value.mapValue.fields,updateTime:lp(p,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ht(null,null,o,a,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),c=sf(t.version);return a=t.hasCommittedMutations,new Ht(null,new wne(u,c),null,a,r,i)}if(t.isUnknownDocument()){var f=t.key.path.toArray(),d=sf(t.version);return new Ht(new _ne(f,d),null,null,!0,r,i)}return me()}function Tx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function M5(e){var t=new Hr(e[0],e[1]);return ze.fromTimestamp(t)}function sf(e){var t=e.toTimestamp();return new yne(t.seconds,t.nanoseconds)}function af(e){var t=new Hr(e.seconds,e.nanoseconds);return ze.fromTimestamp(t)}function rc(e,t){for(var n=(t.baseMutations||[]).map(function(c){return XM(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return XM(e.Lt,c)}),u=Hr.fromMillis(t.localWriteTimeMs);return new Sx(t.batchId,u,n,a)}function Gh(e){var t,n,r=af(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?af(e.lastLimboFreeSnapshotVersion):ze.min();return e.query.documents!==void 0?(xe((n=e.query).documents.length===1),t=$i(Rf(S5(n.documents[0])))):t=function(o){return $i(x5(o))}(e.query),new Iw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Nr.fromBase64String(e.resumeToken))}function L5(e,t){var n,r=sf(t.snapshotVersion),i=sf(t.lastLimboFreeSnapshotVersion);n=My(t.target)?C5(e.Lt,t.target):k5(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Vr(t.targetId,rv(t.target),r,o,t.sequenceNumber,i,n)}function Ix(e){var t=x5({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?o5(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ine=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return iL(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:af(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return iL(t).put({bundleId:(r=n).id,createTime:sf(Rn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return oL(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Ix(i.bundledQuery),readTime:af(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return oL(t).put(function(r){return{name:r.name,readTime:sf(Rn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function iL(e){return Qr(e,nf.store)}function oL(e){return Qr(e,rf.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cne=function(){function e(){this.Bt=new Cx}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),Y.resolve()},e.prototype.getCollectionParents=function(t,n){return Y.resolve(this.Bt.getEntries(n))},e}(),Cx=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new yn(at.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new yn(at.comparator)).toArray()},e}(),kne=function(){function e(){this.qt=new Cx}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:uo(o)};return sL(t).put(a)}return Y.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[XV(n),""],!1,!0);return sL(t).Nt(i).next(function(o){for(var a=0,u=o;a<u.length;a++){var c=u[a];if(c.collectionId!==n)break;r.push(rs(c.parent))}return r})},e}();function sL(e){return Qr(e,Lu.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},To=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(e,t,n){var r=e.store(kt.store),i=e.store(or.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,c=r.$t({range:a},function(w,_,T){return u++,T.delete()});o.push(c.next(function(){xe(u===1)}));for(var f=[],d=0,p=n.mutations;d<p.length;d++){var g=p[d],m=or.key(t,g.key.path,n.batchId);o.push(i.delete(m)),f.push(g.key)}return Y.waitFor(o).next(function(){return f})}function Uy(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw me();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To.DEFAULT_COLLECTION_PERCENTILE=10,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,To.DEFAULT=new To(41943040,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),To.DISABLED=new To(-1,0,0);var xne=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return xe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ms(t).$t({index:kt.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,a=ic(t),u=Ms(t);return u.add({}).next(function(c){xe(typeof c=="number");for(var f=new Sx(c,n,r,i),d=function(b,S,C){var O=C.baseMutations.map(function(R){return $y(b.Lt,R)}),P=C.mutations.map(function(R){return $y(b.Lt,R)});return new kt(S,C.batchId,C.localWriteTime.toMillis(),O,P)}(o.R,o.userId,f),p=[],g=new yn(function(b,S){return Qe(b.canonicalString(),S.canonicalString())}),m=0,w=i;m<w.length;m++){var _=w[m],T=or.key(o.userId,_.key.path,c);g=g.add(_.key.path.popLast()),p.push(u.put(d)),p.push(a.put(T,or.PLACEHOLDER))}return g.forEach(function(b){p.push(o.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){o.Kt[c]=f.keys()}),Y.waitFor(p).next(function(){return f})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Ms(t).get(n).next(function(i){return i?(xe(i.userId===r.userId),rc(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?Y.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Ms(t).$t({index:kt.userMutationsIndex,range:o},function(u,c,f){c.userId===r.userId&&(xe(c.batchId>=i),a=rc(r.R,c)),f.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ms(t).$t({index:kt.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ms(t).Nt(kt.userMutationsIndex,r).next(function(i){return i.map(function(o){return rc(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=or.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return ic(t).$t({range:o},function(u,c,f){var d=u[0],p=u[1],g=u[2],m=rs(p);if(d===r.userId&&n.path.isEqual(m))return Ms(t).get(g).next(function(w){if(!w)throw me();xe(w.userId===r.userId),a.push(rc(r.R,w))});f.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new yn(Qe),o=[];return n.forEach(function(a){var u=or.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(u),f=ic(t).$t({range:c},function(d,p,g){var m=d[0],w=d[1],_=d[2],T=rs(w);m===r.userId&&a.path.isEqual(T)?i=i.add(_):g.done()});o.push(f)}),Y.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,a=or.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a),c=new yn(Qe);return ic(t).$t({range:u},function(f,d,p){var g=f[0],m=f[1],w=f[2],_=rs(m);g===r.userId&&i.isPrefixOf(_)?_.length===o&&(c=c.add(w)):p.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push(Ms(t).get(a).next(function(u){if(u===null)throw me();xe(u.userId===r.userId),i.push(rc(r.R,u))}))}),Y.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return F5(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),Y.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return Y.resolve();var i=IDBKeyRange.lowerBound(or.prefixForUser(n.userId)),o=[];return ic(t).$t({range:i},function(a,u,c){if(a[0]===n.userId){var f=rs(a[1]);o.push(f)}else c.done()}).next(function(){xe(o.length===0)})})},e.prototype.containsKey=function(t,n){return $5(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return U5(t).get(this.userId).next(function(r){return r||new ha(n.userId,-1,"")})},e}();function $5(e,t,n){var r=or.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ic(e).$t({range:o,Ft:!0},function(u,c,f){var d=u[0],p=u[1];u[2],d===t&&p===i&&(a=!0),f.done()}).next(function(){return a})}function Ms(e){return Qr(e,kt.store)}function ic(e){return Qr(e,or.store)}function U5(e){return Qr(e,ha.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jy=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Rne=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new jy(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ze.fromTimestamp(new Hr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Yl(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return xe(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,a=[];return Yl(t).$t(function(u,c){var f=Gh(c);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o++,a.push(i.removeTargetData(t,f)))}).next(function(){return Y.waitFor(a)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return Yl(t).$t(function(r,i){var o=Gh(i);n(o)})},e.prototype.Xt=function(t){return uL(t).get(ni.key).next(function(n){return xe(n!==null),n})},e.prototype.Zt=function(t,n){return uL(t).put(ni.key,n)},e.prototype.te=function(t,n){return Yl(t).put(L5(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=rv(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Yl(t).$t({range:i,index:Vr.queryTargetsIndexName},function(a,u,c){var f=Gh(u);bw(n,f.target)&&(o=f,c.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],a=Gs(t);return n.forEach(function(u){var c=uo(u.path);o.push(a.put(new zn(r,c))),o.push(i.referenceDelegate.addReference(t,r,u))}),Y.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Gs(t);return Y.forEach(n,function(a){var u=uo(a.path);return Y.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Gs(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Gs(t),o=ht();return i.$t({range:r,Ft:!0},function(a,u,c){var f=rs(a[1]),d=new _e(f);o=o.add(d)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=uo(n.path),i=IDBKeyRange.bound([r],[XV(r)],!1,!0),o=0;return Gs(t).$t({index:zn.documentTargetsIndex,Ft:!0,range:i},function(a,u,c){var f=a[0];a[1],f!==0&&(o++,c.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return Yl(t).get(n).next(function(r){return r?Gh(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(e){return Qr(e,Vr.store)}function uL(e){return Qr(e,ni.store)}function Gs(e){return Qr(e,zn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(e){return M(this,void 0,void 0,function(){return D(this,function(t){if(e.code!==B.FAILED_PRECONDITION||e.message!==A5)throw e;return te("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Qe(n,i);return a===0?Qe(r,o):a}var Nne=function(){function e(t){this.ne=t,this.buffer=new yn(lL),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();lL(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Ane=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;te("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return M(n,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return ml(i=o.sent())?(te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,yl(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),Pne=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return Y.resolve(oi.o);var i=new Nne(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(aL)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),aL):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,a,u,c,f,d=this,p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>d.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+g),i=d.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),d.nthSequenceNumber(t,i)}).next(function(g){return r=g,u=Date.now(),d.removeTargets(t,r,n)}).next(function(g){return o=g,c=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(g){return f=Date.now(),eI()<=qe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-p)+`ms
	Determined least recently used `+i+" in "+(u-a)+`ms
	Removed `+o+" targets in "+(c-u)+`ms
	Removed `+g+" documents in "+(f-c)+`ms
Total Duration: `+(f-p)+"ms"),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})})},e}(),One=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new Pne(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return tm(t,r)},e.prototype.removeReference=function(t,n,r){return tm(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return tm(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return U5(r).Ot(function(a){return $5(r,a,i).next(function(u){return u&&(o=!0),Y.resolve(!u)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(t,function(u,c){if(c<=n){var f=r._e(t,u).next(function(d){if(!d)return a++,i.getEntry(t,u).next(function(){return i.removeEntry(u),Gs(t).delete([0,uo(u.path)])})});o.push(f)}}).next(function(){return Y.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return tm(t,n)},e.prototype.we=function(t,n){var r,i=Gs(t),o=oi.o;return i.$t({index:zn.documentTargetsIndex},function(a,u){var c=a[0];a[1];var f=u.path,d=u.sequenceNumber;c===0?(o!==oi.o&&n(new _e(rs(r)),o),o=d,r=f):o=oi.o}).next(function(){o!==oi.o&&n(new _e(rs(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function tm(e,t){return Gs(e).put(function(n,r){return new zn(0,uo(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nf=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];if(this.equalsFn(u,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){vl(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];t(u,c)}})},e.prototype.isEmpty=function(){return JV(this.inner)},e}(),j5=function(){function e(){this.changes=new Nf(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ze.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Qn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?Y.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),Dne=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return qs(t).put(nm(n),r)},e.prototype.removeEntry=function(t,n){var r=qs(t),i=nm(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return qs(t).get(nm(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return qs(t).get(nm(n)).next(function(i){return{document:r.ye(n,i),size:Uy(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Oi();return this.pe(t,n,function(o,a){var u=r.ye(o,a);i=i.insert(o,u)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Oi(),o=new dr(_e.comparator);return this.pe(t,n,function(a,u){var c=r.ye(a,u);i=i.insert(a,c),o=o.insert(a,Uy(u))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return Y.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return qs(t).$t({range:i},function(u,c,f){for(var d=_e.fromSegments(u);a&&_e.comparator(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?f.Ct(a.path.toArray()):f.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=Oi(),a=n.path.length+1,u={};if(r.isEqual(ze.min())){var c=n.path.toArray();u.range=IDBKeyRange.lowerBound(c)}else{var f=n.path.toArray(),d=Tx(r);u.range=IDBKeyRange.lowerBound([f,d],!0),u.index=Ht.collectionReadTimeIndex}return qs(t).$t(u,function(p,g,m){if(p.length===a){var w=aI(i.R,g);n.path.isPrefixOf(w.key.path)?ov(n,w)&&(o=o.insert(w.key,w)):m.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new Mne(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return cL(t).get(Co.key).next(function(n){return xe(!!n),n})},e.prototype.me=function(t,n){return cL(t).put(Co.key,n)},e.prototype.ye=function(t,n){if(n){var r=aI(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ze.min()))return r}return Qn.newInvalidDocument(t)},e}(),Mne=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Nf(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return oe(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new yn(function(u,c){return Qe(u.canonicalString(),c.canonicalString())});return this.changes.forEach(function(u,c){var f=r.Ae.get(u);if(c.document.isValidDocument()){var d=rL(r.Ie.R,c.document,r.getReadTime(u));a=a.add(u.path.popLast());var p=Uy(d);o+=p-f,i.push(r.Ie.addEntry(n,u,d))}else if(o-=f,r.trackRemovals){var g=rL(r.Ie.R,Qn.newNoDocument(u,ze.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,g))}else i.push(r.Ie.removeEntry(n,u))}),a.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),Y.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(u,c){i.Ae.set(u,c)}),a})},t}(j5);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(e){return Qr(e,Co.store)}function qs(e){return Qr(e,Ht.store)}function nm(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lne=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;xe(r<i&&r>=0&&i<=11);var a=new O5("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(ti.store)}(t),function(c){c.createObjectStore(ha.store,{keyPath:ha.keyPath}),c.createObjectStore(kt.store,{keyPath:kt.keyPath,autoIncrement:!0}).createIndex(kt.userMutationsIndex,kt.userMutationsKeyPath,{unique:!0}),c.createObjectStore(or.store)}(t),fL(t),function(c){c.createObjectStore(Ht.store)}(t));var u=Y.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(zn.store),c.deleteObjectStore(Vr.store),c.deleteObjectStore(ni.store)}(t),fL(t)),u=u.next(function(){return function(c){var f=c.store(ni.store),d=new ni(0,0,ze.min().toTimestamp(),0);return f.put(ni.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(c,f){return f.store(kt.store).Nt().next(function(d){c.deleteObjectStore(kt.store),c.createObjectStore(kt.store,{keyPath:kt.keyPath,autoIncrement:!0}).createIndex(kt.userMutationsIndex,kt.userMutationsKeyPath,{unique:!0});var p=f.store(kt.store),g=d.map(function(m){return p.put(m)});return Y.waitFor(g)})}(t,a)})),u=u.next(function(){(function(c){c.createObjectStore(ss.store,{keyPath:ss.keyPath})})(t)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(a)})),r<6&&i>=6&&(u=u.next(function(){return function(c){c.createObjectStore(Co.store)}(t),o.be(a)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(a)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(t,a)})),r<9&&i>=9&&(u=u.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var f=c.objectStore(Ht.store);f.createIndex(Ht.readTimeIndex,Ht.readTimeIndexPath,{unique:!1}),f.createIndex(Ht.collectionReadTimeIndex,Ht.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(a)})),r<11&&i>=11&&(u=u.next(function(){(function(c){c.createObjectStore(nf.store,{keyPath:nf.keyPath})})(t),function(c){c.createObjectStore(rf.store,{keyPath:rf.keyPath})}(t)})),u},e.prototype.be=function(t){var n=0;return t.store(Ht.store).$t(function(r,i){n+=Uy(i)}).next(function(){var r=new Co(n);return t.store(Co.store).put(Co.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(ha.store),i=t.store(kt.store);return r.Nt().next(function(o){return Y.forEach(o,function(a){var u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(kt.userMutationsIndex,u).next(function(c){return Y.forEach(c,function(f){xe(f.userId===a.userId);var d=rc(n.R,f);return F5(t,a.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(zn.store),r=t.store(Ht.store);return t.store(ni.store).get(ni.key).next(function(i){var o=[];return r.$t(function(a,u){var c=new at(a),f=function(d){return[0,uo(d)]}(c);o.push(n.get(f).next(function(d){return d?Y.resolve():function(p){return n.put(new zn(0,uo(p),i.highestListenSequenceNumber))}(c)}))}).next(function(){return Y.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Lu.store,{keyPath:Lu.keyPath});var r=n.store(Lu.store),i=new Cx,o=function(a){if(i.add(a)){var u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:uo(c)})}};return n.store(Ht.store).$t({Ft:!0},function(a,u){var c=new at(a);return o(c.popLast())}).next(function(){return n.store(or.store).$t({Ft:!0},function(a,u){a[0];var c=a[1];a[2];var f=rs(c);return o(f.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Vr.store);return r.$t(function(i,o){var a=Gh(o),u=L5(n.R,a);return r.put(u)})},e}();function fL(e){e.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.documentTargetsIndex,zn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Vr.store,{keyPath:Vr.keyPath}).createIndex(Vr.queryTargetsIndexName,Vr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ni.store)}var SE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Fne=function(){function e(t,n,r,i,o,a,u,c,f,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=f,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(p){return Promise.resolve()},!e.yt())throw new K(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new One(this,i),this.Le=n+"main",this.R=new D5(c),this.Be=new of(this.Le,11,new Lne(this.R)),this.qe=new Rne(this.referenceDelegate,this.R),this.Ut=new kne,this.Ue=function(p,g){return new Dne(p,g)}(this.R,this.Ut),this.Ke=new Ine,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,d===!1&&an("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new K(B.FAILED_PRECONDITION,SE);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new oi(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return M(n,void 0,void 0,function(){return D(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return M(n,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return M(n,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return rm(n).put(new ss(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ml(n))return te("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return $h(t).get(ti.key).next(function(r){return Y.resolve(n.tn(r))})},e.prototype.en=function(t){return rm(t).delete(this.clientId)},e.prototype.nn=function(){return M(this,void 0,void 0,function(){var t,n,r,i,o=this;return D(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var c=Qr(u,ss.store);return c.Nt().next(function(f){var d=o.rn(f,18e5),p=f.filter(function(g){return d.indexOf(g)===-1});return Y.forEach(p,function(g){return c.delete(g.clientId)}).next(function(){return p})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?Y.resolve(!0):$h(t).get(ti.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new K(B.FAILED_PRECONDITION,SE);return!1}}return!(!n.networkEnabled||!n.inForeground)||rm(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,c=n.networkEnabled===o.networkEnabled;if(a||u&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&te("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return M(this,void 0,void 0,function(){var t=this;return D(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ti.store,ss.store],function(r){var i=new nL(r,oi.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return rm(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return xne.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;te("IndexedDbPersistence","Starting transaction:",t);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,bne,function(u){return o=new nL(u,i.Ne?i.Ne.next():oi.o),n==="readwrite-primary"?i.Je(o).next(function(c){return!!c||i.Ye(o)}).next(function(c){if(!c)throw an("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new K(B.FAILED_PRECONDITION,A5);return r(o)}).next(function(c){return i.Ze(o).next(function(){return c})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},e.prototype.dn=function(t){var n=this;return $h(t).get(ti.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new K(B.FAILED_PRECONDITION,SE)})},e.prototype.Ze=function(t){var n=new ti(this.clientId,this.allowTabSynchronization,Date.now());return $h(t).put(ti.key,n)},e.yt=function(){return of.yt()},e.prototype.Xe=function(t){var n=this,r=$h(t);return r.get(ti.key).next(function(i){return n.tn(i)?(te("IndexedDbPersistence","Releasing primary lease."),r.delete(ti.key)):Y.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(an("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),bQ()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return te("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return an("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){an("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function $h(e){return Qr(e,ti.store)}function rm(e){return Qr(e,ss.store)}function kx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $ne=function(e,t){this.progress=e,this.wn=t},V5=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):mx(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new _e(n)).next(function(r){var i=oI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,a=oI();return this.Ut.getCollectionParents(t,o).next(function(u){return Y.forEach(u,function(c){var f=function(d,p){return new _s(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return i.An(t,f,r).next(function(d){d.forEach(function(p,g){a=a.insert(p,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(u){return i=u,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(u){return o=u,a.Rn(t,o,i).next(function(c){i=c;for(var f=0,d=o;f<d.length;f++)for(var p=d[f],g=0,m=p.mutations;g<m.length;g++){var w=m[g],_=w.key,T=i.get(_);T==null&&(T=Qn.newInvalidDocument(_),i=i.insert(_,T)),iI(w,T,p.localWriteTime),T.isFoundDocument()||(i=i.remove(_))}})}).next(function(){return i.forEach(function(u,c){ov(n,c)||(i=i.remove(u))}),i})},e.prototype.Rn=function(t,n,r){for(var i=ht(),o=0,a=n;o<a.length;o++)for(var u=0,c=a[o].mutations;u<c.length;u++){var f=c[u];f instanceof Ua&&r.get(f.key)===null&&(i=i.add(f.key))}var d=r;return this.Ue.getEntries(t,i).next(function(p){return p.forEach(function(g,m){m.isFoundDocument()&&(d=d.insert(g,m))}),d})},e}(),Une=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=ht(),i=ht(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),B5=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ze.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var u=o.Cn(n,a);return(Rm(n)||Fy(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(t,n):(eI()<=qe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rI(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return u.forEach(function(f){c=c.insert(f.key,f)}),c}))})},e.prototype.Cn=function(t,n){var r=new yn(a5(t));return n.forEach(function(i,o){ov(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return eI()<=qe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",rI(n)),this.Sn.getDocumentsMatchingQuery(t,n,ze.min())},e}(),jne=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new dr(Qe),this.Fn=new Nf(function(o){return rv(o)},bw),this.$n=ze.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new V5(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(e,t,n,r){return new jne(e,t,n,r)}function q5(e,t){return M(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return n=ie(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var c;return n._n.getAllMutationBatches(u).next(function(f){return c=f,r=n.persistence.getMutationQueue(t),i=new V5(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(f){for(var d=[],p=[],g=ht(),m=0,w=c;m<w.length;m++){var _=w[m];d.push(_.batchId);for(var T=0,b=_.mutations;T<b.length;T++){var S=b[T];g=g.add(S.key)}}for(var C=0,O=f;C<O.length;C++){var P=O[C];p.push(P.batchId);for(var R=0,F=P.mutations;R<F.length;R++){var L=F[R];g=g.add(L.key)}}return i.pn(u,g).next(function($){return{Ln:$,removedBatchIds:d,addedBatchIds:p}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Vne(e,t){var n=ie(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){var d=c.batch,p=d.keys(),g=Y.resolve();return p.forEach(function(m){g=g.next(function(){return f.getEntry(u,m)}).next(function(w){var _=c.docVersions.get(m);xe(_!==null),w.version.compareTo(_)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&f.addEntry(w,c.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(u,d)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function W5(e){var t=ie(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function Bne(e,t){var n=ie(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];t.targetChanges.forEach(function(d,p){var g=i.get(p);if(g){u.push(n.qe.removeMatchingKeys(o,d.removedDocuments,p).next(function(){return n.qe.addMatchingKeys(o,d.addedDocuments,p)}));var m=d.resumeToken;if(m.approximateByteSize()>0){var w=g.withResumeToken(m,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(p,w),function(_,T,b){return xe(T.resumeToken.approximateByteSize()>0),_.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(g,w,d)&&u.push(n.qe.updateTargetData(o,w))}}});var c=Oi();if(t.documentUpdates.forEach(function(d,p){t.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),u.push(H5(o,a,t.documentUpdates,r,void 0).next(function(d){c=d})),!r.isEqual(ze.min())){var f=n.qe.getLastRemoteSnapshotVersion(o).next(function(d){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(f)}return Y.waitFor(u).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,c)}).next(function(){return c})}).then(function(o){return n.kn=i,o})}function H5(e,t,n,r,i){var o=ht();return n.forEach(function(a){return o=o.add(a)}),t.getEntries(e,o).next(function(a){var u=Oi();return n.forEach(function(c,f){var d=a.get(c),p=(i==null?void 0:i.get(c))||r;f.isNoDocument()&&f.version.isEqual(ze.min())?(t.removeEntry(c,p),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f,p),u=u.insert(c,f)):te("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),u})}function zne(e,t){var n=ie(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function uf(e,t){var n=ie(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,Y.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new Iw(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function lf(e,t,n){return M(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(u){switch(u.label){case 0:r=ie(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!ml(a=u.sent()))throw a;return te("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Vy(e,t,n){var r=ie(e),i=ze.min(),o=ht();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(u,c,f){var d=ie(u),p=d.Fn.get(f);return p!==void 0?Y.resolve(d.kn.get(p)):d.qe.getTargetData(c,f)}(r,a,$i(t)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,u.targetId).next(function(c){o=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:ze.min(),n?o:ht())}).next(function(u){return{documents:u,Bn:o}})})}function K5(e,t){var n=ie(e),r=ie(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(a){return a?a.target:null})})}function G5(e){var t=ie(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=ie(r),u=Oi(),c=Tx(o),f=qs(i),d=IDBKeyRange.lowerBound(c,!0);return f.$t({index:Ht.readTimeIndex,range:d},function(p,g){var m=aI(a.R,g);u=u.insert(m.key,m),c=g.readTime}).next(function(){return{wn:u,readTime:M5(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function qne(e){return M(this,void 0,void 0,function(){var t;return D(this,function(n){return[2,(t=ie(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=qs(i),a=ze.min();return o.$t({index:Ht.readTimeIndex,reverse:!0},function(u,c,f){c.readTime&&(a=M5(c.readTime)),f.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function Wne(e,t,n,r){return M(this,void 0,void 0,function(){var i,o,a,u,c,f,d,p,g,m;return D(this,function(w){switch(w.label){case 0:for(i=ie(e),o=ht(),a=Oi(),u=y5(),c=0,f=n;c<f.length;c++)d=f[c],p=t.qn(d.metadata.name),d.document&&(o=o.add(p)),a=a.insert(p,t.Un(d)),u=u.insert(p,t.Kn(d.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,uf(i,function(_){return $i(Rf(at.fromString("__bundle__/docs/"+_)))}(r))];case 1:return m=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(_){return H5(_,g,a,ze.min(),u).next(function(T){return g.apply(_),T}).next(function(T){return i.qe.removeMatchingKeysForTargetId(_,m.targetId).next(function(){return i.qe.addMatchingKeys(_,o,m.targetId)}).next(function(){return i.Mn.En(_,T)}).next(function(){return T})})})]}})})}function Hne(e,t,n){return n===void 0&&(n=ht()),M(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return[4,uf(e,$i(Ix(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ie(e)).persistence.runTransaction("Save named query","readwrite",function(a){var u=Rn(t.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(Nr.EMPTY_BYTE_STRING,u);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kne=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return Y.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Rn(r.createTime)}),Y.resolve()},e.prototype.getNamedQuery=function(t,n){return Y.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Ix(r.bundledQuery),readTime:Rn(r.readTime)}}(n)),Y.resolve()},e}(),xx=function(){function e(){this.Wn=new yn(Sn.Gn),this.zn=new yn(Sn.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Sn(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Sn(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new _e(new at([])),i=new Sn(r,t),o=new Sn(r,t+1),a=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),a.push(u.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new _e(new at([])),r=new Sn(n,t),i=new Sn(n,t+1),o=ht();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},e.prototype.containsKey=function(t){var n=new Sn(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Sn=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return _e.comparator(t.key,n.key)||Qe(t.ns,n.ns)},e.Hn=function(t,n){return Qe(t.ns,n.ns)||_e.comparator(t.key,n.key)},e}(),Gne=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new yn(Sn.Gn)}return e.prototype.checkEmpty=function(t){return Y.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Sx(o,n,r,i);this._n.push(a);for(var u=0,c=i;u<c.length;u++){var f=c[u];this.rs=this.rs.add(new Sn(f.key,o)),this.Ut.addToCollectionParentIndex(t,f.key.path.popLast())}return Y.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return Y.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return Y.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Y.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return Y.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Sn(n,0),o=new Sn(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(u){var c=r.os(u.ns);a.push(c)}),Y.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new yn(Qe);return n.forEach(function(o){var a=new Sn(o,0),u=new Sn(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,u],function(c){i=i.add(c.ns)})}),Y.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;_e.isDocumentKey(o)||(o=o.child(""));var a=new Sn(new _e(o),0),u=new yn(Qe);return this.rs.forEachWhile(function(c){var f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.ns)),!0)},a),Y.resolve(this.us(u))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;xe(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return Y.forEach(n.mutations,function(o){var a=new Sn(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Sn(n,0),i=this.rs.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,Y.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Qne=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new dr(_e.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return Y.resolve(r?r.document.clone():Qn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Oi();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():Qn.newInvalidDocument(o))}),Y.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Oi(),o=new _e(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var u=a.getNext(),c=u.key,f=u.value,d=f.document,p=f.readTime;if(!n.path.isPrefixOf(c.path))break;p.compareTo(r)<=0||ov(n,d)&&(i=i.insert(d.key,d.clone()))}return Y.resolve(i)},e.prototype.fs=function(t,n){return Y.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Yne(this)},e.prototype.getSize=function(t){return Y.resolve(this.size)},e}(),Yne=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return oe(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),Y.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(j5),Xne=function(){function e(t){this.persistence=t,this.ds=new Nf(function(n){return rv(n)},bw),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ws=0,this._s=new xx,this.targetCount=0,this.ys=jy.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),Y.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return Y.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return Y.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Y.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),Y.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new jy(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,Y.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),Y.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Y.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(u,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(u),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),o++)}),Y.waitFor(a).next(function(){return o})},e.prototype.getTargetCount=function(t){return Y.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return Y.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),Y.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(t,a))}),Y.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),Y.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return Y.resolve(r)},e.prototype.containsKey=function(t,n){return Y.resolve(this._s.containsKey(n))},e}(),Jne=function(){function e(t,n){var r=this;this.gs={},this.Ne=new oi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Xne(this),this.Ut=new Cne,this.Ue=function(i,o){return new Qne(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new D5(n),this.Ke=new Kne(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Gne(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;te("MemoryPersistence","Starting transaction:",t);var o=new Zne(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return Y.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),Zne=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return oe(t,e),t}(P5),ere=function(){function e(t){this.persistence=t,this.As=new xx,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw me()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),Y.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),Y.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),Y.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.vs,function(i){var o=_e.fromPath(i);return n.Ps(t,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return Y.or([function(){return Y.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),jn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(e,t){return"firestore_clients_"+e+"_"+t}function dL(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function TE(e,t){return"firestore_targets_"+e+"_"+t}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");var pL=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new K(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(an("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),IE=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new K(i.error.code,i.error.message)),o?new e(t,i.state,r):(an("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),vL=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Tw(),a=0;i&&a<r.activeTargetIds.length;++a)i=t5(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(an("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),tre=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(an("SharedClientState","Failed to parse online state: "+t),null)},e}(),uI=function(){function e(){this.activeTargetIds=Tw()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),CE=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new dr(Qe),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=hL(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new uI),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,u,c,f,d,p,g=this;return D(this,function(m){switch(m.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=m.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(hL(this.persistenceKey,i)))&&(a=vL.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(c=this.js(u))&&this.Ws(c),f=0,d=this.$s;f<d.length;f++)p=d[f],this.ks(p);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(TE(this.persistenceKey,t));if(r){var i=IE.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(TE(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return te("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){te("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){te("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(te("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void an("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return M(n,void 0,void 0,function(){var i,o,a,u,c,f;return D(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(f=function(p){var g=oi.o;if(p!=null)try{var m=JSON.parse(p);xe(typeof m=="number"),g=m}catch(w){an("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue))!==oi.o&&this.sequenceNumberHandler(f);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new pL(this.currentUser,t,n,r),o=dL(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=dL(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=TE(this.persistenceKey,t),o=new IE(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return vL.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return pL.Vs(new jn(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return IE.Vs(i,n)},e.prototype.js=function(t){return tre.Vs(t)},e.prototype.ii=function(t){return M(this,void 0,void 0,function(){return D(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(te("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),a=this.Gs(i),u=[],c=[];return a.forEach(function(f){o.has(f)||u.push(f)}),o.forEach(function(f){a.has(f)||c.push(f)}),this.syncEngine.hi(u,c).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Tw();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),Q5=function(){function e(){this.li=new uI,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new uI,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),nre=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),gL=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),rre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ire=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),ore=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return oe(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(a,u){var c=new Lte;c.listenOnce(Ote.COMPLETE,function(){try{switch(c.getLastErrorCode()){case EE.NO_ERROR:var d=c.getResponseJson();te("Connection","XHR received:",JSON.stringify(d)),a(d);break;case EE.TIMEOUT:te("Connection",'RPC "'+n+'" timed out'),u(new K(B.DEADLINE_EXCEEDED,"Request time out"));break;case EE.HTTP_ERROR:var p=c.getStatus();if(te("Connection",'RPC "'+n+'" failed with status:',p,"response text:",c.getResponseText()),p>0){var g=c.getResponseJson().error;if(g&&g.status&&g.message){var m=function(w){var _=w.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(g.status);u(new K(m,g.message))}else u(new K(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new K(B.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{te("Connection",'RPC "'+n+'" completed.')}});var f=JSON.stringify(o);c.send(r,"POST",f,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=Ate(),a=Pte(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new Mte({})),this.ki(u.initMessageHeaders,r),ek()||pU()||yQ()||wQ()||_Q()||tk()||(u.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");te("Connection","Creating WebChannel: "+c,u);var f=o.createWebChannel(c,u),d=!1,p=!1,g=new ire({Ei:function(w){p?te("Connection","Not sending because WebChannel is closed:",w):(d||(te("Connection","Opening WebChannel transport."),f.open(),d=!0),te("Connection","WebChannel sending:",w),f.send(w))},Ti:function(){return f.close()}}),m=function(w,_,T){w.listen(_,function(b){try{T(b)}catch(S){setTimeout(function(){throw S},0)}})};return m(f,Zg.EventType.OPEN,function(){p||te("Connection","WebChannel transport opened.")}),m(f,Zg.EventType.CLOSE,function(){p||(p=!0,te("Connection","WebChannel transport closed"),g.Vi())}),m(f,Zg.EventType.ERROR,function(w){p||(p=!0,op("Connection","WebChannel transport errored:",w),g.Vi(new K(B.UNAVAILABLE,"The operation could not be completed")))}),m(f,Zg.EventType.MESSAGE,function(w){var _;if(!p){var T=w.data[0];xe(!!T);var b=T,S=b.error||((_=b[0])===null||_===void 0?void 0:_.error);if(S){te("Connection","WebChannel received error:",S);var C=S.status,O=function(R){var F=rn[R];if(F!==void 0)return m5(F)}(C),P=S.message;O===void 0&&(O=B.INTERNAL,P="Unknown error status: "+C+" with message "+S.message),p=!0,g.Vi(new K(O,P)),f.close()}else te("Connection","WebChannel received:",T),g.Si(T)}}),m(a,Dte.STAT_EVENT,function(w){w.stat===OM.PROXY?te("Connection","Detected buffering proxy"):w.stat===OM.NOPROXY&&te("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);te("RestConnection","Sending: ",o,r);var a={};return this.ki(a,i),this.Fi(t,o,a,r).then(function(u){return te("RestConnection","Received: ",u),u},function(u){throw op("RestConnection",t+" failed with error: ",u,"url: ",o,"request:",r),u})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=rre[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(){return typeof window<"u"?window:null}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e){return new cne(e,!0)}var Rx=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&te("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),X5=function(){function e(t,n,r,i,o,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Rx(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return M(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return M(this,void 0,void 0,function(){return D(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return M(this,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(an(n.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===B.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new K(B.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return M(t,void 0,void 0,function(){return D(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return te("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),sre=function(e){function t(n,r,i,o,a){var u=this;return(u=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,u}return oe(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var u;if("targetChange"in a){a.targetChange;var c=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:me()}(a.targetChange.targetChangeType||"NO_CHANGE"),f=a.targetChange.targetIds||[],d=function(T,b){return T.I?(xe(b===void 0||typeof b=="string"),Nr.fromBase64String(b||"")):(xe(b===void 0||b instanceof Uint8Array),Nr.fromUint8Array(b||new Uint8Array))}(o,a.targetChange.resumeToken),p=(g=a.targetChange.cause)&&function(T){var b=T.code===void 0?B.UNKNOWN:m5(T.code);return new K(b,T.message||"")}(g);u=new _5(c,f,d,p||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,f=No(o,c.document.name),d=Rn(c.document.updateTime);var g=new ri({mapValue:{fields:c.document.fields}}),m=(p=Qn.newFoundDocument(f,d,g),c.targetIds||[]),w=c.removedTargetIds||[];u=new Am(m,w,p.key,p)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,f=No(o,c.document),d=c.readTime?Rn(c.readTime):ze.min(),g=Qn.newNoDocument(f,d),p=c.removedTargetIds||[],u=new Am([],p,g.key,g);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,f=No(o,c.document),d=c.removedTargetIds||[],u=new Am([],d,f,null);else{if(!("filter"in a))return me();a.filter;var _=a.filter;_.targetId,c=_.count||0,f=new tne(c),d=_.targetId,u=new w5(d,f)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return ze.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?ze.min():a.readTime?Rn(a.readTime):ze.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=fp(this.R),r.addTarget=function(o,a){var u,c=a.target;return(u=My(c)?{documents:C5(o,c)}:{query:k5(o,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=b5(o,a.resumeToken):a.snapshotVersion.compareTo(ze.min())>0&&(u.readTime=lp(o,a.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,a){var u=function(c,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return me()}}(0,a.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=fp(this.R),r.removeTarget=n,this.cr(r)},t}(X5),are=function(e){function t(n,r,i,o,a){var u=this;return(u=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,u.gr=!1,u}return oe(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(xe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(xe(a!==void 0),o.map(function(u){return function(c,f){var d=c.updateTime?Rn(c.updateTime):Rn(f);return d.isEqual(ze.min())&&(d=Rn(f)),new Jte(d,c.transformResults||[])}(u,a)})):[]}(n.writeResults,n.commitTime),i=Rn(n.commitTime);return this.listener.Tr(i,r)}return xe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=fp(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return $y(r.R,o)})};this.cr(i)},t}(X5),ure=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return oe(t,e),t.prototype.br=function(){if(this.Rr)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new K(B.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new K(B.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),lre=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(an(n),this.Vr=!1):te("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),cre=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return M(o,void 0,void 0,function(){return D(this,function(u){switch(u.label){case 0:return ja(this)?(te("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return M(this,void 0,void 0,function(){var f;return D(this,function(d){switch(d.label){case 0:return(f=ie(c)).Or.add(4),[4,Af(f)];case 1:return d.sent(),f.Br.set("Unknown"),f.Or.delete(4),[4,cv(f)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new lre(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(e){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:if(!ja(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Af(e){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Cw(e,t){var n=ie(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Px(n)?Ax(n):Of(n).er()&&Nx(n,t))}function hp(e,t){var n=ie(e),r=Of(n);n.$r.delete(t),r.er()&&J5(n,t),n.$r.size===0&&(r.er()?r.ir():ja(n)&&n.Br.set("Unknown"))}function Nx(e,t){e.qr.U(t.targetId),Of(e).mr(t)}function J5(e,t){e.qr.U(t),Of(e).yr(t)}function Ax(e){e.qr=new ane({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Of(e).start(),e.Br.Sr()}function Px(e){return ja(e)&&!Of(e).tr()&&e.$r.size>0}function ja(e){return ie(e).Or.size===0}function Z5(e){e.qr=void 0}function fre(e){return M(this,void 0,void 0,function(){return D(this,function(t){return e.$r.forEach(function(n,r){Nx(e,n)}),[2]})})}function hre(e,t){return M(this,void 0,void 0,function(){return D(this,function(n){return Z5(e),Px(e)?(e.Br.Nr(t),Ax(e)):e.Br.set("Unknown"),[2]})})}function dre(e,t,n){return M(this,void 0,void 0,function(){var r,i,o;return D(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof _5&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(u,c){return M(this,void 0,void 0,function(){var f,d,p,g;return D(this,function(m){switch(m.label){case 0:f=c.cause,d=0,p=c.targetIds,m.label=1;case 1:return d<p.length?(g=p[d],u.$r.has(g)?[4,u.remoteSyncer.rejectListen(g,f)]:[3,3]):[3,5];case 2:m.sent(),u.$r.delete(g),u.qr.removeTarget(g),m.label=3;case 3:m.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),te("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,By(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Am?e.qr.X(t):t instanceof w5?e.qr.rt(t):e.qr.et(t),n.isEqual(ze.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,W5(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(u,c){var f=u.qr.ut(c);return f.targetChanges.forEach(function(d,p){if(d.resumeToken.approximateByteSize()>0){var g=u.$r.get(p);g&&u.$r.set(p,g.withResumeToken(d.resumeToken,c))}}),f.targetMismatches.forEach(function(d){var p=u.$r.get(d);if(p){u.$r.set(d,p.withResumeToken(Nr.EMPTY_BYTE_STRING,p.snapshotVersion)),J5(u,d);var g=new Iw(p.target,d,1,p.sequenceNumber);Nx(u,g)}}),u.remoteSyncer.applyRemoteEvent(f)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return te("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,By(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function By(e,t,n){return M(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:if(!ml(t))throw t;return e.Or.add(1),[4,Af(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return W5(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return M(r,void 0,void 0,function(){return D(this,function(o){switch(o.label){case 0:return te("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,cv(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function eB(e,t){return t().catch(function(n){return By(e,n,t)})}function Pf(e){return M(this,void 0,void 0,function(){var t,n,r,i,o;return D(this,function(a){switch(a.label){case 0:t=ie(e),n=ka(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(u){return ja(u)&&u.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,zne(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,c){u.Fr.push(c);var f=ka(u);f.er()&&f.pr&&f.Er(c.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,By(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return tB(t)&&nB(t),[2]}})})}function tB(e){return ja(e)&&!ka(e).tr()&&e.Fr.length>0}function nB(e){ka(e).start()}function pre(e){return M(this,void 0,void 0,function(){return D(this,function(t){return ka(e).Ar(),[2]})})}function vre(e){return M(this,void 0,void 0,function(){var t,n,r,i;return D(this,function(o){for(t=ka(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function gre(e,t,n){return M(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Tne.from(r,t,n),[4,eB(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Pf(e)];case 2:return o.sent(),[2]}})})}function mre(e,t){return M(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return t&&ka(e).pr?[4,function(r,i){return M(this,void 0,void 0,function(){var o,a;return D(this,function(u){switch(u.label){case 0:return g5(a=i.code)&&a!==B.ABORTED?(o=r.Fr.shift(),ka(r).sr(),[4,eB(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,Pf(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return tB(e)&&nB(e),[2]}})})}function lI(e,t){return M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return n=ie(e),t?(n.Or.delete(2),[4,cv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Af(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Of(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=ie(n);return o.br(),new sre(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:fre.bind(null,e),Ri:hre.bind(null,e),_r:dre.bind(null,e)}),e.Mr.push(function(n){return M(t,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Px(e)?Ax(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),Z5(e),r.label=3;case 3:return[2]}})})})),e.Ur}function ka(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=ie(n);return o.br(),new are(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:pre.bind(null,e),Ri:mre.bind(null,e),Ir:vre.bind(null,e),Tr:gre.bind(null,e)}),e.Mr.push(function(n){return M(t,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Pf(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(te("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var yre=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Df(e,t){if(an("AsyncQueue",t+": "+e),ml(e))return new K(B.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rB=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||_e.comparator(n.key,r.key)}:function(n,r){return _e.comparator(n.key,r.key)},this.keyedMap=oI(),this.sortedSet=new dr(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),mL=function(){function e(){this.Qr=new dr(_e.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):me():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),zy=function(){function e(t,n,r,i,o,a,u,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new e(t,n,rB.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&iv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),wre=function(){this.Wr=void 0,this.listeners=[]},_re=function(){this.queries=new Nf(function(e){return s5(e)},iv),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return D(this,function(f){switch(f.label){case 0:if(n=ie(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new wre),!i)return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=f.sent(),[3,4];case 3:return u=f.sent(),c=Df(u,"Initialization of query '"+rI(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Mx(n),[2]}})})}function Dx(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(u){return n=ie(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function bre(e,t){for(var n=ie(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],u=a.query,c=n.queries.get(u);if(c){for(var f=0,d=c.listeners;f<d.length;f++)d[f].Hr(a)&&(r=!0);c.Wr=a}}r&&Mx(n)}function Ere(e,t,n){var r=ie(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Mx(e){e.Gr.forEach(function(t){t.next()})}var Lx=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new zy(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=zy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),Sre=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),yL=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return No(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?I5(this.R,t.document,!1):Qn.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Rn(t)},e}(),Tre=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=iB(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new yL(this.R),i=0,o=t;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var u=r.qn(a.metadata.name),c=0,f=a.metadata.queries;c<f.length;c++){var d=f[c],p=(n.get(d)||ht()).add(u);n.set(d,p)}}return n},e.prototype.complete=function(){return M(this,void 0,void 0,function(){var t,n,r,i,o;return D(this,function(a){switch(a.label){case 0:return[4,Wne(this.localStore,new yL(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,Hne(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new $ne(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oB=function(e){this.key=e},sB=function(e){this.key=e},aB=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ht(),this.mutatedKeys=ht(),this.lo=a5(t),this.fo=new rB(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new mL,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,u=o,c=!1,f=Rm(this.query)&&o.size===this.query.limit?o.last():null,d=Fy(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(g,m){var w=o.get(g),_=ov(r.query,m)?m:null,T=!!w&&r.mutatedKeys.has(w.key),b=!!_&&(_.hasLocalMutations||r.mutatedKeys.has(_.key)&&_.hasCommittedMutations),S=!1;w&&_?w.data.isEqual(_.data)?T!==b&&(i.track({type:3,doc:_}),S=!0):r.yo(w,_)||(i.track({type:2,doc:_}),S=!0,(f&&r.lo(_,f)>0||d&&r.lo(_,d)<0)&&(c=!0)):!w&&_?(i.track({type:0,doc:_}),S=!0):w&&!_&&(i.track({type:1,doc:w}),S=!0,(f||d)&&(c=!0)),S&&(_?(u=u.add(_),a=b?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),Rm(this.query)||Fy(this.query))for(;u.size>this.query.limit;){var p=Rm(this.query)?u.last():u.first();u=u.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{fo:u,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(d,p){return function(g,m){var w=function(_){switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return w(g)-w(m)}(d.type,p.type)||i.lo(d.doc,p.doc)}),this.po(r);var u=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,f=c!==this.ao;return this.ao=c,a.length!==0||f?{snapshot:new zy(this.query,t.fo,o,a,t.mutatedKeys,c===0,f,!1),To:u}:{To:u}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new mL,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ht(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new sB(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new oB(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ht();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return zy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),Ire=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Cre=function(e){this.key=e,this.bo=!1},kre=function(){function e(t,n,r,i,o,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Nf(function(u){return s5(u)},iv),this.Vo=new Map,this.So=new Set,this.Do=new dr(_e.comparator),this.Co=new Map,this.No=new xx,this.xo={},this.ko=new Map,this.Fo=jy.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function xre(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,u;return D(this,function(c){switch(c.label){case 0:return n=Vx(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,uf(n.localStore,$i(t))];case 2:return a=c.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Fx(n,t,r,u==="current")];case 3:i=c.sent(),n.isPrimaryClient&&Cw(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function Fx(e,t,n,r){return M(this,void 0,void 0,function(){var i,o,a,u,c,f;return D(this,function(d){switch(d.label){case 0:return e.Oo=function(p,g,m){return function(w,_,T,b){return M(this,void 0,void 0,function(){var S,C,O;return D(this,function(P){switch(P.label){case 0:return S=_.view._o(T),S.Nn?[4,Vy(w.localStore,_.query,!1).then(function(R){var F=R.documents;return _.view._o(F,S)})]:[3,2];case 1:S=P.sent(),P.label=2;case 2:return C=b&&b.targetChanges.get(_.targetId),O=_.view.applyChanges(S,w.isPrimaryClient,C),[2,(cI(w,_.targetId,O.To),O.snapshot)]}})})}(e,p,g,m)},[4,Vy(e.localStore,t,!0)];case 1:return i=d.sent(),o=new aB(t,i.Bn),a=o._o(i.documents),u=_x.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=o.applyChanges(a,e.isPrimaryClient,u),cI(e,n,c.To),f=new Ire(t,n,o),[2,(e.Po.set(t,f),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function Rre(e,t){return M(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return n=ie(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!iv(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,lf(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),hp(n.remoteStore,r.targetId),cf(n,r.targetId)}).catch(yl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return cf(n,r.targetId),[4,lf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Nre(e,t,n){return M(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(u){switch(u.label){case 0:r=Bx(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(c,f){var d,p=ie(c),g=Hr.now(),m=f.reduce(function(w,_){return w.add(_.key)},ht());return p.persistence.runTransaction("Locally write mutations","readwrite",function(w){return p.Mn.pn(w,m).next(function(_){d=_;for(var T=[],b=0,S=f;b<S.length;b++){var C=S[b],O=ene(C,d.get(C.key));O!=null&&T.push(new Ua(C.key,O,n5(O.value.mapValue),sr.exists(!0)))}return p._n.addMutationBatch(w,g,T,f)})}).then(function(w){return w.applyToLocalDocumentSet(d),{batchId:w.batchId,changes:d}})}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,f,d){var p=c.xo[c.currentUser.toKey()];p||(p=new dr(Qe)),p=p.insert(f,d),c.xo[c.currentUser.toKey()]=p}(r,i.batchId,n),[4,bs(r,i.changes)];case 3:return u.sent(),[4,Pf(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=Df(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function uB(e,t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:n=ie(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Bne(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,a){var u=n.Co.get(a);u&&(xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?xe(u.bo):o.removedDocuments.size>0&&(xe(u.bo),u.bo=!1))}),[4,bs(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,yl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function wL(e,t,n){var r=ie(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var u=a.view.zr(t);u.snapshot&&i.push(u.snapshot)}),function(o,a){var u=ie(o);u.onlineState=a;var c=!1;u.queries.forEach(function(f,d){for(var p=0,g=d.listeners;p<g.length;p++)g[p].zr(a)&&(c=!0)}),c&&Mx(u)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Are(e,t,n){return M(this,void 0,void 0,function(){var r,i,o,a,u,c;return D(this,function(f){switch(f.label){case 0:return(r=ie(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new dr(_e.comparator)).insert(o,Qn.newNoDocument(o,ze.min())),u=ht().add(o),c=new wx(ze.min(),new Map,new yn(Qe),a,u),[4,uB(r,c)]):[3,2];case 1:return f.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),jx(r),[3,4];case 2:return[4,lf(r.localStore,t,!1).then(function(){return cf(r,t,n)}).catch(yl)];case 3:f.sent(),f.label=4;case 4:return[2]}})})}function Pre(e,t){return M(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:n=ie(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Vne(n.localStore,t)];case 2:return i=o.sent(),Ux(n,r,null),$x(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,bs(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,yl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ore(e,t,n){return M(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:r=ie(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,u){var c=ie(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(f){var d;return c._n.lookupMutationBatch(f,u).next(function(p){return xe(p!==null),d=p.keys(),c._n.removeMutationBatch(f,p)}).next(function(){return c._n.performConsistencyCheck(f)}).next(function(){return c.Mn.pn(f,d)})})}(r.localStore,t)];case 2:return i=o.sent(),Ux(r,t,n),$x(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,bs(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,yl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Dre(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(u){switch(u.label){case 0:ja((n=ie(e)).remoteStore)||te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(c){var f=ie(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return f._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),a=Df(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function $x(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Ux(e,t,n){var r=ie(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function cf(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||lB(e,a)})}function lB(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(hp(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),jx(e))}function cI(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof oB?(e.No.addReference(o.key,t),Mre(e,o)):o instanceof sB?(te("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||lB(e,o.key)):me()}}function Mre(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(te("SyncEngine","New document in limbo: "+n),e.So.add(r),jx(e))}function jx(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new _e(at.fromString(t)),r=e.Fo.next();e.Co.set(r,new Cre(n)),e.Do=e.Do.insert(n,r),Cw(e.remoteStore,new Iw($i(Rf(n.path)),r,2,oi.o))}}function bs(e,t,n){return M(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(u){switch(u.label){case 0:return r=ie(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,f){a.push(r.Oo(f,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,d.fromCache?"not-current":"current"),i.push(d);var p=Une.Pn(f.targetId,d);o.push(p)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(c,f){return M(this,void 0,void 0,function(){var d,p,g,m,w,_,T,b,S;return D(this,function(C){switch(C.label){case 0:d=ie(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(O){return Y.forEach(f,function(P){return Y.forEach(P.bn,function(R){return d.persistence.referenceDelegate.addReference(O,P.targetId,R)}).next(function(){return Y.forEach(P.vn,function(R){return d.persistence.referenceDelegate.removeReference(O,P.targetId,R)})})})})];case 2:return C.sent(),[3,4];case 3:if(!ml(p=C.sent()))throw p;return te("LocalStore","Failed to update sequence numbers: "+p),[3,4];case 4:for(g=0,m=f;g<m.length;g++)w=m[g],_=w.targetId,w.fromCache||(T=d.kn.get(_),b=T.snapshotVersion,S=T.withLastLimboFreeSnapshotVersion(b),d.kn=d.kn.insert(_,S));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Lre(e,t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return(n=ie(e)).currentUser.isEqual(t)?[3,3]:(te("SyncEngine","User change. New user:",t.toKey()),[4,q5(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,a){o.ko.forEach(function(u){u.forEach(function(c){c.reject(new K(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,bs(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Fre(e,t){var n=ie(e),r=n.Co.get(t);if(r&&r.bo)return ht().add(r.key);var i=ht(),o=n.Vo.get(t);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var c=u[a],f=n.Po.get(c);i=i.unionWith(f.view.wo)}return i}function $re(e,t){return M(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,Vy((n=ie(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&cI(n,t.targetId,i.To),i)]}})})}function Ure(e){return M(this,void 0,void 0,function(){var t;return D(this,function(n){return[2,G5((t=ie(e)).localStore).then(function(r){return bs(t,r)})]})})}function jre(e,t,n,r){return M(this,void 0,void 0,function(){var i,o;return D(this,function(a){switch(a.label){case 0:return[4,function(u,c){var f=ie(u),d=ie(f._n);return f.persistence.runTransaction("Lookup mutation documents","readonly",function(p){return d.jt(p,c).next(function(g){return g?f.Mn.pn(p,g):Y.resolve(null)})})}((i=ie(e)).localStore,t)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Pf(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Ux(i,t,r||null),$x(i,t),function(u,c){ie(ie(u)._n).Gt(c)}(i.localStore,t)):me(),a.label=4;case 4:return[4,bs(i,o)];case 5:return a.sent(),[3,7];case 6:te("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function Vre(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,u,c,f;return D(this,function(d){switch(d.label){case 0:return Vx(n=ie(e)),Bx(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,_L(n,r.toArray())]);case 1:return i=d.sent(),n.$o=!0,[4,lI(n.remoteStore,!0)];case 2:for(d.sent(),o=0,a=i;o<a.length;o++)u=a[o],Cw(n.remoteStore,u);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],f=Promise.resolve(),n.Vo.forEach(function(p,g){n.sharedClientState.isLocalQueryTarget(g)?c.push(g):f=f.then(function(){return cf(n,g),lf(n.localStore,g,!0)}),hp(n.remoteStore,g)}),[4,f]);case 4:return d.sent(),[4,_L(n,c)];case 5:return d.sent(),function(p){var g=ie(p);g.Co.forEach(function(m,w){hp(g.remoteStore,w)}),g.No.ts(),g.Co=new Map,g.Do=new dr(_e.comparator)}(n),n.$o=!1,[4,lI(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function _L(e,t,n){return M(this,void 0,void 0,function(){var r,i,o,a,u,c,f,d,p,g,m,w,_,T;return D(this,function(b){switch(b.label){case 0:r=ie(e),i=[],o=[],a=0,u=t,b.label=1;case 1:return a<u.length?(c=u[a],f=void 0,(d=r.Vo.get(c))&&d.length!==0?[4,uf(r.localStore,$i(d[0]))]:[3,7]):[3,13];case 2:f=b.sent(),p=0,g=d,b.label=3;case 3:return p<g.length?(m=g[p],w=r.Po.get(m),[4,$re(r,w)]):[3,6];case 4:(_=b.sent()).snapshot&&o.push(_.snapshot),b.label=5;case 5:return p++,[3,3];case 6:return[3,11];case 7:return[4,K5(r.localStore,c)];case 8:return T=b.sent(),[4,uf(r.localStore,T)];case 9:return f=b.sent(),[4,Fx(r,cB(T),c,!1)];case 10:b.sent(),b.label=11;case 11:i.push(f),b.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function cB(e){return i5(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Bre(e){var t=ie(e);return ie(ie(t.localStore).persistence).fn()}function zre(e,t,n,r){return M(this,void 0,void 0,function(){var i,o,a;return D(this,function(u){switch(u.label){case 0:return(i=ie(e)).$o?(te("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,G5(i.localStore)];case 3:return o=u.sent(),a=wx.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,bs(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,lf(i.localStore,t,!0)];case 6:return u.sent(),cf(i,t,r),[3,8];case 7:me(),u.label=8;case 8:return[2]}})})}function qre(e,t,n){return M(this,void 0,void 0,function(){var r,i,o,a,u,c,f,d,p,g;return D(this,function(m){switch(m.label){case 0:if(!(r=Vx(e)).$o)return[3,10];i=0,o=t,m.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(te("SyncEngine","Adding an already active target "+a),[3,5]):[4,K5(r.localStore,a)]):[3,6];case 2:return u=m.sent(),[4,uf(r.localStore,u)];case 3:return c=m.sent(),[4,Fx(r,cB(u),c.targetId,!1)];case 4:m.sent(),Cw(r.remoteStore,c),m.label=5;case 5:return i++,[3,1];case 6:f=function(w){return D(this,function(_){switch(_.label){case 0:return r.Vo.has(w)?[4,lf(r.localStore,w,!1).then(function(){hp(r.remoteStore,w),cf(r,w)}).catch(yl)]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})},d=0,p=n,m.label=7;case 7:return d<p.length?(g=p[d],[5,f(g)]):[3,10];case 8:m.sent(),m.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function Vx(e){var t=ie(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fre.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Are.bind(null,t),t.vo._r=bre.bind(null,t.eventManager),t.vo.Mo=Ere.bind(null,t.eventManager),t}function Bx(e){var t=ie(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pre.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ore.bind(null,t),t}function Wre(e,t,n){var r=ie(e);(function(i,o,a){return M(this,void 0,void 0,function(){var u,c,f,d,p,g;return D(this,function(m){switch(m.label){case 0:return m.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return u=m.sent(),[4,function(w,_){var T=ie(w),b=Rn(_.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",function(S){return T.Ke.getBundleMetadata(S,_.id)}).then(function(S){return!!S&&S.createTime.compareTo(b)>=0})}(i.localStore,u)];case 2:return m.sent()?[4,o.close()]:[3,4];case 3:return[2,(m.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(u)))];case 4:return a._updateProgress(iB(u)),c=new Tre(u,i.localStore,o.R),[4,o.Lo()];case 5:f=m.sent(),m.label=6;case 6:return f?[4,c.oo(f)]:[3,10];case 7:return(d=m.sent())&&a._updateProgress(d),[4,o.Lo()];case 8:f=m.sent(),m.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return p=m.sent(),[4,bs(i,p.wn,void 0)];case 12:return m.sent(),[4,function(w,_){var T=ie(w);return T.persistence.runTransaction("Save bundle","readwrite",function(b){return T.Ke.saveBundleMetadata(b,_)})}(i.localStore,u)];case 13:return m.sent(),a._completeWith(p.progress),[3,15];case 14:return op("SyncEngine","Loading bundle failed with "+(g=m.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var fB=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return M(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return this.R=lv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return z5(this.persistence,new B5,t.initialUser,this.R)},e.prototype.qo=function(t){return new Jne(ere.bs,this.R)},e.prototype.Bo=function(t){return new Q5},e.prototype.terminate=function(){return M(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),hB=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return oe(t,e),t.prototype.initialize=function(n){return M(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,qne(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,Bx(this.Qo.syncEngine)];case 4:return i.sent(),[4,Pf(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return z5(this.persistence,new B5,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new Ane(r,n.asyncQueue)},t.prototype.qo=function(n){var r=kx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?To.withCacheSize(this.cacheSizeBytes):To.DEFAULT;return new Fne(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,Y5(),Pm(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Q5},t}(fB),Hre=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return oe(t,e),t.prototype.initialize=function(n){return M(this,void 0,void 0,function(){var r,i=this;return D(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof CE?(this.sharedClientState.syncEngine={ui:jre.bind(null,r),ai:zre.bind(null,r),hi:qre.bind(null,r),fn:Bre.bind(null,r),ci:Ure.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return M(i,void 0,void 0,function(){return D(this,function(u){switch(u.label){case 0:return[4,Vre(this.Qo.syncEngine,a)];case 1:return u.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=Y5();if(!CE.yt(r))throw new K(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=kx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new CE(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(hB),fI=function(){function e(){}return e.prototype.initialize=function(t,n){return M(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return wL(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Lre.bind(null,this.syncEngine),[4,lI(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new _re},e.prototype.createDatastore=function(t){var n,r=lv(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new ore(n));return function(o,a,u){return new ure(o,a,u)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,a,u=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(c){return wL(u.syncEngine,c,0)},a=gL.yt()?new gL:new nre,new cre(n,r,i,o,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,a,u,c,f){var d=new kre(r,i,o,a,u,c);return f&&(d.$o=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return n=ie(t),te("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Af(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return M(this,void 0,void 0,function(){var r;return D(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return M(this,void 0,void 0,function(){return D(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kw=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),Kre=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new hr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return M(this,void 0,void 0,function(){return D(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return M(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return M(this,void 0,void 0,function(){var t,n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(t=o.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new Sre(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),Gre=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return M(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new K(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return M(this,void 0,void 0,function(){var u,c,f,d,p,g;return D(this,function(m){switch(m.label){case 0:return u=ie(o),c=fp(u.R)+"/documents",f={documents:a.map(function(w){return cp(u.R,w)})},[4,u.$i("BatchGetDocuments",c,f)];case 1:return d=m.sent(),p=new Map,d.forEach(function(w){var _=function(T,b){return"found"in b?function(S,C){xe(!!C.found),C.found.name,C.found.updateTime;var O=No(S,C.found.name),P=Rn(C.found.updateTime),R=new ri({mapValue:{fields:C.found.fields}});return Qn.newFoundDocument(O,P,R)}(T,b):"missing"in b?function(S,C){xe(!!C.missing),xe(!!C.readTime);var O=No(S,C.missing),P=Rn(C.readTime);return Qn.newNoDocument(O,P)}(T,b):me()}(u.R,w);p.set(_.key.toString(),_)}),g=[],[2,(a.forEach(function(w){var _=p.get(w.toString());xe(!!_),g.push(_)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new uv(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return M(this,void 0,void 0,function(){var t,n=this;return D(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var a=_e.fromPath(o);n.mutations.push(new yx(a,n.precondition(a)))}),[4,function(i,o){return M(this,void 0,void 0,function(){var a,u,c;return D(this,function(f){switch(f.label){case 0:return a=ie(i),u=fp(a.R)+"/documents",c={writes:o.map(function(d){return $y(a.R,d)})},[4,a.Ni("Commit",u,c)];case 1:return f.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw me();n=ze.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new K(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?sr.updateTime(n):sr.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ze.min()))throw new K(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sr.updateTime(n)}return sr.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),Qre=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Rx(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return M(t,void 0,void 0,function(){var n,r,i=this;return D(this,function(o){return n=new Gre(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(u){i.ic(u)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!gl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!g5(n)}return!1},e}(),Yre=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=jn.UNAUTHENTICATED,this.clientId=YV.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return M(i,void 0,void 0,function(){return D(this,function(a){switch(a.label){case 0:return te("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return M(this,void 0,void 0,function(){return D(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return M(t,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=Df(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(e,t){return M(this,void 0,void 0,function(){var n,r,i=this;return D(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return M(i,void 0,void 0,function(){return D(this,function(u){switch(u.label){case 0:return r.isEqual(a)?[3,2]:[4,q5(t.localStore,a)];case 1:u.sent(),r=a,u.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function pB(e,t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,zx(e)];case 1:return n=i.sent(),te("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(a,u){return M(this,void 0,void 0,function(){var c,f;return D(this,function(d){switch(d.label){case 0:return(c=ie(a)).asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials"),f=ja(c),c.Or.add(3),[4,Af(c)];case 1:return d.sent(),f&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(u)];case 2:return d.sent(),c.Or.delete(3),[4,cv(c)];case 3:return d.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function zx(e){return M(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(te("FirestoreClient","Using default OfflineComponentProvider"),[4,dB(e,new fB)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function xw(e){return M(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(te("FirestoreClient","Using default OnlineComponentProvider"),[4,pB(e,new fI)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function EL(e){return zx(e).then(function(t){return t.persistence})}function qx(e){return zx(e).then(function(t){return t.localStore})}function SL(e){return xw(e).then(function(t){return t.remoteStore})}function Wx(e){return xw(e).then(function(t){return t.syncEngine})}function ff(e){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return[4,xw(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=xre.bind(null,t.syncEngine),n.onUnlisten=Rre.bind(null,t.syncEngine),n)]}})})}function TL(e,t,n){var r=this;n===void 0&&(n={});var i=new hr;return e.asyncQueue.enqueueAndForget(function(){return M(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return o=function(u,c,f,d,p){var g=new kw({next:function(w){c.enqueueAndForget(function(){return Dx(u,m)});var _=w.docs.has(f);!_&&w.fromCache?p.reject(new K(B.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&w.fromCache&&d&&d.source==="server"?p.reject(new K(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:function(w){return p.reject(w)}}),m=new Lx(Rf(f.path),g,{includeMetadataChanges:!0,so:!0});return Ox(u,m)},[4,ff(e)];case 1:return[2,o.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function IL(e,t,n){var r=this;n===void 0&&(n={});var i=new hr;return e.asyncQueue.enqueueAndForget(function(){return M(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return o=function(u,c,f,d,p){var g=new kw({next:function(w){c.enqueueAndForget(function(){return Dx(u,m)}),w.fromCache&&d.source==="server"?p.reject(new K(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:function(w){return p.reject(w)}}),m=new Lx(f,g,{includeMetadataChanges:!0,so:!0});return Ox(u,m)},[4,ff(e)];case 1:return[2,o.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var Xre=function(e,t,n,r,i,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},qy=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),CL=new Map,vB=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},kL=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(jn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Jre=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Zre=function(){function e(t){var n=this;this.currentUser=jn.UNAUTHENTICATED,this.oc=new hr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){te("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(te("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(te("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(xe(typeof i.accessToken=="string"),new vB(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return M(r,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return xe(t===null||typeof t=="string"),new jn(t)},e}(),eie=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=jn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),tie=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new eie(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(jn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(e,t,n){if(!n)throw new K(B.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Kx(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new K(B.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function gB(e,t,n,r){if(t===!0&&r===!0)throw new K(B.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function xL(e){if(!_e.isDocumentKey(e))throw new K(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function RL(e){if(_e.isDocumentKey(e))throw new K(B.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Rw(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":me()}function ot(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Rw(e);throw new K(B.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function NL(e,t){if(t<=0)throw new K(B.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AL=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new K(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new K(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,gB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),dp=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AL({}),this._settingsFrozen=!1,t instanceof qy?(this._databaseId=t,this._credentials=new kL):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new K(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qy(r.options.projectId)}(t),this._credentials=new Zre(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new K(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new K(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AL(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new kL;switch(n.type){case"gapi":var r=n.client;return xe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new tie(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new K(B.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=CL.get(t))&&(te("ComponentProvider","Removing Datastore"),CL.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),jt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new da(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Kr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),da=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,Rf(i))||this)._path=i,o.type="collection",o}return oe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new jt(this.firestore,null,new _e(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Kr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ue(e),Hx("collection","path",t),e instanceof dp)return RL(n=at.fromString.apply(at,je([t],r))),new da(e,null,n);if(!(e instanceof jt||e instanceof da))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return RL(n=at.fromString.apply(at,je([e.path],r)).child(at.fromString(t))),new da(e.firestore,null,n)}function Om(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ue(e),arguments.length===1&&(t=YV.u()),Hx("doc","path",t),e instanceof dp)return xL(n=at.fromString.apply(at,je([t],r))),new jt(e,null,new _e(n));if(!(e instanceof jt||e instanceof da))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xL(n=e._path.child(at.fromString.apply(at,je([t],r)))),new jt(e.firestore,e instanceof da?e.converter:null,new _e(n))}function yB(e,t){return e=Ue(e),t=Ue(t),(e instanceof jt||e instanceof da)&&(t instanceof jt||t instanceof da)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function wB(e,t){return e=Ue(e),t=Ue(t),e instanceof Kr&&t instanceof Kr&&e.firestore===t.firestore&&iv(e._query,t._query)&&e.converter===t.converter}var nie=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Rx(this,"async_queue_retry"),this.Ic=function(){var r=Pm();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new hr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return M(this,void 0,void 0,function(){var t,n=this;return D(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ml(t=r.sent()))throw t;return te("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,an("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=yre.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&me()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,u){return a.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function hf(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var rie=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),iie=-1,Jt=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new nie,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return oe(t,e),t.prototype._terminate=function(){return this._firestoreClient||_B(this),this._firestoreClient.terminate()},t}(dp);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(e){return e._firestoreClient||_B(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _B(e){var t,n=e._freezeSettings(),r=function(i,o,a,u){return new Xre(i,o,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Yre(e._credentials,e._queue,r)}function PL(e,t,n){var r=this,i=new hr;return e.asyncQueue.enqueue(function(){return M(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,dB(e,n)];case 1:return a.sent(),[4,pB(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===B.FAILED_PRECONDITION||u.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function OL(e){if(e._initialized||e._terminated)throw new K(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new K(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new co(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),tl=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Nr.fromBase64String(t))}catch(n){throw new K(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Nr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),wl=function(e){this._methodName=e},Nw=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new K(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new K(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Qe(this._lat,t._lat)||Qe(this._long,t._long)},e}(),oie=/^__.*__$/,sie=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Ua(t,this.data,this.fieldMask,n,this.fieldTransforms):new av(t,this.data,n,this.fieldTransforms)},e}(),bB=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Ua(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}var SB=function(){function e(t,n,r,i,o,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Wy(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(EB(this.Nc)&&oie.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),aie=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||lv(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new SB({Nc:t,methodName:n,qc:r,path:co.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function _l(e){var t=e._freezeSettings(),n=lv(e._databaseId);return new aie(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Aw(e,t,n,r,i,o){o===void 0&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Xx("Data must be an object, but it was:",a,r);var u,c,f=CB(r,a);if(o.merge)u=new Yc(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var d=[],p=0,g=o.mergeFields;p<g.length;p++){var m=hI(t,g[p],n);if(!a.contains(m))throw new K(B.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");xB(d,m)||d.push(m)}u=new Yc(d),c=a.fieldTransforms.filter(function(w){return u.covers(w.field)})}else u=null,c=a.fieldTransforms;return new sie(new ri(f),u,c)}var Gx=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return oe(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(wl);function TB(e,t,n){return new SB({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var uie=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return oe(t,e),t.prototype._toFieldTransform=function(n){return new sv(n.path,new ef)},t.prototype.isEqual=function(n){return n instanceof t},t}(wl),lie=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return oe(t,e),t.prototype._toFieldTransform=function(n){var r=TB(this,n,!0),i=this.Kc.map(function(a){return bl(a,r)}),o=new Zu(i);return new sv(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(wl),cie=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return oe(t,e),t.prototype._toFieldTransform=function(n){var r=TB(this,n,!0),i=this.Kc.map(function(a){return bl(a,r)}),o=new el(i);return new sv(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(wl),fie=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return oe(t,e),t.prototype._toFieldTransform=function(n){var r=new tf(n.R,c5(n.R,this.Qc));return new sv(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(wl);function Qx(e,t,n,r){var i=e.Uc(1,t,n);Xx("Data must be an object, but it was:",i,r);var o=[],a=ri.empty();vl(r,function(c,f){var d=Jx(t,c,n);f=Ue(f);var p=i.Oc(d);if(f instanceof Gx)o.push(d);else{var g=bl(f,p);g!=null&&(o.push(d),a.set(d,g))}});var u=new Yc(o);return new bB(a,u,i.fieldTransforms)}function Yx(e,t,n,r,i,o){var a=e.Uc(1,t,n),u=[hI(t,r,n)],c=[i];if(o.length%2!=0)throw new K(B.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<o.length;f+=2)u.push(hI(t,o[f])),c.push(o[f+1]);for(var d=[],p=ri.empty(),g=u.length-1;g>=0;--g)if(!xB(d,u[g])){var m=u[g],w=c[g];w=Ue(w);var _=a.Oc(m);if(w instanceof Gx)d.push(m);else{var T=bl(w,_);T!=null&&(d.push(m),p.set(m,T))}}var b=new Yc(d);return new bB(p,b,a.fieldTransforms)}function IB(e,t,n,r){return r===void 0&&(r=!1),bl(n,e.Uc(r?4:3,t))}function bl(e,t){if(kB(e=Ue(e)))return Xx("Unsupported field value:",t,e),CB(e,t);if(e instanceof wl)return function(n,r){if(!EB(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,u=n;a<u.length;a++){var c=bl(u[a],r.Mc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Ue(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return c5(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Hr.fromDate(n);return{timestampValue:lp(r.R,i)}}if(n instanceof Hr)return i=new Hr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:lp(r.R,i)};if(n instanceof Nw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tl)return{bytesValue:b5(r.R,n._byteString)};if(n instanceof jt){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:bx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Rw(n))}(e,t)}function CB(e,t){var n={};return JV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vl(e,function(r,i){var o=bl(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Hr||e instanceof Nw||e instanceof tl||e instanceof jt||e instanceof wl)}function Xx(e,t,n){if(!kB(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Rw(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function hI(e,t,n){if((t=Ue(t))instanceof Ao)return t._internalPath;if(typeof t=="string")return Jx(e,t);throw Wy("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var hie=new RegExp("[~\\*/\\[\\]]");function Jx(e,t,n){if(t.search(hie)>=0)throw Wy("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ao.bind.apply(Ao,je([void 0],t.split("."))))()._internalPath}catch{throw Wy("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Wy(e,t,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new K(B.INVALID_ARGUMENT,(u+=". ")+e+c)}function xB(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pp=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new jt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new die(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Hy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),die=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(pp);function Hy(e,t){return typeof t=="string"?Jx(e,t):t instanceof Ao?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xu=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),as=function(e){function t(n,r,i,o,a,u){var c=this;return(c=e.call(this,n,r,i,o,u)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return oe(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Hy("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(pp),bd=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(as),Qs=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new bd(r._firestore,r._userDataWriter,i.key,i,new xu(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new bd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new xu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var c=new bd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new xu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),f=-1,d=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(d=(a=a.add(u.doc)).indexOf(u.doc.key)),{type:pie(u.type),doc:c,oldIndex:f,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function pie(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}function RB(e,t){return e instanceof as&&t instanceof as?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qs&&t instanceof Qs&&e._firestore===t._firestore&&wB(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(e){if(Fy(e)&&e.explicitOrderBy.length===0)throw new K(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fv=function(){};function Ls(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var vie=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return oe(t,e),t.prototype._apply=function(n){var r=_l(n.firestore),i=function(o,a,u,c,f,d,p){var g;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(B.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){$L(p,d);for(var m=[],w=0,_=p;w<_.length;w++){var T=_[w];m.push(FL(c,o,T))}g={arrayValue:{values:m}}}else g=FL(c,o,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||$L(p,d),g=IB(u,"where",p,d==="in"||d==="not-in");var b=si.create(f,d,g);return function(S,C){if(C.g()){var O=gx(S);if(O!==null&&!O.isEqual(C.field))throw new K(B.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+O.toString()+"' and '"+C.field.toString()+"'");var P=vx(S);P!==null&&PB(S,C.field,P)}var R=function(F,L){for(var $=0,k=F.filters;$<k.length;$++){var H=k[$];if(L.indexOf(H.op)>=0)return H.op}return null}(S,function(F){switch(F){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(R!==null)throw R===C.op?new K(B.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new K(B.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+R.toString()+"' filters.")}(o,b),b}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Kr(n.firestore,n.converter,function(o,a){var u=o.filters.concat([a]);return new _s(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(fv),gie=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return oe(t,e),t.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new xc(o,a);return function(c,f){if(vx(c)===null){var d=gx(c);d!==null&&PB(c,d,f.field)}}(i,u),u}(n._query,this.jc,this.zc);return new Kr(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new _s(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(fv),DL=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return oe(t,e),t.prototype._apply=function(n){return new Kr(n.firestore,n.converter,o5(n._query,this.Hc,this.Jc))},t}(fv),ML=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return oe(t,e),t.prototype._apply=function(n){var r=AB(n,this.type,this.Yc,this.Xc);return new Kr(n.firestore,n.converter,function(i,o){return new _s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(fv),LL=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return oe(t,e),t.prototype._apply=function(n){var r=AB(n,this.type,this.Yc,this.Xc);return new Kr(n.firestore,n.converter,function(i,o){return new _s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(fv);function AB(e,t,n,r){if(n[0]=Ue(n[0]),n[0]instanceof pp)return function(o,a,u,c,f){if(!c)throw new K(B.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var d=[],p=0,g=Zc(o);p<g.length;p++){var m=g[p];if(m.field.isKeyField())d.push(Dy(a,c.key));else{var w=c.data.field(m.field);if(hx(w))throw new K(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var _=m.field.canonicalString();throw new K(B.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+_+"' (used as the orderBy) does not exist.")}d.push(w)}}return new up(d,f)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=_l(e.firestore);return function(o,a,u,c,f,d){var p=o.explicitOrderBy;if(f.length>p.length)throw new K(B.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],m=0;m<f.length;m++){var w=f[m];if(p[m].field.isKeyField()){if(typeof w!="string")throw new K(B.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!mx(o)&&w.indexOf("/")!==-1)throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var _=o.path.child(at.fromString(w));if(!_e.isDocumentKey(_))throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+_+"' is not because it contains an odd number of segments.");var T=new _e(_);g.push(Dy(a,T))}else{var b=IB(u,c,w);g.push(b)}}return new up(g,d)}(e._query,e.firestore._databaseId,i,t,n,r)}function FL(e,t,n){if(typeof(n=Ue(n))=="string"){if(n==="")throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mx(t)&&n.indexOf("/")!==-1)throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(at.fromString(n));if(!_e.isDocumentKey(r))throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Dy(e,new _e(r))}if(n instanceof jt)return Dy(e,n._key);throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Rw(n)+".")}function $L(e,t){if(!Array.isArray(e)||e.length===0)throw new K(B.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new K(B.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function PB(e,t,n){if(!n.isEqual(t))throw new K(B.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zx=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ju(t)){case 0:return null;case 1:return t.booleanValue;case 2:return on(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw me()}},e.prototype.convertObject=function(t,n){var r=this,i={};return vl(t.fields,function(o,a){i[o]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new Nw(on(t.latitude),on(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=e5(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sp(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Ca(t);return new Hr(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=at.fromString(t);xe(N5(r));var i=new qy(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||an("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var mie=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return oe(t,e),t.prototype.convertBytes=function(n){return new tl(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new jt(this.firestore,null,r)},t}(Zx),yie=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_l(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Ys(t,this._firestore),o=Pw(i.converter,n,r),a=Aw(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,sr.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,u=Ys(t,this._firestore);return a=typeof(n=Ue(n))=="string"||n instanceof Ao?Yx(this._dataReader,"WriteBatch.update",u._key,n,r,i):Qx(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(a.toMutation(u._key,sr.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Ys(t,this._firestore);return this._mutations=this._mutations.concat(new uv(n._key,sr.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new K(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(e,t){if((e=Ue(e)).firestore!==t)throw new K(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fu=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return oe(t,e),t.prototype.convertBytes=function(n){return new tl(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new jt(this.firestore,null,r)},t}(Zx);function UL(e,t,n){e=ot(e,jt);var r=ot(e.firestore,Jt),i=Pw(e.converter,t,n);return hv(r,[Aw(_l(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,sr.none())])}function jL(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ot(e,jt);var o=ot(e.firestore,Jt),a=_l(o);return hv(o,[(typeof(t=Ue(t))=="string"||t instanceof Ao?Yx(a,"updateDoc",e._key,t,n,r):Qx(a,"updateDoc",e._key,t)).toMutation(e._key,sr.exists(!0))])}function OB(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Ue(e);var a={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||hf(i[u])||(a=i[u],u++);var c,f,d,p={includeMetadataChanges:a.includeMetadataChanges};if(hf(i[u])){var g=i[u];i[u]=(t=g.next)===null||t===void 0?void 0:t.bind(g),i[u+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[u+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof jt)f=ot(e.firestore,Jt),d=Rf(e._key.path),c={next:function(_){i[u]&&i[u](dI(f,e,_))},error:i[u+1],complete:i[u+2]};else{var m=ot(e,Kr);f=ot(m.firestore,Jt),d=m._query;var w=new Fu(f);c={next:function(_){i[u]&&i[u](new Qs(f,w,m,_))},error:i[u+1],complete:i[u+2]},NB(e._query)}return function(_,T,b,S){var C=this,O=new kw(S),P=new Lx(T,O,b);return _.asyncQueue.enqueueAndForget(function(){return M(C,void 0,void 0,function(){var R;return D(this,function(F){switch(F.label){case 0:return R=Ox,[4,ff(_)];case 1:return[2,R.apply(void 0,[F.sent(),P])]}})})}),function(){O.Wo(),_.asyncQueue.enqueueAndForget(function(){return M(C,void 0,void 0,function(){var R;return D(this,function(F){switch(F.label){case 0:return R=Dx,[4,ff(_)];case 1:return[2,R.apply(void 0,[F.sent(),P])]}})})})}}(kn(f),d,p,c)}function hv(e,t){return function(n,r){var i=this,o=new hr;return n.asyncQueue.enqueueAndForget(function(){return M(i,void 0,void 0,function(){var a;return D(this,function(u){switch(u.label){case 0:return a=Nre,[4,Wx(n)];case 1:return[2,a.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(kn(e),t)}function dI(e,t,n){var r=n.docs.get(t._key),i=new Fu(e);return new as(e,i,t._key,r,new xu(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wie=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return oe(t,e),t.prototype.get=function(n){var r=this,i=Ys(n,this._firestore),o=new Fu(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new as(r._firestore,o,i._key,a._document,new xu(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=_l(t)}return e.prototype.get=function(t){var n=this,r=Ys(t,this._firestore),i=new mie(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return me();var a=o[0];if(a.isFoundDocument())return new pp(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new pp(n._firestore,i,r._key,null,r.converter);throw me()})},e.prototype.set=function(t,n,r){var i=Ys(t,this._firestore),o=Pw(i.converter,n,r),a=Aw(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,u=Ys(t,this._firestore);return a=typeof(n=Ue(n))=="string"||n instanceof Ao?Yx(this._dataReader,"Transaction.update",u._key,n,r,i):Qx(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,a),this},e.prototype.delete=function(t){var n=Ys(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){if(typeof Uint8Array>"u")throw new K(B.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function BL(){if(typeof atob>"u")throw new K(B.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var DB=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return BL(),new e(tl.fromBase64String(t))},e.fromUint8Array=function(t){return VL(),new e(tl.fromUint8Array(t))},e.prototype.toBase64=function(){return BL(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return VL(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),_ie=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){OL(r=ot(r,Jt));var o=kn(r),a=r._freezeSettings(),u=new fI;return PL(o,u,new hB(u,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){OL(n=ot(n,Jt));var r=kn(n),i=n._freezeSettings(),o=new fI;return PL(r,o,new Hre(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new K(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new hr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return M(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(u){return M(this,void 0,void 0,function(){var c;return D(this,function(f){switch(f.label){case 0:return of.yt()?(c=u+"main",[4,of.delete(c)]):[2,Promise.resolve()];case 1:return f.sent(),[2]}})})}(kx(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),eR=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof qy||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||op("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,a,u){var c;u===void 0&&(u={});var f=(i=ot(i,dp))._getSettings();if(f.host!=="firestore.googleapis.com"&&f.host!==o&&op("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:o+":"+a,ssl:!1})),u.mockUserToken){var d,p;if(typeof u.mockUserToken=="string")d=u.mockUserToken,p=jn.MOCK_USER;else{d=ZC(u.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var g=u.mockUserToken.sub||u.mockUserToken.user_id;if(!g)throw new K(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new jn(g)}i._credentials=new Jre(new vB(d,p))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return M(n,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return[4,EL(t)];case 1:return r=o.sent(),[4,SL(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var u=ie(a);return u.Or.delete(0),cv(u)}(i))]}})})})}(kn(ot(this._delegate,Jt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return M(n,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return[4,EL(t)];case 1:return r=o.sent(),[4,SL(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return M(this,void 0,void 0,function(){var u;return D(this,function(c){switch(c.label){case 0:return(u=ie(a)).Or.add(0),[4,Af(u)];case 1:return c.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(kn(ot(this._delegate,Jt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&gB("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new hr;return t.asyncQueue.enqueueAndForget(function(){return M(n,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return i=Dre,[4,Wx(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(kn(ot(this._delegate,Jt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var a=this,u=new kw(o);return i.asyncQueue.enqueueAndForget(function(){return M(a,void 0,void 0,function(){var c;return D(this,function(f){switch(f.label){case 0:return c=function(d,p){ie(d).Gr.add(p),p.next()},[4,ff(i)];case 1:return[2,c.apply(void 0,[f.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return M(a,void 0,void 0,function(){var c;return D(this,function(f){switch(f.label){case 0:return c=function(d,p){ie(d).Gr.delete(p)},[4,ff(i)];case 1:return[2,c.apply(void 0,[f.sent(),u])]}})})})}}(kn(n=ot(n,Jt)),hf(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new K(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ky(this,mB(this._delegate,t))}catch(n){throw _r(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new $u(this,Om(this._delegate,t))}catch(n){throw _r(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new dv(this,function(n,r){if(n=ot(n,dp),Hx("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new K(B.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Kr(n,null,function(i){return new _s(at.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw _r(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,a){var u=this,c=new hr;return o.asyncQueue.enqueueAndForget(function(){return M(u,void 0,void 0,function(){var f;return D(this,function(d){switch(d.label){case 0:return[4,function(p){return xw(p).then(function(g){return g.datastore})}(o)];case 1:return f=d.sent(),new Qre(o.asyncQueue,f,a,c).run(),[2]}})})}),c.promise}(kn(r),function(o){return i(new wie(r,o))})}(this._delegate,function(r){return t(new MB(n,r))})},e.prototype.batch=function(){var t=this;return kn(this._delegate),new LB(new yie(this._delegate,function(n){return hv(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new K(B.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new K(B.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ow=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return oe(t,e),t.prototype.convertBytes=function(n){return new DB(new tl(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return $u.eu(r,this.firestore,null)},t}(Zx);function bie(e){var t;t=e,ao.setLogLevel(t)}var MB=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Ow(t)}return e.prototype.get=function(t){var n=this,r=Ru(t);return this._delegate.get(r).then(function(i){return new vp(n._firestore,new as(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Ru(t);return r?(Kx("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Ru(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,je([u,n,r],o)),this},e.prototype.delete=function(t){var n=Ru(t);return this._delegate.delete(n),this},e}(),LB=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Ru(t);return r?(Kx("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Ru(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,je([u,n,r],o)),this},e.prototype.delete=function(t){var n=Ru(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Dw=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new bd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new gp(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Ow(t),n),i.set(n,o)),o},e}();Dw.su=new WeakMap;var $u=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ow(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new K(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new jt(n._delegate,r,new _e(t)))},e.eu=function(t,n,r){return new e(n,new jt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ky(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ky(this.firestore,mB(this._delegate,t))}catch(n){throw _r(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Ue(t))instanceof jt&&yB(this._delegate,t)},e.prototype.set=function(t,n){n=Kx("DocumentReference.set",n);try{return n?UL(this._delegate,t,n):UL(this._delegate,t)}catch(r){throw _r(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?jL(this._delegate,t):jL.apply(void 0,je([this._delegate,t,n],r))}catch(o){throw _r(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return hv(ot((t=this._delegate).firestore,Jt),[new uv(t._key,sr.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=FB(n),o=$B(n,function(a){return new vp(t.firestore,new as(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return OB(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ot(r,jt);var i=ot(r.firestore,Jt),o=kn(i),a=new Fu(i);return function(u,c){var f=this,d=new hr;return u.asyncQueue.enqueueAndForget(function(){return M(f,void 0,void 0,function(){var p;return D(this,function(g){switch(g.label){case 0:return p=function(m,w,_){return M(this,void 0,void 0,function(){var T,b;return D(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(C,O){var P=ie(C);return P.persistence.runTransaction("read document","readonly",function(R){return P.Mn.mn(R,O)})}(m,w)];case 1:return(b=S.sent()).isFoundDocument()?_.resolve(b):b.isNoDocument()?_.resolve(null):_.reject(new K(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return T=S.sent(),b=Df(T,"Failed to get document '"+w+" from cache"),_.reject(b),[3,3];case 3:return[2]}})})},[4,qx(u)];case 1:return[2,p.apply(void 0,[g.sent(),c,d])]}})})}),d.promise}(o,r._key).then(function(u){return new as(i,a,r._key,u,new xu(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ot(r,jt);var i=ot(r.firestore,Jt);return TL(kn(i),r._key,{source:"server"}).then(function(o){return dI(i,r,o)})}(this._delegate):function(r){r=ot(r,jt);var i=ot(r.firestore,Jt);return TL(kn(i),r._key).then(function(o){return dI(i,r,o)})}(this._delegate)).then(function(r){return new vp(n.firestore,new as(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dw.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function _r(e,t,n){return e.message=e.message.replace(t,n),e}function FB(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!hf(r))return r}return{}}function $B(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=hf(e[0])?e[0]:hf(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var vp=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new $u(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return RB(this._delegate,t._delegate)},e}(),gp=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(vp),dv=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ow(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ls(this._delegate,function(i,o,a){var u=o,c=Hy("where",i);return new vie(c,u,a)}(t,n,r)))}catch(i){throw _r(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ls(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=Hy("orderBy",r);return new gie(a,o)}(t,n)))}catch(r){throw _r(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ls(this._delegate,function(n){return NL("limit",n),new DL("limit",n,"F")}(t)))}catch(n){throw _r(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ls(this._delegate,function(n){return NL("limitToLast",n),new DL("limitToLast",n,"L")}(t)))}catch(n){throw _r(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ls(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ML("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw _r(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ls(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ML("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw _r(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ls(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new LL("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw _r(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ls(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new LL("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw _r(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return wB(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ot(r,Kr);var i=ot(r.firestore,Jt),o=kn(i),a=new Fu(i);return function(u,c){var f=this,d=new hr;return u.asyncQueue.enqueueAndForget(function(){return M(f,void 0,void 0,function(){var p;return D(this,function(g){switch(g.label){case 0:return p=function(m,w,_){return M(this,void 0,void 0,function(){var T,b,S,C,O;return D(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,Vy(m,w,!0)];case 1:return O=P.sent(),T=new aB(w,O.Bn),b=T._o(O.documents),S=T.applyChanges(b,!1),_.resolve(S.snapshot),[3,3];case 2:return C=P.sent(),O=Df(C,"Failed to execute query '"+w+" against cache"),_.reject(O),[3,3];case 3:return[2]}})})},[4,qx(u)];case 1:return[2,p.apply(void 0,[g.sent(),c,d])]}})})}),d.promise}(o,r._query).then(function(u){return new Qs(i,a,r,u)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ot(r,Kr);var i=ot(r.firestore,Jt),o=kn(i),a=new Fu(i);return IL(o,r._query,{source:"server"}).then(function(u){return new Qs(i,a,r,u)})}(this._delegate):function(r){r=ot(r,Kr);var i=ot(r.firestore,Jt),o=kn(i),a=new Fu(i);return NB(r._query),IL(o,r._query).then(function(u){return new Qs(i,a,r,u)})}(this._delegate)).then(function(r){return new pI(n.firestore,new Qs(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=FB(n),o=$B(n,function(a){return new pI(t.firestore,new Qs(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return OB(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dw.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Eie=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new gp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),pI=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new dv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new gp(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new Eie(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new gp(r._firestore,i))})},e.prototype.isEqual=function(t){return RB(this._delegate,t._delegate)},e}(),Ky=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return oe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new $u(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new $u(this.firestore,n===void 0?Om(this._delegate):Om(this._delegate,n))}catch(r){throw _r(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var a=ot(i.firestore,Jt),u=Om(i),c=Pw(i.converter,o);return hv(a,[Aw(_l(i.firestore),"addDoc",u._key,c,i.converter!==null,{}).toMutation(u._key,sr.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new $u(r.firestore,i)})},t.prototype.isEqual=function(n){return yB(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Dw.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(dv);function Ru(e){return ot(e,jt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sie=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ao.bind.apply(Ao,je([void 0],t)))}return e.documentId=function(){return new e(co.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Ue(t))instanceof Ao&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),Tie=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new uie("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Gx("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new lie("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new cie("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new fie("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iie(e){return function(t,n){var r=kn(t=ot(t,Jt)),i=new rie;return function(o,a,u,c){var f=this,d=function(p,g){return function(m,w){return new Kre(m,w)}(function(m,w){if(m instanceof Uint8Array)return bL(m,w);if(m instanceof ArrayBuffer)return bL(new Uint8Array(m),w);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof p=="string"?new TextEncoder().encode(p):p),g)}(u,lv(a));o.asyncQueue.enqueueAndForget(function(){return M(f,void 0,void 0,function(){var p;return D(this,function(g){switch(g.label){case 0:return p=Wre,[4,Wx(o)];case 1:return p.apply(void 0,[g.sent(),d,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function Cie(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return M(a,void 0,void 0,function(){var u;return D(this,function(c){switch(c.label){case 0:return u=function(f,d){var p=ie(f);return p.persistence.runTransaction("Get named query","readonly",function(g){return p.Ke.getNamedQuery(g,d)})},[4,qx(i)];case 1:return[2,u.apply(void 0,[c.sent(),o])]}})})})}(kn(t=ot(t,Jt)),n).then(function(i){return i?new Kr(t,null,i.query):null})).then(function(i){return i?new dv(r,i):null})}var kie={Firestore:eR,GeoPoint:Nw,Timestamp:Hr,Blob:DB,Transaction:MB,WriteBatch:LB,DocumentReference:$u,DocumentSnapshot:vp,Query:dv,QueryDocumentSnapshot:gp,QuerySnapshot:pI,CollectionReference:Ky,FieldPath:Sie,FieldValue:Tie,setLogLevel:bie,CACHE_SIZE_UNLIMITED:iie};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xie(e){(function(t,n){t.INTERNAL.registerComponent(new fr("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},kie)))})(e,function(t,n){return new eR(t,new Jt(t,n),new _ie)}),e.registerVersion("@firebase/firestore","2.4.1")}xie(ge);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(e){e.prototype.loadBundle=Iie,e.prototype.namedQuery=Cie}Rie(eR);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zL={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rc=function(e){oe(t,e);function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return t}(Error);function Nie(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Aie(e,t,n){var r=Nie(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var u=a.status;if(typeof u=="string"){if(!zL[u])return new Rc("internal","internal");r=zL[u],i=u}var c=a.message;typeof c=="string"&&(i=c),o=a.details,o!==void 0&&(o=n.decode(o))}}catch{}return r==="ok"?null:new Rc(r,i,o)}var Pie=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return M(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oie="type.googleapis.com/google.protobuf.Int64Value",Die="type.googleapis.com/google.protobuf.UInt64Value";function qL(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Mie=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return qL(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case Oie:case Die:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?qL(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lie(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Rc("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var WL=function(){function e(t,n,r,i,o,a){var u=this;o===void 0&&(o="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new Mie,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(u.deleteService())}},this.contextProvider=new Pie(n,r),this.cancelAllRequests=new Promise(function(f){u.deleteService=function(){return f()}});try{var c=new URL(o);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=o}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return M(this,void 0,void 0,function(){var i,o,a;return D(this,function(u){switch(u.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=u.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=u.sent(),[3,5];case 4:return u.sent(),[2,{status:0,json:null}];case 5:a=null,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,o.json()];case 7:return a=u.sent(),[3,9];case 8:return u.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return M(this,void 0,void 0,function(){var i,o,a,u,c,f,d,p,g,m,w,_;return D(this,function(T){switch(T.label){case 0:return i=this._url(t),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return u=T.sent(),u.authToken&&(a.Authorization="Bearer "+u.authToken),u.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=u.instanceIdToken),c=r.timeout||7e4,f=Lie(c),d=f.timer,p=f.promise,[4,Promise.race([HL(d,this.postJSON(i,o,a)),p,HL(d,this.cancelAllRequests)])];case 2:if(g=T.sent(),!g)throw new Rc("cancelled","Firebase Functions instance was deleted.");if(m=Aie(g.status,g.json,this.serializer),m)throw m;if(!g.json)throw new Rc("internal","Response is not valid JSON object.");if(w=g.json.data,typeof w>"u"&&(w=g.json.result),typeof w>"u")throw new Rc("internal","Response is missing data field.");return _=this.serializer.decode(w),[2,{data:_}]}})})},e}();function HL(e,t){return M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fie="functions";function $ie(e,t){var n={Functions:WL};function r(i,o){var a=o.instanceIdentifier,u=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),f=i.getProvider("app-check-internal"),d=i.getProvider("messaging");return new WL(u,c,d,f,a,t)}e.INTERNAL.registerComponent(new fr(Fie,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var Uie="@firebase/functions",jie="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$ie(ge,fetch.bind(self));ge.registerVersion(Uie,jie);function Vie(e){return Array.prototype.slice.call(e)}function UB(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Mw(e,t,n){var r,i=new Promise(function(o,a){r=e[t].apply(e,n),UB(r).then(o,a)});return i.request=r,i}function Bie(e,t,n){var r=Mw(e,t,n);return r.then(function(i){if(!!i)return new mp(i,r.request)})}function Mf(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function tR(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Mw(this[t],i,arguments)})})}function Lw(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function jB(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Bie(this[t],i,arguments)})})}function El(e){this._index=e}Mf(El,"_index",["name","keyPath","multiEntry","unique"]);tR(El,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);jB(El,"_index",IDBIndex,["openCursor","openKeyCursor"]);function mp(e,t){this._cursor=e,this._request=t}Mf(mp,"_cursor",["direction","key","primaryKey","value"]);tR(mp,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(mp.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),UB(t._request).then(function(r){if(!!r)return new mp(r,t._request)})})})});function Vo(e){this._store=e}Vo.prototype.createIndex=function(){return new El(this._store.createIndex.apply(this._store,arguments))};Vo.prototype.index=function(){return new El(this._store.index.apply(this._store,arguments))};Mf(Vo,"_store",["name","keyPath","indexNames","autoIncrement"]);tR(Vo,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);jB(Vo,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Lw(Vo,"_store",IDBObjectStore,["deleteIndex"]);function pv(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}pv.prototype.objectStore=function(){return new Vo(this._tx.objectStore.apply(this._tx,arguments))};Mf(pv,"_tx",["objectStoreNames","mode"]);Lw(pv,"_tx",IDBTransaction,["abort"]);function Fw(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new pv(n)}Fw.prototype.createObjectStore=function(){return new Vo(this._db.createObjectStore.apply(this._db,arguments))};Mf(Fw,"_db",["name","version","objectStoreNames"]);Lw(Fw,"_db",IDBDatabase,["deleteObjectStore","close"]);function $w(e){this._db=e}$w.prototype.transaction=function(){return new pv(this._db.transaction.apply(this._db,arguments))};Mf($w,"_db",["name","version","objectStoreNames"]);Lw($w,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Vo,El].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=Vie(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[El,Vo].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(o){r.iterateCursor(t,function(a){if(!a){o(i);return}if(i.push(a.value),n!==void 0&&i.length==n){o(i);return}a.continue()})})})});function nR(e,t,n){var r=Mw(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(o){n&&n(new Fw(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new $w(o)})}function kE(e){return Mw(indexedDB,"deleteDatabase",[e])}var zie="@firebase/installations",VB="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BB=1e4,zB="w:"+VB,qB="FIS_v2",qie="https://firebaseinstallations.googleapis.com/v1",Wie=60*60*1e3,Hie="installations",Kie="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fs,Gie=(Fs={},Fs["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Fs["not-registered"]="Firebase Installation is not registered.",Fs["installation-not-found"]="Firebase Installation not found.",Fs["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Fs["app-offline"]="Could not process request. Application offline.",Fs["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Fs),vs=new ws(Hie,Kie,Gie);function WB(e){return e instanceof bf&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(e){var t=e.projectId;return qie+"/projects/"+t+"/installations"}function HB(e){return{token:e.token,requestStatus:2,expiresIn:Qie(e.expiresIn),creationTime:Date.now()}}function iR(e,t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,vs.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function KB(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function GB(e,t){var n=t.refreshToken,r=KB(e);return r.append("Authorization",Yie(n)),r}function oR(e){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function Qie(e){return Number(e.replace("s","000"))}function Yie(e){return qB+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xie(e,t){var n=t.fid;return M(this,void 0,void 0,function(){var r,i,o,a,u,c,f;return D(this,function(d){switch(d.label){case 0:return r=rR(e),i=KB(e),o={fid:n,authVersion:qB,appId:e.appId,sdkVersion:zB},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,oR(function(){return fetch(r,a)})];case 1:return u=d.sent(),u.ok?[4,u.json()]:[3,3];case 2:return c=d.sent(),f={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:HB(c.authToken)},[2,f];case 3:return[4,iR("Create Installation",u)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jie(e){var t=btoa(String.fromCharCode.apply(String,je([],Bn(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zie=/^[cdef][\w-]{21}$/,vI="";function eoe(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=toe(e);return Zie.test(n)?n:vI}catch{return vI}}function toe(e){var t=Jie(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var df=new Map;function YB(e,t){var n=Lf(e);XB(n,t),ioe(n,t)}function noe(e,t){JB();var n=Lf(e),r=df.get(n);r||(r=new Set,df.set(n,r)),r.add(t)}function roe(e,t){var n=Lf(e),r=df.get(n);!r||(r.delete(t),r.size===0&&df.delete(n),ZB())}function XB(e,t){var n,r,i=df.get(e);if(!!i)try{for(var o=An(i),a=o.next();!a.done;a=o.next()){var u=a.value;u(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function ioe(e,t){var n=JB();n&&n.postMessage({key:e,fid:t}),ZB()}var Nu=null;function JB(){return!Nu&&"BroadcastChannel"in self&&(Nu=new BroadcastChannel("[Firebase] FID Change"),Nu.onmessage=function(e){XB(e.data.key,e.data.fid)}),Nu}function ZB(){df.size===0&&Nu&&(Nu.close(),Nu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ooe="firebase-installations-database",soe=1,nl="firebase-installations-store",xE=null;function sR(){return xE||(xE=nR(ooe,soe,function(e){switch(e.oldVersion){case 0:e.createObjectStore(nl)}})),xE}function Gy(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(u){switch(u.label){case 0:return n=Lf(e),[4,sR()];case 1:return r=u.sent(),i=r.transaction(nl,"readwrite"),o=i.objectStore(nl),[4,o.get(n)];case 2:return a=u.sent(),[4,o.put(t,n)];case 3:return u.sent(),[4,i.complete];case 4:return u.sent(),(!a||a.fid!==t.fid)&&YB(e,t.fid),[2,t]}})})}function aR(e){return M(this,void 0,void 0,function(){var t,n,r;return D(this,function(i){switch(i.label){case 0:return t=Lf(e),[4,sR()];case 1:return n=i.sent(),r=n.transaction(nl,"readwrite"),[4,r.objectStore(nl).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function vv(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,u;return D(this,function(c){switch(c.label){case 0:return n=Lf(e),[4,sR()];case 1:return r=c.sent(),i=r.transaction(nl,"readwrite"),o=i.objectStore(nl),[4,o.get(n)];case 2:return a=c.sent(),u=t(a),u!==void 0?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),u&&(!a||a.fid!==u.fid)&&YB(e,u.fid),[2,u]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(e){return M(this,void 0,void 0,function(){var t,n,r;return D(this,function(i){switch(i.label){case 0:return[4,vv(e,function(o){var a=aoe(o),u=uoe(e,a);return t=u.registrationPromise,u.installationEntry})];case 1:return n=i.sent(),n.fid!==vI?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function aoe(e){var t=e||{fid:eoe(),registrationStatus:0};return e6(t)}function uoe(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(vs.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=loe(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:coe(e)}:{installationEntry:t}}function loe(e,t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Xie(e,t)];case 1:return n=i.sent(),[2,Gy(e,n)];case 2:return r=i.sent(),WB(r)&&r.customData.serverCode===409?[4,aR(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Gy(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function coe(e){return M(this,void 0,void 0,function(){var t,n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,KL(e)];case 1:t=o.sent(),o.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,QB(100)];case 3:return o.sent(),[4,KL(e)];case 4:return t=o.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,uR(e)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function KL(e){return vv(e,function(t){if(!t)throw vs.create("installation-not-found");return e6(t)})}function e6(e){return foe(e)?{fid:e.fid,registrationStatus:0}:e}function foe(e){return e.registrationStatus===1&&e.registrationTime+BB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hoe(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return M(this,void 0,void 0,function(){var i,o,a,u,c,f,d,p;return D(this,function(g){switch(g.label){case 0:return i=doe(n,t),o=GB(n,t),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),u={installation:{sdkVersion:zB}},c={method:"POST",headers:o,body:JSON.stringify(u)},[4,oR(function(){return fetch(i,c)})];case 1:return f=g.sent(),f.ok?[4,f.json()]:[3,3];case 2:return d=g.sent(),p=HB(d),[2,p];case 3:return[4,iR("Generate Auth Token",f)];case 4:throw g.sent()}})})}function doe(e,t){var n=t.fid;return rR(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(e,t){return t===void 0&&(t=!1),M(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return[4,vv(e.appConfig,function(u){if(!t6(u))throw vs.create("not-registered");var c=u.authToken;if(!t&&goe(c))return u;if(c.requestStatus===1)return n=poe(e,t),u;if(!navigator.onLine)throw vs.create("app-offline");var f=yoe(u);return n=voe(e,f),f})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function poe(e,t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,GL(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,QB(100)];case 3:return i.sent(),[4,GL(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,lR(e,t)]:[2,r]}})})}function GL(e){return vv(e,function(t){if(!t6(t))throw vs.create("not-registered");var n=t.authToken;return woe(n)?Se(Se({},t),{authToken:{requestStatus:0}}):t})}function voe(e,t){return M(this,void 0,void 0,function(){var n,i,r,i;return D(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,hoe(e,t)];case 1:return n=o.sent(),i=Se(Se({},t),{authToken:n}),[4,Gy(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),WB(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,aR(e.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return i=Se(Se({},t),{authToken:{requestStatus:0}}),[4,Gy(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}function t6(e){return e!==void 0&&e.registrationStatus===2}function goe(e){return e.requestStatus===2&&!moe(e)}function moe(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Wie}function yoe(e){var t={requestStatus:1,requestTime:Date.now()};return Se(Se({},e),{authToken:t})}function woe(e){return e.requestStatus===1&&e.requestTime+BB<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _oe(e){return M(this,void 0,void 0,function(){var t,n,r;return D(this,function(i){switch(i.label){case 0:return[4,uR(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):lR(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function boe(e,t){return t===void 0&&(t=!1),M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,Eoe(e.appConfig)];case 1:return r.sent(),[4,lR(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function Eoe(e){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return[4,uR(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Soe(e,t){return M(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return n=Toe(e,t),r=GB(e,t),i={method:"DELETE",headers:r},[4,oR(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,iR("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function Toe(e,t){var n=t.fid;return rR(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ioe(e){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,vv(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw vs.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw vs.create("app-offline");case 3:return[4,Soe(t,n)];case 4:return r.sent(),[4,aR(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Coe(e,t){var n=e.appConfig;return noe(n,t),function(){roe(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function koe(e){var t,n;if(!e||!e.options)throw RE("App Configuration");if(!e.name)throw RE("App Name");var r=["projectId","apiKey","appId"];try{for(var i=An(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!e.options[a])throw RE(a)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function RE(e){return vs.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xoe(e){var t="installations";e.INTERNAL.registerComponent(new fr(t,function(n){var r=n.getProvider("app").getImmediate(),i=koe(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},u={app:r,getId:function(){return _oe(a)},getToken:function(c){return boe(a,c)},delete:function(){return Ioe(a)},onIdChange:function(c){return Coe(a,c)}};return u},"PUBLIC")),e.registerVersion(zie,VB)}xoe(ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,Roe=(dn={},dn["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dn["only-available-in-window"]="This method is available in a Window context.",dn["only-available-in-sw"]="This method is available in a service worker context.",dn["permission-default"]="The notification permission was not granted and dismissed instead.",dn["permission-blocked"]="The notification permission was not granted and blocked instead.",dn["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",dn["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",dn["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",dn["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",dn["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",dn["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",dn["token-update-no-token"]="FCM returned no token when updating the user to push.",dn["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",dn["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",dn["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",dn["invalid-vapid-key"]="The public VAPID key must be a string.",dn["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",dn),ft=new ws("messaging","Messaging",Roe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Noe="/firebase-messaging-sw.js",Aoe="/firebase-cloud-messaging-push-scope",Qy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Poe="https://fcmregistrations.googleapis.com/v1",n6="FCM_MSG",Ooe="FirebaseMessaging: ",Doe="google.c.a.e",r6="google.c.a.c_id",Moe="google.c.a.ts",Loe="google.c.a.c_l",Foe=1e3,$oe=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var rl;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(rl||(rl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,je([],Bn(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Uoe(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NE="fcm_token_details_db",joe=5,QL="fcm_token_object_Store";function Voe(e){return M(this,void 0,void 0,function(){var t,n,r,i,o=this;return D(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(u){return u.name}),!n.includes(NE))return[2,null];a.label=2;case 2:return r=null,[4,nR(NE,joe,function(u){return M(o,void 0,void 0,function(){var c,f,d,d,d,p;return D(this,function(g){switch(g.label){case 0:return u.oldVersion<2?[2]:u.objectStoreNames.contains(QL)?(c=u.transaction.objectStore(QL),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return f=g.sent(),[4,c.clear()];case 2:if(g.sent(),!f)return[2];if(u.oldVersion===2){if(d=f,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(p=d.createTime)!==null&&p!==void 0?p:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Yo(d.vapidKey)}}}else u.oldVersion===3?(d=f,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Yo(d.auth),p256dh:Yo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Yo(d.vapidKey)}}):u.oldVersion===4&&(d=f,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Yo(d.auth),p256dh:Yo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Yo(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,kE(NE)];case 4:return a.sent(),[4,kE("fcm_vapid_details_db")];case 5:return a.sent(),[4,kE("undefined")];case 6:return a.sent(),[2,Boe(r)?r:null]}})})}function Boe(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zoe="firebase-messaging-database",qoe=1,il="firebase-messaging-store",AE=null;function cR(){return AE||(AE=nR(zoe,qoe,function(e){switch(e.oldVersion){case 0:e.createObjectStore(il)}})),AE}function Yy(e){return M(this,void 0,void 0,function(){var t,n,r,i;return D(this,function(o){switch(o.label){case 0:return t=hR(e),[4,cR()];case 1:return n=o.sent(),[4,n.transaction(il).objectStore(il).get(t)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,Voe(e.appConfig.senderId)];case 4:return i=o.sent(),i?[4,fR(e,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function fR(e,t){return M(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return n=hR(e),[4,cR()];case 1:return r=o.sent(),i=r.transaction(il,"readwrite"),[4,i.objectStore(il).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}})})}function Woe(e){return M(this,void 0,void 0,function(){var t,n,r;return D(this,function(i){switch(i.label){case 0:return t=hR(e),[4,cR()];case 1:return n=i.sent(),r=n.transaction(il,"readwrite"),[4,r.objectStore(il).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function hR(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hoe(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return D(this,function(f){switch(f.label){case 0:return[4,pR(e)];case 1:n=f.sent(),r=o6(t),i={method:"POST",headers:n,body:JSON.stringify(r)},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(dR(e.appConfig),i)];case 3:return a=f.sent(),[4,a.json()];case 4:return o=f.sent(),[3,6];case 5:throw u=f.sent(),ft.create("token-subscribe-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,ft.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw ft.create("token-subscribe-no-token");return[2,o.token]}})})}function Koe(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return D(this,function(f){switch(f.label){case 0:return[4,pR(e)];case 1:n=f.sent(),r=o6(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(dR(e.appConfig)+"/"+t.token,i)];case 3:return a=f.sent(),[4,a.json()];case 4:return o=f.sent(),[3,6];case 5:throw u=f.sent(),ft.create("token-update-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,ft.create("token-update-failed",{errorInfo:c});if(!o.token)throw ft.create("token-update-no-token");return[2,o.token]}})})}function i6(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,u;return D(this,function(c){switch(c.label){case 0:return[4,pR(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(dR(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(o=c.sent(),o.error)throw a=o.error.message,ft.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw u=c.sent(),ft.create("token-unsubscribe-failed",{errorInfo:u});case 6:return[2]}})})}function dR(e){var t=e.projectId;return Poe+"/projects/"+t+"/registrations"}function pR(e){var t=e.appConfig,n=e.installations;return M(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function o6(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Qy&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Goe=7*24*60*60*1e3;function gI(e,t,n){return M(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(u){switch(u.label){case 0:if(Notification.permission!=="granted")throw ft.create("permission-blocked");return[4,Yoe(t,n)];case 1:return r=u.sent(),[4,Yy(e)];case 2:return i=u.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Yo(r.getKey("auth")),p256dh:Yo(r.getKey("p256dh"))},i?[3,3]:[2,YL(e,o)];case 3:if(Xoe(i.subscriptionOptions,o))return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,i6(e,i.token)];case 5:return u.sent(),[3,7];case 6:return a=u.sent(),console.warn(a),[3,7];case 7:return[2,YL(e,o)];case 8:return Date.now()>=i.createTime+Goe?[2,Qoe({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}})})}function Ed(e,t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,Yy(e)];case 1:return n=i.sent(),n?[4,i6(e,n.token)]:[3,4];case 2:return i.sent(),[4,Woe(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function Qoe(e,t,n){return M(this,void 0,void 0,function(){var r,i,o;return D(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Koe(t,e)];case 1:return r=a.sent(),i=Se(Se({},e),{token:r,createTime:Date.now()}),[4,fR(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Ed(t,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function YL(e,t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,Hoe(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,fR(e,r)];case 2:return i.sent(),[2,r.token]}})})}function Yoe(e,t){return M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uoe(t)})]}})})}function Xoe(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Joe(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return Zoe(t,e),ese(t,e),tse(t,e),t}function Zoe(e,t){if(!!t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function ese(e,t){!t.data||(e.data=t.data)}function tse(e,t){if(!!t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(e){return typeof e=="object"&&!!e&&r6 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nse=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw ft.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return M(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Yy(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Qy,i.label=2;case 2:return[2,gI(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Ed(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw ft.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw ft.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw ft.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw ft.create("only-available-in-window")},e.prototype.onMessage=function(){throw ft.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw ft.create("only-available-in-window")},e.prototype.onPush=function(t){return M(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return n=ise(t),n?[4,a6()]:(console.debug(Ooe+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),sse(r)?[2,ase(r,n)]:(i=!1,n.notification?[4,use(rse(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=Joe(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,XL(Foe)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return M(this,void 0,void 0,function(){var i,o;return D(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Ed(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Yy(this.firebaseDependencies)];case 3:return o=a.sent(),[4,Ed(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,gI(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Qy)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return M(this,void 0,void 0,function(){var i,o,a,u,c;return D(this,function(f){switch(f.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[n6],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),o=lse(i),o?(a=new URL(o,self.location.href),u=new URL(self.location.origin),a.host!==u.host?[2]:[4,ose(a)]):[2];case 1:return c=f.sent(),c?[3,4]:[4,self.clients.openWindow(o)];case 2:return c=f.sent(),[4,XL($oe)];case 3:return f.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=f.sent(),f.label=6;case 6:return c?(i.messageType=rl.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function rse(e){var t,n=Se({},e.notification);return n.data=(t={},t[n6]=e,t),n}function ise(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function ose(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,u;return D(this,function(c){switch(c.label){case 0:return[4,a6()];case 1:t=c.sent();try{for(n=An(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(f){a={error:f}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function sse(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function ase(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=rl.PUSH_RECEIVED;try{for(var i=An(e),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(t)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function a6(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function use(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function lse(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(s6(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cse=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===rl.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(hse(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,s6(r)&&r[Doe]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return M(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw ft.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,gI(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return M(this,void 0,void 0,function(){return D(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Qy),[2]})})},e.prototype.updateSwReg=function(t){return M(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&!!this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw ft.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(Noe,{scope:Aoe})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),ft.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return M(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Ed(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?ft.create("permission-blocked"):ft.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw ft.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw ft.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw ft.create("invalid-sw-registration");if(this.swRegistration)throw ft.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw ft.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw ft.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return M(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return r=fse(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[r6],message_name:n[Loe],message_time:n[Moe],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function fse(e){switch(e){case rl.NOTIFICATION_CLICKED:return"notification_open";case rl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function hse(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dse(e){var t,n;if(!e||!e.options)throw PE("App Configuration Object");if(!e.name)throw PE("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var o=An(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(!i[u])throw PE(u)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function PE(e){return ft.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pse="messaging";function vse(e){var t=e.getProvider("app").getImmediate(),n=dse(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),o={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!u6())throw ft.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new nse(o):new cse(o)}var gse={isSupported:u6};ge.INTERNAL.registerComponent(new fr(pse,vse,"PUBLIC").setServiceProps(gse));function u6(){return self&&"ServiceWorkerGlobalScope"in self?yse():mse()}function mse(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function yse(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l6="firebasestorage.googleapis.com",c6="storageBucket",wse=2*60*1e3,_se=10*60*1e3,ln=function(e){oe(t,e);function t(n,r){var i=e.call(this,OE(n),"Firebase Storage: "+r+" ("+OE(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return OE(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(bf);function OE(e){return"storage/"+e}function vR(){var e="An unknown error occurred, please check the error payload for server response.";return new ln("unknown",e)}function bse(e){return new ln("object-not-found","Object '"+e+"' does not exist.")}function Ese(e){return new ln("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Sse(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ln("unauthenticated",e)}function Tse(){return new ln("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Ise(e){return new ln("unauthorized","User does not have permission to access '"+e+"'.")}function Cse(){return new ln("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function f6(){return new ln("canceled","User canceled the upload/download.")}function kse(e){return new ln("invalid-url","Invalid URL '"+e+"'.")}function xse(e){return new ln("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Rse(){return new ln("no-default-bucket","No default bucket found. Did you set the '"+c6+"' property when initializing the app?")}function h6(){return new ln("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Nse(){return new ln("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Ase(){return new ln("no-download-url","The given file does not have any download URLs.")}function Nc(e){return new ln("invalid-argument",e)}function d6(){return new ln("app-deleted","The Firebase app was deleted.")}function p6(e){return new ln("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sd(e,t){return new ln("invalid-format","String does not match format '"+e+"': "+t)}function im(e){throw new ln("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pse(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},DE=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function v6(e,t){switch(e){case xi.RAW:return new DE(g6(t));case xi.BASE64:case xi.BASE64URL:return new DE(m6(e,t));case xi.DATA_URL:return new DE(Dse(t),Mse(t))}throw vR()}function g6(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var o=r,a=e.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Ose(e){var t;try{t=decodeURIComponent(e)}catch{throw Sd(xi.DATA_URL,"Malformed data URL.")}return g6(t)}function m6(e,t){switch(e){case xi.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Sd(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case xi.BASE64URL:{var o=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw Sd(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var u;try{u=Pse(t)}catch{throw Sd(e,"Invalid character found")}for(var c=new Uint8Array(u.length),f=0;f<u.length;f++)c[f]=u.charCodeAt(f);return c}var y6=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Sd(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=Lse(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Dse(e){var t=new y6(e);return t.base64?m6(xi.BASE64,t.rest):Ose(t.rest)}function Mse(e){var t=new y6(e);return t.contentType}function Lse(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fse={STATE_CHANGED:"state_changed"},br={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ME(e){switch(e){case"running":case"pausing":case"canceling":return br.RUNNING;case"paused":return br.PAUSED;case"success":return br.SUCCESS;case"canceled":return br.CANCELED;case"error":return br.ERROR;default:return br.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uu;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Uu||(Uu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $se=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Uu.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Uu.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Uu.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw im("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw im("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw im("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw im("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function Use(){return new $se}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jse=function(){function e(){}return e.prototype.createConnection=function(){return Use()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw xse(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}var a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}for(var d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp("^https?://"+p+"/"+d+"/b/"+i+"/o"+g,"i"),w={bucket:1,path:3},_=n===l6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",b=new RegExp("^https?://"+_+"/"+i+"/"+T,"i"),S={bucket:1,path:2},C=[{regex:u,indices:c,postModify:o},{regex:m,indices:w,postModify:f},{regex:b,indices:S,postModify:f}],O=0;O<C.length;O++){var P=C[O],R=P.regex.exec(t);if(R){var F=R[P.indices.bucket],L=R[P.indices.path];L||(L=""),r=new e(F,L),P.postModify(r);break}}if(r==null)throw kse(t);return r},e}(),Vse=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bse(e,t,n){var r=1,i=null,o=!1,a=0;function u(){return a===2}var c=!1;function f(){for(var w=[],_=0;_<arguments.length;_++)w[_]=arguments[_];c||(c=!0,t.apply(null,w))}function d(w){i=setTimeout(function(){i=null,e(p,u())},w)}function p(w){for(var _=[],T=1;T<arguments.length;T++)_[T-1]=arguments[T];if(!c){if(w){f.call.apply(f,je([null,w],_));return}var b=u()||o;if(b){f.call.apply(f,je([null,w],_));return}r<64&&(r*=2);var S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}}var g=!1;function m(w){g||(g=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),setTimeout(function(){o=!0,m(!0)},n),m}function zse(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qse(e){return e!==void 0}function Wse(e){return typeof e=="function"}function Hse(e){return typeof e=="object"&&!Array.isArray(e)}function Uw(e){return typeof e=="string"||e instanceof String}function JL(e){return gR()&&e instanceof Blob}function gR(){return typeof Blob<"u"}function mI(e,t,n,r){if(r<t)throw Nc("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Nc("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function w6(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kse=function(){function e(t,n,r,i,o,a,u,c,f,d,p){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=u,this.errorCallback_=c,this.progressCallback_=d,this.timeout_=f,this.pool_=p,this.promise_=new Promise(function(m,w){g.resolve_=m,g.reject_=w,g.start_()})}return e.prototype.start_=function(){var t=this;function n(i,o){if(o){i(!1,new om(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function u(c){var f=c.loaded,d=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(f,d)}t.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(u),t.pendingConnection_=null;var c=a.getErrorCode()===Uu.NO_ERROR,f=a.getStatus();if(!c||t.isRetryStatusCode_(f)){var d=a.getErrorCode()===Uu.ABORT;i(!1,new om(!1,null,d));return}var p=t.successCodes_.indexOf(f)!==-1;i(!0,new om(p,a))})}function r(i,o){var a=t.resolve_,u=t.reject_,c=o.connection;if(o.wasSuccessCode)try{var f=t.callback_(c,c.getResponseText());qse(f)?a(f):a()}catch(p){u(p)}else if(c!==null){var d=vR();d.serverResponse=c.getResponseText(),t.errorCallback_?u(t.errorCallback_(c,d)):u(d)}else if(o.canceled){var d=t.appDelete_?d6():f6();u(d)}else{var d=Cse();u(d)}}this.canceled_?r(!1,new om(!1,null,!0)):this.backoffId_=Bse(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&zse(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,o=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||o},e}(),om=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function Gse(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Qse(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function Yse(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Xse(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Jse(e,t,n,r,i,o){var a=w6(e.urlParams),u=e.url+a,c=Object.assign({},e.headers);return Yse(c,t),Gse(c,n),Qse(c,o),Xse(c,r),new Kse(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zse(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Zse();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(gR())return new Blob(e);throw new ln("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function tae(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mR=function(){function e(t,n){var r=0,i="";JL(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(JL(this.data_)){var r=this.data_,i=tae(r,t,n);return i===null?null:new e(i)}else{var o=new Uint8Array(this.data_.buffer,t,n-t);return new e(o,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(gR()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(eae.apply(null,r))}else{var i=t.map(function(c){return Uw(c)?v6(xi.RAW,c).data:c.data_}),o=0;i.forEach(function(c){o+=c.byteLength});var a=new Uint8Array(o),u=0;return i.forEach(function(c){for(var f=0;f<c.length;f++)a[u++]=c[f]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(e){var t;try{t=JSON.parse(e)}catch{return null}return Hse(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nae(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function rae(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function _6(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iae(e,t){return t}var mr=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||iae}return e}(),sm=null;function oae(e){return!Uw(e)||e.length<2?e:_6(e)}function jw(){if(sm)return sm;var e=[];e.push(new mr("bucket")),e.push(new mr("generation")),e.push(new mr("metageneration")),e.push(new mr("name","fullPath",!0));function t(o,a){return oae(a)}var n=new mr("name");n.xform=t,e.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new mr("size");return i.xform=r,e.push(i),e.push(new mr("timeCreated")),e.push(new mr("updated")),e.push(new mr("md5Hash",null,!0)),e.push(new mr("cacheControl",null,!0)),e.push(new mr("contentDisposition",null,!0)),e.push(new mr("contentEncoding",null,!0)),e.push(new mr("contentLanguage",null,!0)),e.push(new mr("contentType",null,!0)),e.push(new mr("metadata","customMetadata",!0)),sm=e,sm}function sae(e,t){function n(){var r=e.bucket,i=e.fullPath,o=new Ri(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function aae(e,t,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return sae(r,e),r}function b6(e,t,n){var r=yR(t);if(r===null)return null;var i=r;return aae(e,i,n)}function uae(e,t,n){var r=yR(t);if(r===null||!Uw(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),u=a.map(function(c){var f=e.bucket,d=e.fullPath,p="/b/"+o(f)+"/o/"+o(d),g=Va(p,n),m=w6({alt:"media",token:c});return g+m});return u[0]}function wR(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZL="prefixes",eF="items";function lae(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ZL])for(var i=0,o=n[ZL];i<o.length;i++){var a=o[i],u=a.replace(/\/$/,""),c=e._makeStorageReference(new Ri(t,u));r.prefixes.push(c)}if(n[eF])for(var f=0,d=n[eF];f<d.length;f++){var p=d[f],c=e._makeStorageReference(new Ri(t,p.name));r.items.push(c)}return r}function cae(e,t,n){var r=yR(n);if(r===null)return null;var i=r;return lae(e,t,i)}var Es=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(e){if(!e)throw vR()}function Vw(e,t){function n(r,i){var o=b6(e,i,t);return Po(o!==null),o}return n}function fae(e,t){function n(r,i){var o=cae(e,t,i);return Po(o!==null),o}return n}function hae(e,t){function n(r,i){var o=b6(e,i,t);return Po(o!==null),uae(o,i,e.host)}return n}function Ff(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=Tse():i=Sse():n.getStatus()===402?i=Ese(e.bucket):n.getStatus()===403?i=Ise(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function Bw(e){var t=Ff(e);function n(r,i){var o=t(r,i);return r.getStatus()===404&&(o=bse(e.path)),o.serverResponse=i.serverResponse,o}return n}function E6(e,t,n){var r=t.fullServerUrl(),i=Va(r,e.host),o="GET",a=e.maxOperationRetryTime,u=new Es(i,o,Vw(e,n),a);return u.errorHandler=Bw(t),u}function dae(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=t.bucketOnlyServerUrl(),u=Va(a,e.host),c="GET",f=e.maxOperationRetryTime,d=new Es(u,c,fae(e,t.bucket),f);return d.urlParams=o,d.errorHandler=Ff(t),d}function pae(e,t,n){var r=t.fullServerUrl(),i=Va(r,e.host),o="GET",a=e.maxOperationRetryTime,u=new Es(i,o,hae(e,n),a);return u.errorHandler=Bw(t),u}function vae(e,t,n,r){var i=t.fullServerUrl(),o=Va(i,e.host),a="PATCH",u=wR(n,r),c={"Content-Type":"application/json; charset=utf-8"},f=e.maxOperationRetryTime,d=new Es(o,a,Vw(e,r),f);return d.headers=c,d.body=u,d.errorHandler=Bw(t),d}function gae(e,t){var n=t.fullServerUrl(),r=Va(n,e.host),i="DELETE",o=e.maxOperationRetryTime;function a(c,f){}var u=new Es(r,i,a,o);return u.successCodes=[200,204],u.errorHandler=Bw(t),u}function mae(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function S6(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=mae(null,t)),r}function yae(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){for(var C="",O=0;O<2;O++)C=C+Math.random().toString().slice(2);return C}var c=u();a["Content-Type"]="multipart/related; boundary="+c;var f=S6(t,r,i),d=wR(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+c+"--",m=mR.getBlob(p,r,g);if(m===null)throw h6();var w={name:f.fullPath},_=Va(o,e.host),T="POST",b=e.maxUploadRetryTime,S=new Es(_,T,Vw(e,n),b);return S.urlParams=w,S.headers=a,S.body=m.uploadData(),S.errorHandler=Ff(t),S}var Xy=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function _R(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Po(!1)}var r=t||["active"];return Po(!!n&&r.indexOf(n)!==-1),n}function wae(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=S6(t,r,i),u={name:a.fullPath},c=Va(o,e.host),f="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},p=wR(a,n),g=e.maxUploadRetryTime;function m(_){_R(_);var T;try{T=_.getResponseHeader("X-Goog-Upload-URL")}catch{Po(!1)}return Po(Uw(T)),T}var w=new Es(c,f,m,g);return w.urlParams=u,w.headers=d,w.body=p,w.errorHandler=Ff(t),w}function _ae(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function o(f){var d=_R(f,["active","final"]),p=null;try{p=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Po(!1)}p||Po(!1);var g=Number(p);return Po(!isNaN(g)),new Xy(g,r.size(),d==="final")}var a="POST",u=e.maxUploadRetryTime,c=new Es(n,a,o,u);return c.headers=i,c.errorHandler=Ff(t),c}var tF=256*1024;function bae(e,t,n,r,i,o,a,u){var c=new Xy(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Nse();var f=c.total-c.current,d=f;i>0&&(d=Math.min(d,i));var p=c.current,g=p+d,m=d===f?"upload, finalize":"upload",w={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":""+c.current},_=r.slice(p,g);if(_===null)throw h6();function T(O,P){var R=_R(O,["active","final"]),F=c.current+d,L=r.size(),$;return R==="final"?$=Vw(t,o)(O,P):$=null,new Xy(F,L,R==="final",$)}var b="POST",S=t.maxUploadRetryTime,C=new Es(n,b,T,S);return C.headers=w,C.body=_.uploadData(),C.progressCallback=u||null,C.errorHandler=Ff(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eae=function(){function e(t,n,r){var i=Wse(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T6=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=jw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":t(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=wae(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=_ae(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(o,r,i);t._request=a,a.getPromise().then(function(u){u=u,t._request=void 0,t._updateProgress(u.current),t._needToFetchStatus=!1,u.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=tF*this._chunkMultiplier,r=new Xy(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var u;try{u=bae(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(f){t._error=f,t._transition("error");return}var c=t._ref.storage._makeRequest(u,o,a);t._request=c,c.getPromise().then(function(f){t._increaseMultiplier(),t._request=void 0,t._updateProgress(f.current),f.finalized?(t._metadata=f.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=tF*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=E6(t._ref.storage,t._ref._location,t._mappings),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=yae(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=f6(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=ME(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var o=this,a=new Eae(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(ME(this._state)){case br.SUCCESS:Xl(this._resolve.bind(null,this.snapshot))();break;case br.CANCELED:case br.ERROR:var n=this._reject;Xl(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=ME(this._state);switch(n){case br.RUNNING:case br.PAUSED:t.next&&Xl(t.next.bind(t,this.snapshot))();break;case br.SUCCESS:t.complete&&Xl(t.complete.bind(t))();break;case br.CANCELED:case br.ERROR:t.error&&Xl(t.error.bind(t,this._error))();break;default:t.error&&Xl(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zw=function(){function e(t,n){this._service=t,n instanceof Ri?this._location=n:this._location=Ri.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Ri(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return _6(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=nae(this._location.path);if(t===null)return null;var n=new Ri(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw p6(t)},e}();function Sae(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new T6(e,new mR(t),n)}function Tae(e){var t={prefixes:[],items:[]};return I6(e,t).then(function(){return t})}function I6(e,t,n){return M(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(u){switch(u.label){case 0:return r={pageToken:n},[4,C6(e,r)];case 1:return i=u.sent(),(o=t.prefixes).push.apply(o,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,I6(e,t,i.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function C6(e,t){return M(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&mI("options.maxResults",1,1e3,t.maxResults),n=t||{},r=dae(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function Iae(e){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=E6(e.storage,e._location,jw()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Cae(e,t){return M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=vae(e.storage,e._location,t,jw()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function kae(e){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=pae(e.storage,e._location,jw()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw Ase();return r})]}})})}function xae(e){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=gae(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function k6(e,t){var n=rae(e._location.path,t),r=new Ri(e._location.bucket,n);return new zw(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(e){return/^[A-Za-z]+:\/\//.test(e)}function Rae(e,t){return new zw(e,t)}function x6(e,t){if(e instanceof qw){var n=e;if(n._bucket==null)throw Rse();var r=new zw(n,n._bucket);return t!=null?x6(r,t):r}else return t!==void 0?k6(e,t):e}function Nae(e,t){if(t&&yI(t)){if(e instanceof qw)return Rae(e,t);throw Nc("To use ref(service, url), the first argument must be a Storage instance.")}else return x6(e,t)}function nF(e,t){var n=t==null?void 0:t[c6];return n==null?null:Ri.makeFromBucketSpec(n,e)}function Aae(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:ZC(i,e.app.options.projectId))}var qw=function(){function e(t,n,r,i,o,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=l6,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wse,this._maxUploadRetryTime=_se,this._requests=new Set,o!=null?this._bucket=Ri.makeFromBucketSpec(o,this._host):this._bucket=nF(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Ri.makeFromBucketSpec(this._url,t):this._bucket=nF(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){mI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){mI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new zw(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new Vse(d6());var o=Jse(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},e.prototype.makeRequestWithTokens=function(t){return M(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(e,t,n){return e=Ue(e),Sae(e,t,n)}function Oae(e){return e=Ue(e),Iae(e)}function Dae(e,t){return e=Ue(e),Cae(e,t)}function Mae(e,t){return e=Ue(e),C6(e,t)}function Lae(e){return e=Ue(e),Tae(e)}function Fae(e){return e=Ue(e),kae(e)}function $ae(e){return e=Ue(e),xae(e)}function rF(e,t){return e=Ue(e),Nae(e,t)}function Uae(e,t){return k6(e,t)}function jae(e,t,n,r){r===void 0&&(r={}),Aae(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var am=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iF=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new am(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new am(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(u){return n(new am(u,o,o._ref))}:a={next:n.next?function(u){return n.next(new am(u,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),oF=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new yp(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new yp(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yp=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Uae(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new iF(Pae(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=xi.RAW),this._throwIfRoot("putString");var i=v6(n,t),o=Se({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new iF(new T6(this._delegate,new mR(i.data,!0),o),this)},e.prototype.listAll=function(){var t=this;return Lae(this._delegate).then(function(n){return new oF(n,t.storage)})},e.prototype.list=function(t){var n=this;return Mae(this._delegate,t||void 0).then(function(r){return new oF(r,n.storage)})},e.prototype.getMetadata=function(){return Oae(this._delegate)},e.prototype.updateMetadata=function(t){return Dae(this._delegate,t)},e.prototype.getDownloadURL=function(){return Fae(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),$ae(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw p6(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vae=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(yI(t))throw Nc("ref() expected a child path but got a URL, use refFromURL instead.");return new yp(rF(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!yI(t))throw Nc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ri.makeFromUrl(t,this._delegate.host)}catch{throw Nc("refFromUrl() expected a valid full URL but got an invalid one.")}return new yp(rF(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),jae(this._delegate,t,n,r)},e}(),Bae="@firebase/storage",zae="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qae="storage";function Wae(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal"),a=new Vae(r,new qw(r,i,o,new jse,n,ge.SDK_VERSION));return a}function Hae(e){var t={TaskState:br,TaskEvent:Fse,StringFormat:xi,Storage:qw,Reference:yp};e.INTERNAL.registerComponent(new fr(qae,Wae,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Bae,zae)}Hae(ge);var Kae="@firebase/performance",R6="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N6=R6,Gae="FB-PERF-TRACE-START",Qae="FB-PERF-TRACE-STOP",wI="FB-PERF-TRACE-MEASURE",A6="_wt_",P6="_fp",O6="_fcp",D6="_fid",M6="@firebase/performance/config",L6="@firebase/performance/configexpire",Yae="performance",F6="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn,Xae=(Fn={},Fn["trace started"]="Trace {$traceName} was started before.",Fn["trace stopped"]="Trace {$traceName} is not running.",Fn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Fn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Fn["no window"]="Window is not available.",Fn["no app id"]="App id is not available.",Fn["no project id"]="Project id is not available.",Fn["no api key"]="Api key is not available.",Fn["invalid cc log"]="Attempted to queue invalid cc event",Fn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Fn["RC response not ok"]="RC response is not ok",Fn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Fn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Fn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Fn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Fn),rr=new ws(Yae,F6,Xae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs=new cl(F6);gs.logLevel=qe.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LE,$6,ur=function(){function e(t){if(this.window=t,!t)throw rr.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(gs.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):$p()?!0:(gs.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(!!this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var u=a[o];n(u)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return LE===void 0&&(LE=new e($6)),LE},e}();function Jae(e){$6=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(e,t){var n=e.length-t.length;if(n<0||n>1)throw rr.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FE,mn=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=sF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=sF("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw rr.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw rr.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw rr.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return FE===void 0&&(FE=new e),FE},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U6;function Zae(){var e=mn.getInstance().installationsService.getId();return e.then(function(t){U6=t}),e}function bR(){return U6}function eue(){var e=mn.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ac;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Ac||(Ac={}));var tue=["firebase_","google_","ga_"],nue=new RegExp("^[a-zA-Z]\\w*$"),rue=40,iue=100;function oue(){var e=ur.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function j6(){var e=ur.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Ac.VISIBLE;case"hidden":return Ac.HIDDEN;default:return Ac.UNKNOWN}}function sue(){var e=ur.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function aue(e){if(e.length===0||e.length>rue)return!1;var t=tue.some(function(n){return e.startsWith(n)});return!t&&!!e.match(nue)}function uue(e){return e.length!==0&&e.length<=iue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lue="0.0.1",cue={loggingEnabled:!0},fue="FIREBASE_INSTALLATIONS_AUTH";function hue(e){var t=due();return t?(aF(t),Promise.resolve()):gue(e).then(aF).then(function(n){return pue(n)},function(){})}function due(){var e=ur.getInstance().localStorage;if(!!e){var t=e.getItem(L6);if(!(!t||!mue(t))){var n=e.getItem(M6);if(!!n)try{var r=JSON.parse(n);return r}catch{return}}}}function pue(e){var t=ur.getInstance().localStorage;!e||!t||(t.setItem(M6,JSON.stringify(e)),t.setItem(L6,String(Date.now()+mn.getInstance().configTimeToLive*60*60*1e3)))}var vue="Could not fetch config, will use default configs";function gue(e){return eue().then(function(t){var n=mn.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+mn.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:fue+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:mn.getInstance().getAppId(),app_version:N6,sdk_version:lue})});return fetch(i).then(function(o){if(o.ok)return o.json();throw rr.create("RC response not ok")})}).catch(function(){gs.info(vue)})}function aF(e){if(!e)return e;var t=mn.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=cue.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=uF(t.tracesSamplingRate),t.logNetworkAfterSampling=uF(t.networkRequestsSamplingRate),e}function mue(e){return Number(e)>Date.now()}function uF(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ER=1,$E;function V6(){return ER=2,$E=$E||wue(),$E}function yue(){return ER===3}function wue(){return _ue().then(function(){return Zae()}).then(function(e){return hue(e)}).then(function(){return lF()},function(){return lF()})}function _ue(){var e=ur.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function lF(){ER=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SR=10*1e3,bue=5.5*1e3,B6=3,Eue=1e3,Jy=B6,pa=[],cF=!1;function Sue(){cF||(Ww(bue),cF=!0)}function Ww(e){setTimeout(function(){if(Jy!==0){if(!pa.length)return Ww(SR);Tue()}},e)}function Tue(){var e=pa.splice(0,Eue),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:mn.getInstance().logSource,log_event:t};Iue(n,e).catch(function(){pa=je(je([],e),pa),Jy--,gs.info("Tries left: "+Jy+"."),Ww(SR)})}function Iue(e,t){return Cue(e).then(function(n){return n.ok||gs.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=SR;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(pa=je(je([],t),pa),gs.info("Retry transport request later.")),Jy=B6,Ww(i)})}function Cue(e){var t=mn.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function kue(e){if(!e.eventTime||!e.message)throw rr.create("invalid cc log");pa=je(je([],pa),[e])}function xue(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);kue({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UE;function z6(e,t){UE||(UE=xue(Nue)),UE(e,t)}function um(e){var t=mn.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||!ur.getInstance().requiredApisAvailable()||e.isAuto&&j6()!==Ac.VISIBLE||(yue()?jE(e):V6().then(function(){return jE(e)},function(){return jE(e)}))}function jE(e){if(!!bR()){var t=mn.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return z6(e,1)},0)}}function Rue(e){var t=mn.getInstance();if(!!t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return z6(e,0)},0)}}function Nue(e,t){return t===0?Aue(e):Pue(e)}function Aue(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:q6(),network_request_metric:t};return JSON.stringify(n)}function Pue(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:q6(),trace_metric:t};return JSON.stringify(r)}function q6(){return{google_app_id:mn.getInstance().getAppId(),app_instance_id:bR(),web_app_info:{sdk_version:N6,page_url:ur.getInstance().getUrl(),service_worker_status:oue(),visibility_state:j6(),effective_connection_type:sue()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oue=100,Due="_",Mue=[P6,O6,D6];function Lue(e,t){return e.length===0||e.length>Oue?!1:t&&t.startsWith(A6)&&Mue.indexOf(e)>-1||!e.startsWith(Due)}function Fue(e){var t=Math.floor(e);return t<e&&gs.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Td=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=ur.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=Gae+"-"+this.randomId+"-"+this.name,this.traceStopMark=Qae+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||wI+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw rr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw rr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),um(this)},e.prototype.record=function(t,n,r){if(t<=0)throw rr.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw rr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=Se({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}um(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(Lue(t,this.name))this.counters[t]=Fue(n);else throw rr.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=aue(t),i=uue(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw rr.create("invalid attribute name",{attributeName:t});if(!i)throw rr.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return Se({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=ur.getInstance().getUrl();if(!!i){var o=new e(A6+i,!0),a=Math.floor(ur.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(t[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var u="first-paint",c="first-contentful-paint";if(n){var f=n.find(function(p){return p.name===u});f&&f.startTime&&o.putMetric(P6,Math.floor(f.startTime*1e3));var d=n.find(function(p){return p.name===c});d&&d.startTime&&o.putMetric(O6,Math.floor(d.startTime*1e3)),r&&o.putMetric(D6,Math.floor(r*1e3))}um(o)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);um(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=ur.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,o=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],u={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};Rue(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $ue=5e3;function hF(){!bR()||(setTimeout(function(){return jue()},0),setTimeout(function(){return Uue()},0),setTimeout(function(){return Vue()},0))}function Uue(){for(var e=ur.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];fF(i)}e.setupObserver("resource",fF)}function jue(){var e=ur.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Td.createOobTrace(t,n),r=void 0},$ue);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Td.createOobTrace(t,n,i))})}else Td.createOobTrace(t,n)}function Vue(){for(var e=ur.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];dF(i)}e.setupObserver("measure",dF)}function dF(e){var t=e.name;t.substring(0,wI.length)!==wI&&Td.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bue=function(){function e(t){this.app=t,ur.getInstance().requiredApisAvailable()&&nk().then(function(n){n&&(Sue(),V6().then(hF,hF))}).catch(function(n){gs.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Td(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return mn.getInstance().instrumentationEnabled},set:function(t){mn.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return mn.getInstance().dataCollectionEnabled},set:function(t){mn.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zue="[DEFAULT]";function que(e){var t=function(n,r){if(n.name!==zue)throw rr.create("FB not default");if(typeof window>"u")throw rr.create("no window");return Jae(window),mn.getInstance().firebaseAppInstance=n,mn.getInstance().installationsService=r,new Bue(n)};e.INTERNAL.registerComponent(new fr("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(Kae,R6)}que(ge);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wue="firebase_id",Hue="origin",Kue=60*1e3,Gue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",W6="https://www.googletagmanager.com/gtag/js",lr;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(lr||(lr={}));var _I;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(_I||(_I={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Que(e,t,n,r,i){return M(this,void 0,void 0,function(){var o,a;return D(this,function(u){switch(u.label){case 0:return i&&i.global?(e(lr.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=u.sent(),a=Se(Se({},r),{send_to:o}),e(lr.EVENT,n,a),u.label=3;case 3:return[2]}})})}function Yue(e,t,n,r){return M(this,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return r&&r.global?(e(lr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(lr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function Xue(e,t,n,r){return M(this,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return r&&r.global?(e(lr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(lr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function Jue(e,t,n,r){return M(this,void 0,void 0,function(){var i,o,a,u,c;return D(this,function(f){switch(f.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)u=a[o],i["user_properties."+u]=n[u];return e(lr.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=f.sent(),e(lr.CONFIG,c,{update:!0,user_properties:n}),f.label=3;case 3:return[2]}})})}function Zue(e,t){return M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=new cl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ele(e,t){var n=document.createElement("script");n.src=W6+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function tle(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function nle(e,t,n,r,i,o){return M(this,void 0,void 0,function(){var a,u,c,f;return D(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=d.sent(),c=u.find(function(p){return p.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return f=d.sent(),Vn.error(f),[3,8];case 8:return e(lr.CONFIG,i,o),[2]}})})}function rle(e,t,n,r,i){return M(this,void 0,void 0,function(){var o,a,u,c,f,d,p,g,m;return D(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=w.sent(),c=function(_){var T=u.find(function(S){return S.measurementId===_}),b=T&&t[T.appId];if(b)o.push(b);else return o=[],"break"},f=0,d=a;f<d.length&&(p=d[f],g=c(p),g!=="break");f++);w.label=2;case 2:return o.length===0&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return w.sent(),e(lr.EVENT,r,i||{}),[3,5];case 4:return m=w.sent(),Vn.error(m),[3,5];case 5:return[2]}})})}function ile(e,t,n,r){function i(o,a,u){return M(this,void 0,void 0,function(){var c;return D(this,function(f){switch(f.label){case 0:return f.trys.push([0,6,,7]),o!==lr.EVENT?[3,2]:[4,rle(e,t,n,a,u)];case 1:return f.sent(),[3,5];case 2:return o!==lr.CONFIG?[3,4]:[4,nle(e,t,n,r,a,u)];case 3:return f.sent(),[3,5];case 4:e(lr.SET,a),f.label=5;case 5:return[3,7];case 6:return c=f.sent(),Vn.error(c),[3,7];case 7:return[2]}})})}return i}function ole(e,t,n,r,i){var o=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=ile(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function sle(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(W6))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yi,ale=(Yi={},Yi["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Yi["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Yi["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Yi["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Yi["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Yi["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Yi["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Yi["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Yi["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Yi),Di=new ws("analytics","Analytics",ale);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ule=30,lle=1e3,cle=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=lle),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),H6=new cle;function fle(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function hle(e){var t;return M(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return D(this,function(f){switch(f.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:fle(r)},o=Gue.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=f.sent(),!(a.status!==200&&a.status!==304))return[3,6];u="",f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.json()];case 3:return c=f.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(u=c.error.message),[3,5];case 4:return f.sent(),[3,5];case 5:throw Di.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u});case 6:return[2,a.json()]}})})}function dle(e,t,n){return t===void 0&&(t=H6),M(this,void 0,void 0,function(){var r,i,o,a,u,c,f=this;return D(this,function(d){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Di.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Di.create("no-api-key")}return u=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new gle,setTimeout(function(){return M(f,void 0,void 0,function(){return D(this,function(p){return c.abort(),[2]})})},n!==void 0?n:Kue),[2,K6({appId:i,apiKey:o,measurementId:a},u,c,t)]})})}function K6(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return r===void 0&&(r=H6),M(this,void 0,void 0,function(){var a,u,c,f,d,p,g;return D(this,function(m){switch(m.label){case 0:a=e.appId,u=e.measurementId,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,ple(n,i)];case 2:return m.sent(),[3,4];case 3:if(c=m.sent(),u)return Vn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:u}];throw c;case 4:return m.trys.push([4,6,,7]),[4,hle(e)];case 5:return f=m.sent(),r.deleteThrottleMetadata(a),[2,f];case 6:if(d=m.sent(),!vle(d)){if(r.deleteThrottleMetadata(a),u)return Vn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:u}];throw d}return p=Number(d.customData.httpStatus)===503?_T(o,r.intervalMillis,ule):_T(o,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:o+1},r.setThrottleMetadata(a,g),Vn.debug("Calling attemptFetch again in "+p+" millis"),[2,K6(e,g,n,r)];case 7:return[2]}})})}function ple(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(Di.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function vle(e){if(!(e instanceof bf)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var gle=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mle(){return M(this,void 0,void 0,function(){var e;return D(this,function(t){switch(t.label){case 0:return $p()?[3,1]:(Vn.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,nk()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Vn.warn(Di.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function yle(e,t,n,r,i,o){return M(this,void 0,void 0,function(){var a,u,c,f,d,p,g;return D(this,function(m){switch(m.label){case 0:return a=dle(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&Vn.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return Vn.error(w)}),t.push(a),u=mle().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,u])];case 1:return c=m.sent(),f=c[0],d=c[1],sle()||ele(o,f.measurementId),i("js",new Date),p=(g={},g[Hue]="firebase",g.update=!0,g),d!=null&&(p[Wue]=d),i(lr.CONFIG,f.measurementId,p),[2,f.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go={},pF=[],vF={},Dm="dataLayer",G6="gtag",gF,Uh,bI=!1;function wle(e){if(bI)throw Di.create("already-initialized");e.dataLayerName&&(Dm=e.dataLayerName),e.gtagName&&(G6=e.gtagName)}function _le(){var e=[];if(tk()&&e.push("This is a browser extension environment."),gU()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Di.create("invalid-analytics-context",{errorInfo:t});Vn.warn(n.message)}}function ble(e,t){_le();var n=e.options.appId;if(!n)throw Di.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Vn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Di.create("no-api-key");if(Go[n]!=null)throw Di.create("already-exists",{id:n});if(!bI){tle(Dm);var r=ole(Go,pF,vF,Dm,G6),i=r.wrappedGtag,o=r.gtagCore;Uh=i,gF=o,bI=!0}Go[n]=yle(e,pF,vF,t,gF,Dm);var a={app:e,logEvent:function(u,c,f){Que(Uh,Go[n],u,c,f).catch(function(d){return Vn.error(d)})},setCurrentScreen:function(u,c){Yue(Uh,Go[n],u,c).catch(function(f){return Vn.error(f)})},setUserId:function(u,c){Xue(Uh,Go[n],u,c).catch(function(f){return Vn.error(f)})},setUserProperties:function(u,c){Jue(Uh,Go[n],u,c).catch(function(f){return Vn.error(f)})},setAnalyticsCollectionEnabled:function(u){Zue(Go[n],u).catch(function(c){return Vn.error(c)})},INTERNAL:{delete:function(){return delete Go[n],Promise.resolve()}}};return a}var Ele="@firebase/analytics",Sle="0.6.18",mF="analytics";function Tle(e){e.INTERNAL.registerComponent(new fr(mF,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return ble(r,i)},"PUBLIC").setServiceProps({settings:wle,EventName:_I,isSupported:Ile})),e.INTERNAL.registerComponent(new fr("analytics-internal",t,"PRIVATE")),e.registerVersion(Ele,Sle);function t(n){try{var r=n.getProvider(mF).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Di.create("interop-component-reg-failed",{reason:i})}}}Tle(ge);function Ile(){return M(this,void 0,void 0,function(){var e;return D(this,function(t){switch(t.label){case 0:if(tk())return[2,!1];if(!gU())return[2,!1];if(!$p())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,nk()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cle=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return M(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=u.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return o=u.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return u.sent(),[2,o]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr,kle=(yr={},yr["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",yr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",yr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",yr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",yr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",yr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",yr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",yr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",yr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",yr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',yr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',yr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",yr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",yr),Ni=new ws("remoteconfig","Remote Config",kle);function xle(e,t){return e instanceof bf&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rle(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nle=function(){function e(t,n,r,i,o,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return e.prototype.fetch=function(t){return M(this,void 0,void 0,function(){var n,r,i,o,a,u,c,f,d,p,g,m,w,_,T,b,S,C,O;return D(this,function(P){switch(P.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=P.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Rle()},f={method:"POST",headers:u,body:JSON.stringify(c)},d=fetch(a,f),p=new Promise(function(R,F){t.signal.addEventListener(function(){var L=new Error("The operation was aborted.");L.name="AbortError",F(L)})}),P.label=2;case 2:return P.trys.push([2,5,,6]),[4,Promise.race([d,p])];case 3:return P.sent(),[4,d];case 4:return g=P.sent(),[3,6];case 5:throw m=P.sent(),w="fetch-client-network",m.name==="AbortError"&&(w="fetch-timeout"),Ni.create(w,{originalErrorMessage:m.message});case 6:if(_=g.status,T=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];C=void 0,P.label=7;case 7:return P.trys.push([7,9,,10]),[4,g.json()];case 8:return C=P.sent(),[3,10];case 9:throw O=P.sent(),Ni.create("fetch-client-parse",{originalErrorMessage:O.message});case 10:b=C.entries,S=C.state,P.label=11;case 11:if(S==="INSTANCE_STATE_UNSPECIFIED"?_=500:S==="NO_CHANGE"?_=304:(S==="NO_TEMPLATE"||S==="EMPTY_CONFIG")&&(b={}),_!==304&&_!==200)throw Ni.create("fetch-status",{httpStatus:_});return[2,{status:_,eTag:T,config:b}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ale=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ple=!1,Ole="",yF=0,Dle=["1","true","t","yes","y","on"],VE=function(){function e(t,n){n===void 0&&(n=Ole),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?Ple:Dle.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return yF;var t=Number(this._value);return isNaN(t)&&(t=yF),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mle=60*1e3,Lle=12*60*60*1e3,Fle=function(){function e(t,n,r,i,o){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Mle,minimumFetchIntervalMillis:Lle},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=qe.DEBUG;break;case"silent":this._logger.logLevel=qe.SILENT;break;default:this._logger.logLevel=qe.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return M(this,void 0,void 0,function(){var t,n,r;return D(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return M(this,void 0,void 0,function(){var t,n,r,i=this;return D(this,function(o){switch(o.label){case 0:t=new Ale,setTimeout(function(){return M(i,void 0,void 0,function(){return D(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=xle(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return M(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return $le(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new VE("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new VE("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new VE("static"))},e}();function $le(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(Se(Se({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(e,t){var n=e.target.error||void 0;return Ni.create(t,{originalErrorMessage:n&&n.message})}var pu="app_namespace_store",Ule="firebase_remote_config",jle=1;function Vle(){return new Promise(function(e,t){var n=indexedDB.open(Ule,jle);n.onerror=function(r){t(Mm(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pu,{keyPath:"compositeKey"})}}})}var Ble=function(){function e(t,n,r,i){i===void 0&&(i=Vle()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return M(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([pu],"readonly"),c=u.objectStore(pu),f=r.createCompositeKey(t);try{var d=c.get(f);d.onerror=function(p){a(Mm(p,"storage-get"))},d.onsuccess=function(p){var g=p.target.result;o(g?g.value:void 0)}}catch(p){a(Ni.create("storage-get",{originalErrorMessage:p&&p.message}))}})]}})})},e.prototype.set=function(t,n){return M(this,void 0,void 0,function(){var r,i=this;return D(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,u){var c=r.transaction([pu],"readwrite"),f=c.objectStore(pu),d=i.createCompositeKey(t);try{var p=f.put({compositeKey:d,value:n});p.onerror=function(g){u(Mm(g,"storage-set"))},p.onsuccess=function(){a()}}catch(g){u(Ni.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.delete=function(t){return M(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([pu],"readwrite"),c=u.objectStore(pu),f=r.createCompositeKey(t);try{var d=c.delete(f);d.onerror=function(p){a(Mm(p,"storage-delete"))},d.onsuccess=function(){o()}}catch(p){a(Ni.create("storage-delete",{originalErrorMessage:p&&p.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zle=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return M(this,void 0,void 0,function(){var t,n,r,i,o,a;return D(this,function(u){switch(u.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=u.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=u.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=u.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qle(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(Ni.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Wle(e){if(!(e instanceof bf)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Hle=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return M(this,void 0,void 0,function(){var o,a,u;return D(this,function(c){switch(c.label){case 0:return[4,qle(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return o=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,o];case 5:if(a=c.sent(),!Wle(a))throw a;return u={throttleEndTimeMillis:Date.now()+_T(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(u)];case 6:return c.sent(),[2,this.attemptFetch(t,u)];case 7:return[2]}})})},e}(),wF="@firebase/remote-config",Kle="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gle(e){e.INTERNAL.registerComponent(new fr("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(wF,Kle);function t(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Ni.create("registration-window");var u=o.options,c=u.projectId,f=u.apiKey,d=u.appId;if(!c)throw Ni.create("registration-project-id");if(!f)throw Ni.create("registration-api-key");if(!d)throw Ni.create("registration-app-id");i=i||"firebase";var p=new Ble(d,o.name,i),g=new zle(p),m=new cl(wF);m.logLevel=qe.ERROR;var w=new Nle(a,e.SDK_VERSION,i,c,f,d),_=new Hle(w,p),T=new Cle(_,p,g,m),b=new Fle(o,T,g,p,m);return b.ensureInitialized(),b}}Gle(ge);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xi,Qle=(Xi={},Xi["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Xi["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Xi["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Xi["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Xi["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Xi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Xi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Xi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Xi["recaptcha-error"]="ReCAPTCHA error.",Xi),ai=new ws("appCheck","AppCheck",Qle);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q6=new Map,Yle={activated:!1,tokenObservers:[]},Xle={enabled:!1};function Ar(e){return Q6.get(e)||Yle}function Oo(e,t){Q6.set(e,t)}function TR(){return Xle}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y6="https://content-firebaseappcheck.googleapis.com/v1beta",Jle="exchangeRecaptchaToken",Zle="exchangeDebugToken",_F={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ece=function(){function e(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return M(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new xn,[4,tce(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new xn,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function tce(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){return self.grecaptcha}function X6(e){if(!Ar(e).activated)throw ai.create("use-before-activation",{appName:e.name})}function nce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function rce(e){return V0.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(e,t){var n=e.url,r=e.body;return M(this,void 0,void 0,function(){var i,o,a,u,c,f,d,p,g,m;return D(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},o=t.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return u=w.sent(),[3,4];case 3:throw c=w.sent(),ai.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(u.status!==200)throw ai.create("fetch-status-error",{httpStatus:u.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,u.json()];case 6:return f=w.sent(),[3,8];case 7:throw d=w.sent(),ai.create("fetch-parse-error",{originalErrorMessage:d.message});case 8:if(p=f.ttl.match(/^([\d.]+)(s)$/),!p||!p[2]||isNaN(Number(p[1])))throw ai.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+f.ttl)});return g=Number(p[1])*1e3,m=Date.now(),[2,{token:f.attestationToken,expireTimeMillis:m+g,issuedAtTimeMillis:m}]}})})}function ice(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:Y6+"/projects/"+r+"/apps/"+i+":"+Jle+"?key="+o,body:{recaptcha_token:t}}}function oce(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:Y6+"/projects/"+r+"/apps/"+i+":"+Zle+"?key="+o,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sce="firebase-app-check-database",ace=1,wp="firebase-app-check-store",Z6="debug-token",lm=null;function ez(){return lm||(lm=new Promise(function(e,t){try{var n=indexedDB.open(sce,ace);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(ai.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(wp,{keyPath:"compositeKey"})}}}catch(r){t(ai.create("storage-open",{originalErrorMessage:r.message}))}}),lm)}function uce(e){return nz(rz(e))}function lce(e,t){return tz(rz(e),t)}function cce(e){return tz(Z6,e)}function fce(){return nz(Z6)}function tz(e,t){return M(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return[4,ez()];case 1:return n=a.sent(),r=n.transaction(wp,"readwrite"),i=r.objectStore(wp),o=i.put({compositeKey:e,value:t}),[2,new Promise(function(u,c){o.onsuccess=function(f){u()},r.onerror=function(f){var d;c(ai.create("storage-set",{originalErrorMessage:(d=f.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function nz(e){return M(this,void 0,void 0,function(){var t,n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,ez()];case 1:return t=o.sent(),n=t.transaction(wp,"readonly"),r=n.objectStore(wp),i=r.get(e),[2,new Promise(function(a,u){i.onsuccess=function(c){var f=c.target.result;a(f?f.value:void 0)},n.onerror=function(c){var f;u(ai.create("storage-get",{originalErrorMessage:(f=c.target.error)===null||f===void 0?void 0:f.message}))}})]}})})}function rz(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hw=new cl("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hce(e){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:if(!$p())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,uce(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),Hw.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function EF(e,t){return $p()?lce(e,t).catch(function(n){Hw.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function dce(){return M(this,void 0,void 0,function(){var e,t;return D(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fce()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=nce(),cce(t).catch(function(r){return Hw.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pce(){var e=TR();return e.enabled}function vce(){return M(this,void 0,void 0,function(){var e;return D(this,function(t){if(e=TR(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function gce(){var e=EQ();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=TR();t.enabled=!0;var n=new xn;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(dce())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mce={error:"UNKNOWN_ERROR"};function Zy(e,t,n){return n===void 0&&(n=!1),M(this,void 0,void 0,function(){var r,i,o,a,u,c,f,d,p,g;return D(this,function(m){switch(m.label){case 0:return X6(e),r=Ar(e),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=m.sent(),a&&_p(a)&&(i=a,Oo(e,Se(Se({},r),{token:i})),SF(e,{token:i.token})),m.label=2;case 2:return!n&&i&&_p(i)?[2,{token:i.token}]:pce()?(c=J6,f=oce,d=[e],[4,vce()]):[3,6];case 3:return[4,c.apply(void 0,[f.apply(void 0,d.concat([m.sent()])),t])];case 4:return u=m.sent(),[4,EF(e,u)];case 5:return m.sent(),Oo(e,Se(Se({},r),{token:u})),[2,{token:u.token}];case 6:return m.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=m.sent(),[3,9];case 8:return p=m.sent(),Hw.error(p),o=p,[3,9];case 9:return i?[3,10]:(g=wce(o),[3,12]);case 10:return g={token:i.token},Oo(e,Se(Se({},r),{token:i})),[4,EF(e,i)];case 11:m.sent(),m.label=12;case 12:return SF(e,g),[2,g]}})})}function iz(e,t,n,r,i){var o=Ar(e),a={next:r,error:i,type:n},u=Se(Se({},o),{tokenObservers:je(je([],o.tokenObservers),[a])});if(!u.tokenRefresher){var c=yce(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&_p(o.token)){var f=o.token;Promise.resolve().then(function(){return r({token:f.token})}).catch(function(){})}else o.token==null&&o.cachedTokenPromise.then(function(d){d&&_p(d)&&r({token:d.token})}).catch(function(){});Oo(e,u)}function IR(e,t){var n=Ar(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Oo(e,Se(Se({},n),{tokenObservers:r}))}function yce(e,t){var n=this;return new ece(function(){return M(n,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return r=Ar(e),r.token?[3,2]:[4,Zy(e,t)];case 1:return i=o.sent(),[3,4];case 2:return[4,Zy(e,t,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Ar(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},_F.RETRIAL_MIN_WAIT,_F.RETRIAL_MAX_WAIT)}function SF(e,t){for(var n=Ar(e).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{o.type==="EXTERNAL"&&t.error!=null?o.error(t.error):o.next(t)}catch{}}}function _p(e){return e.expireTimeMillis-Date.now()>0}function wce(e){return{token:rce(mce),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _ce="https://www.google.com/recaptcha/api.js";function bce(e,t){var n=Ar(e),r=new xn;Oo(e,Se(Se({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=bF();return a?a.ready(function(){TF(e,t,a,i),r.resolve(a)}):Sce(function(){var u=bF();if(!u)throw new Error("no recaptcha");u.ready(function(){TF(e,t,u,i),r.resolve(u)})}),r.promise}function Ece(e){return M(this,void 0,void 0,function(){var t,n;return D(this,function(r){switch(r.label){case 0:return X6(e),t=Ar(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=Ar(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function TF(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),o=Ar(e);Oo(e,Se(Se({},o),{reCAPTCHAState:Se(Se({},o.reCAPTCHAState),{widgetId:i})}))}function Sce(e){var t=document.createElement("script");t.src=""+_ce,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EI=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return M(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw ai.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Ece(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),ai.create("recaptcha-error");case 4:return[2,J6(ice(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,bce(t,this._siteKey).catch(function(){})},e}(),SI=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return M(this,void 0,void 0,function(){var t,n,r;return D(this,function(i){switch(i.label){case 0:if(!this._app)throw ai.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=CQ(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,Se(Se({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tce(e,t,n,r){var i=Ar(e);if(i.activated)throw ai.create("already-activated",{appName:e.name});var o=Se(Se({},i),{activated:!0});o.cachedTokenPromise=hce(e).then(function(a){return a&&_p(a)&&Oo(e,Se(Se({},Ar(e)),{token:a})),a}),typeof t=="string"?o.provider=new EI(t):t instanceof EI||t instanceof SI?o.provider=t:o.provider=new SI({getToken:t.getToken}),o.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,Oo(e,o),o.provider.initialize(e,n)}function Ice(e,t){var n=Ar(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Oo(e,Se(Se({},n),{isTokenAutoRefreshEnabled:t}))}function Cce(e,t,n){return M(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:return[4,Zy(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function kce(e,t,n,r,i){var o=function(){},a=function(){};return n.next!=null?o=n.next.bind(n):o=n,n.error!=null?a=n.error.bind(n):r&&(a=r),iz(e,t,"EXTERNAL",o,a),function(){return IR(e,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xce(e,t){return{app:e,activate:function(n,r){return Tce(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return Ice(e,n)},getToken:function(n){return Cce(e,t,n)},onTokenChanged:function(n,r,i){return kce(e,t,n,r)},INTERNAL:{delete:function(){for(var n=Ar(e).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];IR(e,o.next)}return Promise.resolve()}}}}function Rce(e,t){return{getToken:function(n){return Zy(e,t,n)},addTokenListener:function(n){return iz(e,t,"INTERNAL",n)},removeTokenListener:function(n){return IR(e,n)}}}var Nce="@firebase/app-check",Ace="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pce="appCheck",IF="app-check-internal";function Oce(e){e.INTERNAL.registerComponent(new fr(Pce,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return xce(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:EI,CustomProvider:SI}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(IF);i.initialize()})),e.INTERNAL.registerComponent(new fr(IF,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return Rce(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(Nce,Ace)}Oce(ge);gce();var Dce="firebase",oz="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ge.registerVersion(Dce,oz,"app");ge.SDK_VERSION=oz;var Mce="firebase",Lce="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ge.registerVersion(Mce,Lce);const Fce={apiKey:"AIzaSyAN_5wL9cLUEPZqZ0hc5gOmch8HcmUzGa8",authDomain:"twitterclone-799f6.firebaseapp.com",projectId:"twitterclone-799f6",storageBucket:"twitterclone-799f6.appspot.com",messagingSenderId:"697300445995",appId:"1:697300445995:web:1da4f7e5bb02ce0053b36e"};ge.initializeApp(Fce);const Kw=ge.auth(),Xt=ge.firestore(),$ce=ge.storage(),Uce=ge.firestore;var jce={black:"#000",white:"#fff"};const e0=jce;var Vce={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const BE=Vce;var Bce={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const zE=Bce;var zce={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const qE=zce;var qce={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const WE=qce;var Wce={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const HE=Wce;var Hce={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const KE=Hce;var Kce={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const CR=Kce;function t0(e){return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function GE(e){return e&&t0(e)==="object"&&e.constructor===Object}function pf(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=n.clone?ee({},e):e;return GE(e)&&GE(t)&&Object.keys(t).forEach(function(i){i!=="__proto__"&&(GE(t[i])&&i in e?r[i]=pf(e[i],t[i],n):r[i]=t[i])}),r}function Id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vf(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function kR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Gce(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&n[0].length===1&&(n=n.map(function(r){return r+r})),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function Qce(e){e=ol(e);var t=e,n=t.values,r=n[0],i=n[1]/100,o=n[2]/100,a=i*Math.min(o,1-o),u=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(p+r/30)%12;return o-a*Math.max(Math.min(g-3,9-g,1),-1)},c="rgb",f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(c+="a",f.push(n[3])),Gw({type:c,values:f})}function ol(e){if(e.type)return e;if(e.charAt(0)==="#")return ol(Gce(e));var t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla"].indexOf(n)===-1)throw new Error(vf(3,e));var r=e.substring(t+1,e.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:n,values:r}}function Gw(e){var t=e.type,n=e.values;return t.indexOf("rgb")!==-1?n=n.map(function(r,i){return i<3?parseInt(r,10):r}):t.indexOf("hsl")!==-1&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Yce(e,t){var n=CF(e),r=CF(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function CF(e){e=ol(e);var t=e.type==="hsl"?ol(Qce(e)).values:e.values;return t=t.map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function lu(e,t){return e=ol(e),t=kR(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.values[3]=t,Gw(e)}function Xce(e,t){if(e=ol(e),t=kR(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Gw(e)}function Jce(e,t){if(e=ol(e),t=kR(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Gw(e)}function Ke(e,t){if(e==null)return{};var n=Oa(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}var $s=["xs","sm","md","lg","xl"];function Zce(e){var t=e.values,n=t===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=r===void 0?"px":r,o=e.step,a=o===void 0?5:o,u=Ke(e,["values","unit","step"]);function c(m){var w=typeof n[m]=="number"?n[m]:m;return"@media (min-width:".concat(w).concat(i,")")}function f(m){var w=$s.indexOf(m)+1,_=n[$s[w]];if(w===$s.length)return c("xs");var T=typeof _=="number"&&w>0?_:m;return"@media (max-width:".concat(T-a/100).concat(i,")")}function d(m,w){var _=$s.indexOf(w);return _===$s.length-1?c(m):"@media (min-width:".concat(typeof n[m]=="number"?n[m]:m).concat(i,") and ")+"(max-width:".concat((_!==-1&&typeof n[$s[_+1]]=="number"?n[$s[_+1]]:w)-a/100).concat(i,")")}function p(m){return d(m,m)}function g(m){return n[m]}return ee({keys:$s,values:n,up:c,down:f,between:d,only:p,width:g},u)}function efe(e,t,n){var r;return ee({gutters:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),ee({paddingLeft:t(2),paddingRight:t(2)},o,Id({},e.up("sm"),ee({paddingLeft:t(3),paddingRight:t(3)},o[e.up("sm")])))},toolbar:(r={minHeight:56},Id(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Id(r,e.up("sm"),{minHeight:64}),r)},n)}var kF={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:e0.white,default:CR[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},QE={text:{primary:e0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:CR[800],default:"#303030"},action:{active:e0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function xF(e,t,n,r){var i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Jce(e.main,i):t==="dark"&&(e.dark=Xce(e.main,o)))}function tfe(e){var t=e.primary,n=t===void 0?{light:qE[300],main:qE[500],dark:qE[700]}:t,r=e.secondary,i=r===void 0?{light:zE.A200,main:zE.A400,dark:zE.A700}:r,o=e.error,a=o===void 0?{light:BE[300],main:BE[500],dark:BE[700]}:o,u=e.warning,c=u===void 0?{light:KE[300],main:KE[500],dark:KE[700]}:u,f=e.info,d=f===void 0?{light:WE[300],main:WE[500],dark:WE[700]}:f,p=e.success,g=p===void 0?{light:HE[300],main:HE[500],dark:HE[700]}:p,m=e.type,w=m===void 0?"light":m,_=e.contrastThreshold,T=_===void 0?3:_,b=e.tonalOffset,S=b===void 0?.2:b,C=Ke(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function O(L){var $=Yce(L,QE.text.primary)>=T?QE.text.primary:kF.text.primary;return $}var P=function($){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if($=ee({},$),!$.main&&$[k]&&($.main=$[k]),!$.main)throw new Error(vf(4,k));if(typeof $.main!="string")throw new Error(vf(5,JSON.stringify($.main)));return xF($,"light",H,S),xF($,"dark",J,S),$.contrastText||($.contrastText=O($.main)),$},R={dark:QE,light:kF},F=pf(ee({common:e0,type:w,primary:P(n),secondary:P(i,"A400","A200","A700"),error:P(a),warning:P(c),info:P(d),success:P(g),grey:CR,contrastThreshold:T,getContrastText:O,augmentColor:P,tonalOffset:S},R[w]),C);return F}function sz(e){return Math.round(e*1e5)/1e5}function nfe(e){return sz(e)}var RF={textTransform:"uppercase"},NF='"Roboto", "Helvetica", "Arial", sans-serif';function rfe(e,t){var n=typeof t=="function"?t(e):t,r=n.fontFamily,i=r===void 0?NF:r,o=n.fontSize,a=o===void 0?14:o,u=n.fontWeightLight,c=u===void 0?300:u,f=n.fontWeightRegular,d=f===void 0?400:f,p=n.fontWeightMedium,g=p===void 0?500:p,m=n.fontWeightBold,w=m===void 0?700:m,_=n.htmlFontSize,T=_===void 0?16:_,b=n.allVariants,S=n.pxToRem,C=Ke(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),O=a/14,P=S||function(L){return"".concat(L/T*O,"rem")},R=function($,k,H,J,ae){return ee({fontFamily:i,fontWeight:$,fontSize:P(k),lineHeight:H},i===NF?{letterSpacing:"".concat(sz(J/k),"em")}:{},ae,b)},F={h1:R(c,96,1.167,-1.5),h2:R(c,60,1.2,-.5),h3:R(d,48,1.167,0),h4:R(d,34,1.235,.25),h5:R(d,24,1.334,0),h6:R(g,20,1.6,.15),subtitle1:R(d,16,1.75,.15),subtitle2:R(g,14,1.57,.1),body1:R(d,16,1.5,.15),body2:R(d,14,1.43,.15),button:R(g,14,1.75,.4,RF),caption:R(d,12,1.66,.4),overline:R(d,12,2.66,1,RF)};return pf(ee({htmlFontSize:T,pxToRem:P,round:nfe,fontFamily:i,fontSize:a,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:g,fontWeightBold:w},F),C,{clone:!1})}var ife=.2,ofe=.14,sfe=.12;function Pt(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(ife,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(ofe,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(sfe,")")].join(",")}var afe=["none",Pt(0,2,1,-1,0,1,1,0,0,1,3,0),Pt(0,3,1,-2,0,2,2,0,0,1,5,0),Pt(0,3,3,-2,0,3,4,0,0,1,8,0),Pt(0,2,4,-1,0,4,5,0,0,1,10,0),Pt(0,3,5,-1,0,5,8,0,0,1,14,0),Pt(0,3,5,-1,0,6,10,0,0,1,18,0),Pt(0,4,5,-2,0,7,10,1,0,2,16,1),Pt(0,5,5,-3,0,8,10,1,0,3,14,2),Pt(0,5,6,-3,0,9,12,1,0,3,16,2),Pt(0,6,6,-3,0,10,14,1,0,4,18,3),Pt(0,6,7,-4,0,11,15,1,0,4,20,3),Pt(0,7,8,-4,0,12,17,2,0,5,22,4),Pt(0,7,8,-4,0,13,19,2,0,5,24,4),Pt(0,7,9,-4,0,14,21,2,0,5,26,4),Pt(0,8,9,-5,0,15,22,2,0,6,28,5),Pt(0,8,10,-5,0,16,24,2,0,6,30,5),Pt(0,8,11,-5,0,17,26,2,0,6,32,5),Pt(0,9,11,-5,0,18,28,2,0,7,34,6),Pt(0,9,12,-6,0,19,29,2,0,7,36,6),Pt(0,10,13,-6,0,20,31,3,0,8,38,7),Pt(0,10,13,-6,0,21,33,3,0,8,40,7),Pt(0,10,14,-6,0,22,35,3,0,8,42,7),Pt(0,11,14,-7,0,23,36,3,0,9,44,8),Pt(0,11,15,-7,0,24,38,3,0,9,46,8)];const ufe=afe;var lfe={borderRadius:4};const cfe=lfe;function TI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ffe(e){if(Array.isArray(e))return TI(e)}function hfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function az(e,t){if(!!e){if(typeof e=="string")return TI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TI(e,t)}}function dfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xR(e){return ffe(e)||hfe(e)||az(e)||dfe()}function pfe(e){if(Array.isArray(e))return e}function vfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,u;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(c){o=!0,u=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function gfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uz(e,t){return pfe(e)||vfe(e,t)||az(e,t)||gfe()}function mfe(e){var t=e.spacing||8;return typeof t=="number"?function(n){return t*n}:Array.isArray(t)?function(n){return t[n]}:typeof t=="function"?t:function(){}}function yfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(e.mui)return e;var t=mfe({spacing:e}),n=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return o.length===0?t(1):o.length===1?t(o[0]):o.map(function(u){if(typeof u=="string")return u;var c=t(u);return typeof c=="number"?"".concat(c,"px"):c}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var AF={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},PF={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function OF(e){return"".concat(Math.round(e),"ms")}const wfe={easing:AF,duration:PF,create:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.duration,i=r===void 0?PF.standard:r,o=n.easing,a=o===void 0?AF.easeInOut:o,u=n.delay,c=u===void 0?0:u;return Ke(n,["duration","easing","delay"]),(Array.isArray(t)?t:[t]).map(function(f){return"".concat(f," ").concat(typeof i=="string"?i:OF(i)," ").concat(a," ").concat(typeof c=="string"?c:OF(c))}).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var n=t/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}};var _fe={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const lz=_fe;function bfe(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.breakpoints,n=t===void 0?{}:t,r=e.mixins,i=r===void 0?{}:r,o=e.palette,a=o===void 0?{}:o,u=e.spacing,c=e.typography,f=c===void 0?{}:c,d=Ke(e,["breakpoints","mixins","palette","spacing","typography"]),p=tfe(a),g=Zce(n),m=yfe(u),w=pf({breakpoints:g,direction:"ltr",mixins:efe(g,m,i),overrides:{},palette:p,props:{},shadows:ufe,typography:rfe(p,f),spacing:m,shape:cfe,transitions:wfe,zIndex:lz},d),_=arguments.length,T=new Array(_>1?_-1:0),b=1;b<_;b++)T[b-1]=arguments[b];return w=T.reduce(function(S,C){return pf(S,C)},w),w}var Efe=typeof Symbol=="function"&&Symbol.for;const Sfe=Efe?Symbol.for("mui.nested"):"__THEME_NESTED__";var Tfe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Ife(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.disableGlobal,n=t===void 0?!1:t,r=e.productionPrefix,i=r===void 0?"jss":r,o=e.seed,a=o===void 0?"":o,u=a===""?"":"".concat(a,"-"),c=0,f=function(){return c+=1,c};return function(d,p){var g=p.options.name;if(g&&g.indexOf("Mui")===0&&!p.options.link&&!n){if(Tfe.indexOf(d.key)!==-1)return"Mui-".concat(d.key);var m="".concat(u).concat(g,"-").concat(d.key);return!p.options.theme[Sfe]||a!==""?m:"".concat(m,"-").concat(f())}return"".concat(u).concat(i).concat(f())}}function cz(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i=t.props[n],o;for(o in i)r[o]===void 0&&(r[o]=i[o]);return r}var DF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv=(typeof window>"u"?"undefined":DF(window))==="object"&&(typeof document>"u"?"undefined":DF(document))==="object"&&document.nodeType===9;function MF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RR(e,t,n){return t&&MF(e.prototype,t),n&&MF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function II(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Cfe={}.constructor;function CI(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(CI);if(e.constructor!==Cfe)return e;var t={};for(var n in e)t[n]=CI(e[n]);return t}function NR(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,i=CI(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var LF=function(t,n){for(var r="",i=0;i<t.length&&t[i]!=="!important";i++)r&&(r+=n),r+=t[i];return r},ju=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=LF(t[r]," ");else n=LF(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function $f(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function jh(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function bp(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var i=n,o=i.indent,a=o===void 0?0:o,u=t.fallbacks;n.format===!1&&(a=-1/0);var c=$f(n),f=c.linebreak,d=c.space;if(e&&a++,u)if(Array.isArray(u))for(var p=0;p<u.length;p++){var g=u[p];for(var m in g){var w=g[m];w!=null&&(r&&(r+=f),r+=jh(m+":"+d+ju(w)+";",a))}}else for(var _ in u){var T=u[_];T!=null&&(r&&(r+=f),r+=jh(_+":"+d+ju(T)+";",a))}for(var b in t){var S=t[b];S!=null&&b!=="fallbacks"&&(r&&(r+=f),r+=jh(b+":"+d+ju(S)+";",a))}return!r&&!n.allowEmpty||!e?r:(a--,r&&(r=""+f+r+f),jh(""+e+d+"{"+r,a)+jh("}",a))}var kfe=/([[\].#*$><+~=|^:(),"'`\s])/g,FF=typeof CSS<"u"&&CSS.escape,AR=function(e){return FF?FF(e):e.replace(kfe,"\\$1")},fz=function(){function e(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,a=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:a&&(this.renderer=new a)}var t=e.prototype;return t.prop=function(r,i,o){if(i===void 0)return this.style[r];var a=o?o.force:!1;if(!a&&this.style[r]===i)return this;var u=i;(!o||o.process!==!1)&&(u=this.options.jss.plugins.onChangeValue(i,r,this));var c=u==null||u===!1,f=r in this.style;if(c&&!f&&!a)return this;var d=c&&f;if(d?delete this.style[r]:this.style[r]=u,this.renderable&&this.renderer)return d?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,u),this;var p=this.options.sheet;return p&&p.attached,this},e}(),kI=function(e){Gr(t,e);function t(r,i,o){var a;a=e.call(this,r,i,o)||this;var u=o.selector,c=o.scoped,f=o.sheet,d=o.generateId;return u?a.selectorText=u:c!==!1&&(a.id=d(II(II(a)),f),a.selectorText="."+AR(a.id)),a}var n=t.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var a=this.toJSON();for(var u in a)o.setProperty(i,u,a[u])}return this},n.toJSON=function(){var i={};for(var o in this.style){var a=this.style[o];typeof a!="object"?i[o]=a:Array.isArray(a)&&(i[o]=ju(a))}return i},n.toString=function(i){var o=this.options.sheet,a=o?o.options.link:!1,u=a?ee({},i,{allowEmpty:!0}):i;return bp(this.selectorText,this.style,u)},RR(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,a=this.renderable;if(!(!a||!o)){var u=o.setSelector(a,i);u||o.replaceRule(a,this)}}},get:function(){return this.selectorText}}]),t}(fz),xfe={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new kI(t,n,r)}},YE={indent:1,children:!0},Rfe=/@([\w-]+)/,Nfe=function(){function e(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(Rfe);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new Qw(ee({},i,{parent:this}));for(var a in r)this.rules.add(a,r[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,i,o){var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),a):null},t.replaceRule=function(r,i,o){var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},t.toString=function(r){r===void 0&&(r=YE);var i=$f(r),o=i.linebreak;if(r.indent==null&&(r.indent=YE.indent),r.children==null&&(r.children=YE.children),r.children===!1)return this.query+" {}";var a=this.rules.toString(r);return a?this.query+" {"+o+a+o+"}":""},e}(),Afe=/@media|@supports\s+/,Pfe={onCreateRule:function(t,n,r){return Afe.test(t)?new Nfe(t,n,r):null}},XE={indent:1,children:!0},Ofe=/@keyframes\s+([\w-]+)/,xI=function(){function e(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(Ofe);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var a=i.scoped,u=i.sheet,c=i.generateId;this.id=a===!1?this.name:AR(c(this,u)),this.rules=new Qw(ee({},i,{parent:this}));for(var f in r)this.rules.add(f,r[f],ee({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=XE);var i=$f(r),o=i.linebreak;if(r.indent==null&&(r.indent=XE.indent),r.children==null&&(r.children=XE.children),r.children===!1)return this.at+" "+this.id+" {}";var a=this.rules.toString(r);return a&&(a=""+o+a+o),this.at+" "+this.id+" {"+a+"}"},e}(),Dfe=/@keyframes\s+/,Mfe=/\$([\w-]+)/g,RI=function(t,n){return typeof t=="string"?t.replace(Mfe,function(r,i){return i in n?n[i]:r}):t},$F=function(t,n,r){var i=t[n],o=RI(i,r);o!==i&&(t[n]=o)},Lfe={onCreateRule:function(t,n,r){return typeof t=="string"&&Dfe.test(t)?new xI(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&$F(t,"animation-name",r.keyframes),"animation"in t&&$F(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return RI(t,i.keyframes);case"animation-name":return RI(t,i.keyframes);default:return t}}},Ffe=function(e){Gr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(i){var o=this.options.sheet,a=o?o.options.link:!1,u=a?ee({},i,{allowEmpty:!0}):i;return bp(this.key,this.style,u)},t}(fz),$fe={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new Ffe(t,n,r):null}},Ufe=function(){function e(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){var i=$f(r),o=i.linebreak;if(Array.isArray(this.style)){for(var a="",u=0;u<this.style.length;u++)a+=bp(this.at,this.style[u]),this.style[u+1]&&(a+=o);return a}return bp(this.at,this.style,r)},e}(),jfe=/@font-face/,Vfe={onCreateRule:function(t,n,r){return jfe.test(t)?new Ufe(t,n,r):null}},Bfe=function(){function e(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){return bp(this.key,this.style,r)},e}(),zfe={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new Bfe(t,n,r):null}},qfe=function(){function e(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),Wfe={"@charset":!0,"@import":!0,"@namespace":!0},Hfe={onCreateRule:function(t,n,r){return t in Wfe?new qfe(t,n,r):null}},UF=[xfe,Pfe,Lfe,$fe,Vfe,zfe,Hfe],Kfe={process:!0},jF={force:!0,process:!0},Qw=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,i,o){var a=this.options,u=a.parent,c=a.sheet,f=a.jss,d=a.Renderer,p=a.generateId,g=a.scoped,m=ee({classes:this.classes,parent:u,sheet:c,jss:f,Renderer:d,generateId:p,scoped:g,name:r,keyframes:this.keyframes,selector:void 0},o),w=r;r in this.raw&&(w=r+"-d"+this.counter++),this.raw[w]=i,w in this.classes&&(m.selector="."+AR(this.classes[w]));var _=NR(w,i,m);if(!_)return null;this.register(_);var T=m.index===void 0?this.index.length:m.index;return this.index.splice(T,0,_),_},t.replace=function(r,i,o){var a=this.get(r),u=this.index.indexOf(a);a&&this.remove(a);var c=o;return u!==-1&&(c=ee({},o,{index:u})),this.add(r,i,c)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof kI?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof xI&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof kI?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof xI&&delete this.keyframes[r.name]},t.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var a=0;a<this.index.length;a++)this.updateOne(this.index[a],i,o)},t.updateOne=function(r,i,o){o===void 0&&(o=Kfe);var a=this.options,u=a.jss.plugins,c=a.sheet;if(r.rules instanceof e){r.rules.update(i,o);return}var f=r.style;if(u.onUpdate(i,r,c,o),o.process&&f&&f!==r.style){u.onProcessStyle(r.style,r,c);for(var d in r.style){var p=r.style[d],g=f[d];p!==g&&r.prop(d,p,jF)}for(var m in f){var w=r.style[m],_=f[m];w==null&&w!==_&&r.prop(m,null,jF)}}},t.toString=function(r){for(var i="",o=this.options.sheet,a=o?o.options.link:!1,u=$f(r),c=u.linebreak,f=0;f<this.index.length;f++){var d=this.index[f],p=d.toString(r);!p&&!a||(i&&(i+=c),i+=p)}return i},e}(),hz=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=ee({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new Qw(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,i,o){var a=this.queue;this.attached&&!a&&(this.queue=[]);var u=this.rules.add(r,i,o);return u?(this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&(a?a.push(u):(this.insertRule(u),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),u):(this.deployed=!1,u)):null},t.replaceRule=function(r,i,o){var a=this.rules.get(r);if(!a)return this.addRule(r,i,o);var u=this.rules.replace(r,i,o);return u&&this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&this.renderer&&(u?a.renderable&&this.renderer.replaceRule(a.renderable,u):this.renderer.deleteRule(a)),u):(this.deployed=!1,u)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,i){var o=[];for(var a in r){var u=this.addRule(a,r[a],i);u&&o.push(u)}return o},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},t.toString=function(r){return this.rules.toString(r)},e}(),Gfe=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,i,o){for(var a=0;a<this.registry.onCreateRule.length;a++){var u=this.registry.onCreateRule[a](r,i,o);if(u)return u}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},t.onProcessStyle=function(r,i,o){for(var a=0;a<this.registry.onProcessStyle.length;a++)i.style=this.registry.onProcessStyle[a](i.style,i,o)},t.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},t.onUpdate=function(r,i,o,a){for(var u=0;u<this.registry.onUpdate.length;u++)this.registry.onUpdate[u](r,i,o,a)},t.onChangeValue=function(r,i,o){for(var a=r,u=0;u<this.registry.onChangeValue.length;u++)a=this.registry.onChangeValue[u](a,i,o);return a},t.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(a,u){for(var c in u)c in a&&a[c].push(u[c]);return a},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Qfe=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var a=0;a<i.length;a++)if(i[a].options.index>o){i.splice(a,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},t.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,a=Oa(i,["attached"]),u=$f(a),c=u.linebreak,f="",d=0;d<this.registry.length;d++){var p=this.registry[d];o!=null&&p.attached!==o||(f&&(f+=c),f+=p.toString(a))}return f},RR(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),Cd=new Qfe,NI=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),AI="2f1acc6c3a606b082e5eef5e54414ffb";NI[AI]==null&&(NI[AI]=0);var VF=NI[AI]++,BF=function(t){t===void 0&&(t={});var n=0,r=function(o,a){n+=1;var u="",c="";return a&&(a.options.classNamePrefix&&(c=a.options.classNamePrefix),a.options.jss.id!=null&&(u=String(a.options.jss.id))),t.minify?""+(c||"c")+VF+u+n:c+o.key+"-"+VF+(u?"-"+u:"")+"-"+n};return r},dz=function(t){var n;return function(){return n||(n=t()),n}},Yfe=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},Xfe=function(t,n,r){try{var i=r;if(Array.isArray(r)&&(i=ju(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,a=o>-1?i.substr(0,o-1):i;t.style.setProperty(n,a,o>-1?"important":"")}}catch{return!1}return!0},Jfe=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},Zfe=function(t,n){return t.selectorText=n,t.selectorText===n},pz=dz(function(){return document.querySelector("head")});function ehe(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function the(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function nhe(e){for(var t=pz(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function rhe(e){var t=Cd.registry;if(t.length>0){var n=ehe(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=the(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=nhe(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function ihe(e,t){var n=t.insertionPoint,r=rhe(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}pz().appendChild(e)}var ohe=dz(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),zF=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},qF=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},she=function(){var t=document.createElement("style");return t.textContent=`
`,t},ahe=function(){function e(n){this.getPropertyValue=Yfe,this.setProperty=Xfe,this.removeProperty=Jfe,this.setSelector=Zfe,this.hasInsertedRules=!1,this.cssRules=[],n&&Cd.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,a=r.element;this.element=a||she(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var u=ohe();u&&this.element.setAttribute("nonce",u)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){ihe(this.element,this.sheet.options);var r=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(!!this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(!!r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},t.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var a=r,u=o;if(r.type==="conditional"||r.type==="keyframes"){var c=qF(o,i);if(u=zF(o,a.toString({children:!1}),c),u===!1)return!1;this.refCssRule(r,c,u)}return this.insertRules(a.rules,u),u}var f=r.toString();if(!f)return!1;var d=qF(o,i),p=zF(o,f,d);return p===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,d,p),p)},t.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof hz&&this.cssRules.splice(i,0,o)},t.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),uhe=0,lhe=function(){function e(n){this.id=uhe++,this.version="10.9.2",this.plugins=new Gfe,this.options={id:{minify:!1},createGenerateId:BF,Renderer:gv?ahe:null,plugins:[]},this.generateId=BF({minify:!1});for(var r=0;r<UF.length;r++)this.plugins.use(UF[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=ee({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,a=o.index;typeof a!="number"&&(a=Cd.index===0?0:Cd.index+1);var u=new hz(r,ee({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:a}));return this.plugins.onProcessSheet(u),u},t.removeStyleSheet=function(r){return r.detach(),Cd.remove(r),this},t.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var a=ee({},o,{name:r,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var u=NR(r,i,a);return u&&this.plugins.onProcessRule(u),u},t.use=function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return o.forEach(function(u){r.plugins.use(u)}),this},e}(),vz=function(t){return new lhe(t)},PR=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function gz(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if(i==="function")t||(t={}),t[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=gz(r);o&&(t||(t={}),t[n]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */vz();var mz=Date.now(),JE="fnValues"+mz,ZE="fnStyle"+ ++mz,che=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=NR(n,{},i);return o[ZE]=r,o},onProcessStyle:function(n,r){if(JE in r||ZE in r)return n;var i={};for(var o in n){var a=n[o];typeof a=="function"&&(delete n[o],i[o]=a)}return r[JE]=i,n},onUpdate:function(n,r,i,o){var a=r,u=a[ZE];u&&(a.style=u(n)||{});var c=a[JE];if(c)for(var f in c)a.prop(f,c[f](n),o)}}};const fhe=che;var va="@global",PI="@global ",hhe=function(){function e(n,r,i){this.type="global",this.at=va,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new Qw(ee({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,i,o){var a=this.rules.add(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},t.replaceRule=function(r,i,o){var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),dhe=function(){function e(n,r,i){this.type="global",this.at=va,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(PI.length);this.rule=i.jss.createRule(o,r,ee({},i,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),phe=/\s*,\s*/g;function yz(e,t){for(var n=e.split(phe),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function vhe(e,t){var n=e.options,r=e.style,i=r?r[va]:null;if(!!i){for(var o in i)t.addRule(o,i[o],ee({},n,{selector:yz(o,e.selector)}));delete r[va]}}function ghe(e,t){var n=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,va.length)!==va)){var o=yz(i.substr(va.length),e.selector);t.addRule(o,r[i],ee({},n,{selector:o})),delete r[i]}}function mhe(){function e(n,r,i){if(!n)return null;if(n===va)return new hhe(n,r,i);if(n[0]==="@"&&n.substr(0,PI.length)===PI)return new dhe(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function t(n,r){n.type!=="style"||!r||(vhe(n,r),ghe(n,r))}return{onCreateRule:e,onProcessRule:t}}var WF=/\s*,\s*/g,yhe=/&/g,whe=/\$([\w-]+)/g;function _he(){function e(i,o){return function(a,u){var c=i.getRule(u)||o&&o.getRule(u);return c?c.selector:u}}function t(i,o){for(var a=o.split(WF),u=i.split(WF),c="",f=0;f<a.length;f++)for(var d=a[f],p=0;p<u.length;p++){var g=u[p];c&&(c+=", "),c+=g.indexOf("&")!==-1?g.replace(yhe,d):d+" "+g}return c}function n(i,o,a){if(a)return ee({},a,{index:a.index+1});var u=i.options.nestingLevel;u=u===void 0?1:u+1;var c=ee({},i.options,{nestingLevel:u,index:o.indexOf(i)+1});return delete c.name,c}function r(i,o,a){if(o.type!=="style")return i;var u=o,c=u.options.parent,f,d;for(var p in i){var g=p.indexOf("&")!==-1,m=p[0]==="@";if(!(!g&&!m)){if(f=n(u,c,f),g){var w=t(p,u.selector);d||(d=e(c,a)),w=w.replace(whe,d);var _=u.key+"-"+p;"replaceRule"in c?c.replaceRule(_,i[p],ee({},f,{selector:w})):c.addRule(_,i[p],ee({},f,{selector:w}))}else m&&c.addRule(p,{},f).addRule(u.key,i[p],{selector:u.selector});delete i[p]}}return i}return{onProcessStyle:r}}var bhe=/[A-Z]/g,Ehe=/^ms-/,eS={};function She(e){return"-"+e.toLowerCase()}function wz(e){if(eS.hasOwnProperty(e))return eS[e];var t=e.replace(bhe,She);return eS[e]=Ehe.test(t)?"-"+t:t}function n0(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:wz(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(n0):t.fallbacks=n0(e.fallbacks)),t}function The(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=n0(n[r]);return n}return n0(n)}function t(n,r,i){if(r.indexOf("--")===0)return n;var o=wz(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:e,onChangeValue:t}}var q=PR&&CSS?CSS.px:"px",cm=PR&&CSS?CSS.ms:"ms",Jl=PR&&CSS?CSS.percent:"%",Ihe={"animation-delay":cm,"animation-duration":cm,"background-position":q,"background-position-x":q,"background-position-y":q,"background-size":q,border:q,"border-bottom":q,"border-bottom-left-radius":q,"border-bottom-right-radius":q,"border-bottom-width":q,"border-left":q,"border-left-width":q,"border-radius":q,"border-right":q,"border-right-width":q,"border-top":q,"border-top-left-radius":q,"border-top-right-radius":q,"border-top-width":q,"border-width":q,"border-block":q,"border-block-end":q,"border-block-end-width":q,"border-block-start":q,"border-block-start-width":q,"border-block-width":q,"border-inline":q,"border-inline-end":q,"border-inline-end-width":q,"border-inline-start":q,"border-inline-start-width":q,"border-inline-width":q,"border-start-start-radius":q,"border-start-end-radius":q,"border-end-start-radius":q,"border-end-end-radius":q,margin:q,"margin-bottom":q,"margin-left":q,"margin-right":q,"margin-top":q,"margin-block":q,"margin-block-end":q,"margin-block-start":q,"margin-inline":q,"margin-inline-end":q,"margin-inline-start":q,padding:q,"padding-bottom":q,"padding-left":q,"padding-right":q,"padding-top":q,"padding-block":q,"padding-block-end":q,"padding-block-start":q,"padding-inline":q,"padding-inline-end":q,"padding-inline-start":q,"mask-position-x":q,"mask-position-y":q,"mask-size":q,height:q,width:q,"min-height":q,"max-height":q,"min-width":q,"max-width":q,bottom:q,left:q,top:q,right:q,inset:q,"inset-block":q,"inset-block-end":q,"inset-block-start":q,"inset-inline":q,"inset-inline-end":q,"inset-inline-start":q,"box-shadow":q,"text-shadow":q,"column-gap":q,"column-rule":q,"column-rule-width":q,"column-width":q,"font-size":q,"font-size-delta":q,"letter-spacing":q,"text-decoration-thickness":q,"text-indent":q,"text-stroke":q,"text-stroke-width":q,"word-spacing":q,motion:q,"motion-offset":q,outline:q,"outline-offset":q,"outline-width":q,perspective:q,"perspective-origin-x":Jl,"perspective-origin-y":Jl,"transform-origin":Jl,"transform-origin-x":Jl,"transform-origin-y":Jl,"transform-origin-z":Jl,"transition-delay":cm,"transition-duration":cm,"vertical-align":q,"flex-basis":q,"shape-margin":q,size:q,gap:q,grid:q,"grid-gap":q,"row-gap":q,"grid-row-gap":q,"grid-column-gap":q,"grid-template-rows":q,"grid-template-columns":q,"grid-auto-rows":q,"grid-auto-columns":q,"box-shadow-x":q,"box-shadow-y":q,"box-shadow-blur":q,"box-shadow-spread":q,"font-line-height":q,"text-shadow-x":q,"text-shadow-y":q,"text-shadow-blur":q};function _z(e){var t=/(-[a-z])/g,n=function(a){return a[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Che=_z(Ihe);function kd(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=kd(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=kd(i,t[i],n);else for(var o in t)t[o]=kd(e+"-"+o,t[o],n);else if(typeof t=="number"&&isNaN(t)===!1){var a=n[e]||Che[e];return a&&!(t===0&&a===q)?typeof a=="function"?a(t).toString():""+t+a:t.toString()}return t}function khe(e){e===void 0&&(e={});var t=_z(e);function n(i,o){if(o.type!=="style")return i;for(var a in i)i[a]=kd(a,i[a],t);return i}function r(i,o){return kd(o,i,t)}return{onProcessStyle:n,onChangeValue:r}}var Qh="",OI="",bz="",Ez="",xhe=gv&&"ontouchstart"in document.documentElement;if(gv){var tS={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Rhe=document.createElement("p"),nS=Rhe.style,Nhe="Transform";for(var rS in tS)if(rS+Nhe in nS){Qh=rS,OI=tS[rS];break}Qh==="Webkit"&&"msHyphens"in nS&&(Qh="ms",OI=tS.ms,Ez="edge"),Qh==="Webkit"&&"-apple-trailing-word"in nS&&(bz="apple")}var Fe={js:Qh,css:OI,vendor:bz,browser:Ez,isTouch:xhe};function Ahe(e){return e[1]==="-"||Fe.js==="ms"?e:"@"+Fe.css+"keyframes"+e.substr(10)}var Phe={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:Fe.js==="ms"?"-webkit-"+t:Fe.css+t}},Ohe={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:Fe.js==="Webkit"?Fe.css+"print-"+t:t}},Dhe=/[-\s]+(.)?/g;function Mhe(e,t){return t?t.toUpperCase():""}function OR(e){return e.replace(Dhe,Mhe)}function xa(e){return OR("-"+e)}var Lhe={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(Fe.js==="Webkit"){var r="mask-image";if(OR(r)in n)return t;if(Fe.js+xa(r)in n)return Fe.css+t}return t}},Fhe={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:Fe.vendor==="apple"&&!Fe.isTouch?Fe.css+t:t}},$he={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:Fe.css+t}},Uhe={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:Fe.css+t}},jhe={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:Fe.js==="Webkit"||Fe.js==="ms"&&Fe.browser!=="edge"?Fe.css+t:t}},Vhe={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:Fe.js==="Moz"||Fe.js==="ms"||Fe.vendor==="apple"?Fe.css+t:t}},Bhe={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(Fe.js==="Webkit"){var r="WebkitColumn"+xa(t);return r in n?Fe.css+"column-"+t:!1}if(Fe.js==="Moz"){var i="page"+xa(t);return i in n?"page-"+t:!1}return!1}},zhe={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(Fe.js==="Moz")return t;var r=t.replace("-inline","");return Fe.js+xa(r)in n?Fe.css+r:!1}},qhe={supportedProperty:function(t,n){return OR(t)in n?t:!1}},Whe={supportedProperty:function(t,n){var r=xa(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:Fe.js+r in n?Fe.css+t:Fe.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},Hhe={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:Fe.js==="ms"?""+Fe.css+t:t}},Khe={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:Fe.js==="ms"?Fe.css+"scroll-chaining":t}},Ghe={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Qhe={supportedProperty:function(t,n){var r=Ghe[t];return r&&Fe.js+xa(r)in n?Fe.css+r:!1}},Sz={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Yhe=Object.keys(Sz),Xhe=function(t){return Fe.css+t},Jhe={supportedProperty:function(t,n,r){var i=r.multiple;if(Yhe.indexOf(t)>-1){var o=Sz[t];if(!Array.isArray(o))return Fe.js+xa(o)in n?Fe.css+o:!1;if(!i)return!1;for(var a=0;a<o.length;a++)if(!(Fe.js+xa(o[0])in n))return!1;return o.map(Xhe)}return!1}},Tz=[Phe,Ohe,Lhe,Fhe,$he,Uhe,jhe,Vhe,Bhe,zhe,qhe,Whe,Hhe,Khe,Qhe,Jhe],HF=Tz.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),Zhe=Tz.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,xR(t.noPrefill)),e},[]),Yh,_u={};if(gv){Yh=document.createElement("p");var iS=window.getComputedStyle(document.documentElement,"");for(var oS in iS)isNaN(oS)||(_u[iS[oS]]=iS[oS]);Zhe.forEach(function(e){return delete _u[e]})}function DI(e,t){if(t===void 0&&(t={}),!Yh)return e;if(_u[e]!=null)return _u[e];(e==="transition"||e==="transform")&&(t[e]=e in Yh.style);for(var n=0;n<HF.length&&(_u[e]=HF[n](e,Yh.style,t),!_u[e]);n++);try{Yh.style[e]=""}catch{return!1}return _u[e]}var Zl={},ede={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},tde=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Vs;function nde(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?DI(t):", "+DI(n);return r||t||n}gv&&(Vs=document.createElement("p"));function KF(e,t){var n=t;if(!Vs||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(Zl[r]!=null)return Zl[r];try{Vs.style[e]=n}catch{return Zl[r]=!1,!1}if(ede[e])n=n.replace(tde,nde);else if(Vs.style[e]===""&&(n=Fe.css+n,n==="-ms-flex"&&(Vs.style[e]="-ms-flexbox"),Vs.style[e]=n,Vs.style[e]===""))return Zl[r]=!1,!1;return Vs.style[e]="",Zl[r]=n,Zl[r]}function rde(){function e(i){if(i.type==="keyframes"){var o=i;o.at=Ahe(o.at)}}function t(i){for(var o in i){var a=i[o];if(o==="fallbacks"&&Array.isArray(a)){i[o]=a.map(t);continue}var u=!1,c=DI(o);c&&c!==o&&(u=!0);var f=!1,d=KF(c,ju(a));d&&d!==a&&(f=!0),(u||f)&&(u&&delete i[o],i[c||o]=d||a)}return i}function n(i,o){return o.type!=="style"?i:t(i)}function r(i,o){return KF(o,ju(i))||i}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function ide(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(e),a=0;a<o.length;a++)i[o[a]]=n[o[a]];return i}}}function ode(){return{plugins:[fhe(),mhe(),_he(),The(),khe(),typeof window>"u"?null:rde(),ide()]}}function DR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var r=ee({},t);return Object.keys(n).forEach(function(i){n[i]&&(r[i]="".concat(t[i]," ").concat(n[i]))}),r}var sde={set:function(t,n,r,i){var o=t.get(n);o||(o=new Map,t.set(n,o)),o.set(r,i)},get:function(t,n,r){var i=t.get(n);return i?i.get(r):void 0},delete:function(t,n,r){var i=t.get(n);i.delete(r)}};const _c=sde;var ade=Re.createContext(null);const ude=ade;function Yw(){var e=Re.useContext(ude);return e}var lde=vz(ode()),cde=Ife(),fde=new Map,hde={disableGeneration:!1,generateClassName:cde,jss:lde,sheetsCache:null,sheetsManager:fde,sheetsRegistry:null},dde=Re.createContext(hde),GF=-1e9;function pde(){return GF+=1,GF}var vde={};const gde=vde;function mde(e){var t=typeof e=="function";return{create:function(r,i){var o;try{o=t?e(r):e}catch(c){throw c}if(!i||!r.overrides||!r.overrides[i])return o;var a=r.overrides[i],u=ee({},o);return Object.keys(a).forEach(function(c){u[c]=pf(u[c],a[c])}),u},options:{}}}function yde(e,t,n){var r=e.state,i=e.stylesOptions;if(i.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,o=!0),o&&(r.cacheClasses.value=DR({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function wde(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,o=e.stylesCreator,a=e.name;if(!i.disableGeneration){var u=_c.get(i.sheetsManager,o,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},_c.set(i.sheetsManager,o,r,u));var c=ee({},o.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});c.generateId=c.serverGenerateClassName||c.generateClassName;var f=i.sheetsRegistry;if(u.refs===0){var d;i.sheetsCache&&(d=_c.get(i.sheetsCache,o,r));var p=o.create(r,a);d||(d=i.jss.createStyleSheet(p,ee({link:!1},c)),d.attach(),i.sheetsCache&&_c.set(i.sheetsCache,o,r,d)),f&&f.add(d),u.staticSheet=d,u.dynamicStyles=gz(p)}if(u.dynamicStyles){var g=i.jss.createStyleSheet(u.dynamicStyles,ee({link:!0},c));g.update(t),g.attach(),n.dynamicSheet=g,n.classes=DR({baseClasses:u.staticSheet.classes,newClasses:g.classes}),f&&f.add(g)}else n.classes=u.staticSheet.classes;u.refs+=1}}function _de(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function bde(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=_c.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;o.refs===0&&(_c.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function Ede(e,t){var n=Re.useRef([]),r,i=Re.useMemo(function(){return{}},t);n.current!==i&&(n.current=i,r=e()),Re.useEffect(function(){return function(){r&&r()}},[i])}function Sde(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.name,r=t.classNamePrefix,i=t.Component,o=t.defaultTheme,a=o===void 0?gde:o,u=Ke(t,["name","classNamePrefix","Component","defaultTheme"]),c=mde(e),f=n||r||"makeStyles";c.options={index:pde(),name:n,meta:f,classNamePrefix:f};var d=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=Yw()||a,w=ee({},Re.useContext(dde),u),_=Re.useRef(),T=Re.useRef();Ede(function(){var S={name:n,state:{},stylesCreator:c,stylesOptions:w,theme:m};return wde(S,g),T.current=!1,_.current=S,function(){bde(S)}},[m,c]),Re.useEffect(function(){T.current&&_de(_.current,g),T.current=!0});var b=yde(_.current,g.classes,i);return b};return d}function Tde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iz(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Iz(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function tt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Iz(e))&&(r&&(r+=" "),r+=t);return r}var Ide=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){var i=n.defaultTheme,o=n.withTheme,a=o===void 0?!1:o,u=n.name,c=Ke(n,["defaultTheme","withTheme","name"]),f=u,d=Sde(t,ee({defaultTheme:i,Component:r,name:u||r.displayName,classNamePrefix:f},c)),p=Re.forwardRef(function(m,w){m.classes;var _=m.innerRef,T=Ke(m,["classes","innerRef"]),b=d(ee({},r.defaultProps,m)),S,C=T;return(typeof u=="string"||a)&&(S=Yw()||i,u&&(C=cz({theme:S,name:u,props:T})),a&&!C.theme&&(C.theme=S)),N(r,{ref:_||w,classes:b,...C})});return l7(p,r),p}};const Cde=Ide;var kde=bfe();const Cz=kde;function MR(){var e=Yw()||Cz;return e}function Zt(e,t){return Cde(e,ee({defaultTheme:Cz},t))}function Tr(e){if(typeof e!="string")throw new Error(vf(7));return e.charAt(0).toUpperCase()+e.slice(1)}function r0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,i){return i==null?r:function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];r.apply(this,u),i.apply(this,u)}},function(){})}var xde=function(t){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:t.typography.pxToRem(24),transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:t.typography.pxToRem(20)},fontSizeLarge:{fontSize:t.typography.pxToRem(35)}}},kz=x.exports.forwardRef(function(t,n){var r=t.children,i=t.classes,o=t.className,a=t.color,u=a===void 0?"inherit":a,c=t.component,f=c===void 0?"svg":c,d=t.fontSize,p=d===void 0?"medium":d,g=t.htmlColor,m=t.titleAccess,w=t.viewBox,_=w===void 0?"0 0 24 24":w,T=Ke(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return re(f,{className:tt(i.root,o,u!=="inherit"&&i["color".concat(Tr(u))],p!=="default"&&p!=="medium"&&i["fontSize".concat(Tr(p))]),focusable:"false",viewBox:_,color:g,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:n,...T,children:[r,m?N("title",{children:m}):null]})});kz.muiName="SvgIcon";const QF=Zt(xde,{name:"MuiSvgIcon"})(kz);function xz(e,t){var n=function(i,o){return N(QF,{ref:o,...i,children:e})};return n.muiName=QF.muiName,Re.memo(Re.forwardRef(n))}function LR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,n;function r(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=this,c=function(){e.apply(u,o)};clearTimeout(n),n=setTimeout(c,t)}return r.clear=function(){clearTimeout(n)},r}function Rde(e,t){return function(){return null}}function Lm(e,t){return x.exports.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Uo(e){return e&&e.ownerDocument||document}function FR(e){var t=Uo(e);return t.defaultView||window}function Nde(e){return function(){return null}}function gf(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ade(e,t,n,r,i){return null}function Rz(e){var t=e.controlled,n=e.default;e.name,e.state;var r=x.exports.useRef(t!==void 0),i=r.current,o=x.exports.useState(n),a=o[0],u=o[1],c=i?t:a,f=x.exports.useCallback(function(d){i||u(d)},[]);return[c,f]}var Pde=typeof window<"u"?x.exports.useLayoutEffect:x.exports.useEffect;function ta(e){var t=x.exports.useRef(e);return Pde(function(){t.current=e}),x.exports.useCallback(function(){return t.current.apply(void 0,arguments)},[])}function Rr(e,t){return x.exports.useMemo(function(){return e==null&&t==null?null:function(n){gf(e,n),gf(t,n)}},[e,t])}function Ode(e){var t=x.exports.useState(e),n=t[0],r=t[1],i=e||n;return x.exports.useEffect(function(){n==null&&r("mui-".concat(Math.round(Math.random()*1e5)))},[n]),i}var Xw=!0,MI=!1,YF=null,Dde={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Mde(e){var t=e.type,n=e.tagName;return!!(n==="INPUT"&&Dde[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Lde(e){e.metaKey||e.altKey||e.ctrlKey||(Xw=!0)}function sS(){Xw=!1}function Fde(){this.visibilityState==="hidden"&&MI&&(Xw=!0)}function $de(e){e.addEventListener("keydown",Lde,!0),e.addEventListener("mousedown",sS,!0),e.addEventListener("pointerdown",sS,!0),e.addEventListener("touchstart",sS,!0),e.addEventListener("visibilitychange",Fde,!0)}function Ude(e){var t=e.target;try{return t.matches(":focus-visible")}catch{}return Xw||Mde(t)}function jde(){MI=!0,window.clearTimeout(YF),YF=window.setTimeout(function(){MI=!1},100)}function Nz(){var e=x.exports.useCallback(function(t){var n=pi.exports.findDOMNode(t);n!=null&&$de(n.ownerDocument)},[]);return{isFocusVisible:Ude,onBlurVisible:jde,ref:e}}const Vde=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Tr,createChainedFunction:r0,createSvgIcon:xz,debounce:LR,deprecatedPropType:Rde,isMuiElement:Lm,ownerDocument:Uo,ownerWindow:FR,requirePropFactory:Nde,setRef:gf,unsupportedProp:Ade,useControlled:Rz,useEventCallback:ta,useForkRef:Rr,unstable_useId:Ode,useIsFocusVisible:Nz},Symbol.toStringTag,{value:"Module"}));var Bde={exports:{}},wt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw=60103,Zw=60106,mv=60107,yv=60108,wv=60114,_v=60109,bv=60110,Ev=60112,Sv=60113,$R=60120,Tv=60115,Iv=60116,Az=60121,Pz=60122,Oz=60117,Dz=60129,Mz=60131;if(typeof Symbol=="function"&&Symbol.for){var $n=Symbol.for;Jw=$n("react.element"),Zw=$n("react.portal"),mv=$n("react.fragment"),yv=$n("react.strict_mode"),wv=$n("react.profiler"),_v=$n("react.provider"),bv=$n("react.context"),Ev=$n("react.forward_ref"),Sv=$n("react.suspense"),$R=$n("react.suspense_list"),Tv=$n("react.memo"),Iv=$n("react.lazy"),Az=$n("react.block"),Pz=$n("react.server.block"),Oz=$n("react.fundamental"),Dz=$n("react.debug_trace_mode"),Mz=$n("react.legacy_hidden")}function po(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jw:switch(e=e.type,e){case mv:case wv:case yv:case Sv:case $R:return e;default:switch(e=e&&e.$$typeof,e){case bv:case Ev:case Iv:case Tv:case _v:return e;default:return t}}case Zw:return t}}}var zde=_v,qde=Jw,Wde=Ev,Hde=mv,Kde=Iv,Gde=Tv,Qde=Zw,Yde=wv,Xde=yv,Jde=Sv;wt.ContextConsumer=bv;wt.ContextProvider=zde;wt.Element=qde;wt.ForwardRef=Wde;wt.Fragment=Hde;wt.Lazy=Kde;wt.Memo=Gde;wt.Portal=Qde;wt.Profiler=Yde;wt.StrictMode=Xde;wt.Suspense=Jde;wt.isAsyncMode=function(){return!1};wt.isConcurrentMode=function(){return!1};wt.isContextConsumer=function(e){return po(e)===bv};wt.isContextProvider=function(e){return po(e)===_v};wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jw};wt.isForwardRef=function(e){return po(e)===Ev};wt.isFragment=function(e){return po(e)===mv};wt.isLazy=function(e){return po(e)===Iv};wt.isMemo=function(e){return po(e)===Tv};wt.isPortal=function(e){return po(e)===Zw};wt.isProfiler=function(e){return po(e)===wv};wt.isStrictMode=function(e){return po(e)===yv};wt.isSuspense=function(e){return po(e)===Sv};wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mv||e===wv||e===Dz||e===yv||e===Sv||e===$R||e===Mz||typeof e=="object"&&e!==null&&(e.$$typeof===Iv||e.$$typeof===Tv||e.$$typeof===_v||e.$$typeof===bv||e.$$typeof===Ev||e.$$typeof===Oz||e.$$typeof===Az||e[0]===Pz)};wt.typeOf=po;(function(e){e.exports=wt})(Bde);const XF={disabled:!1},i0=Re.createContext(null);var Zde=function(t){return t.scrollTop},Xh="unmounted",vu="exited",gu="entering",oc="entered",LI="exiting",Ss=function(e){Gr(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=i,u=a&&!a.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?u?(c=vu,o.appearStatus=gu):c=oc:r.unmountOnExit||r.mountOnEnter?c=Xh:c=vu,o.state={status:c},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Xh?{status:vu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==gu&&a!==oc&&(o=gu):(a===gu||a===oc)&&(o=LI)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,u;return o=a=u=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,u=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:u}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===gu){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Hg.findDOMNode(this);a&&Zde(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vu&&this.setState({status:Xh})},n.performEnter=function(i){var o=this,a=this.props.enter,u=this.context?this.context.isMounting:i,c=this.props.nodeRef?[u]:[Hg.findDOMNode(this),u],f=c[0],d=c[1],p=this.getTimeouts(),g=u?p.appear:p.enter;if(!i&&!a||XF.disabled){this.safeSetState({status:oc},function(){o.props.onEntered(f)});return}this.props.onEnter(f,d),this.safeSetState({status:gu},function(){o.props.onEntering(f,d),o.onTransitionEnd(g,function(){o.safeSetState({status:oc},function(){o.props.onEntered(f,d)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),u=this.props.nodeRef?void 0:Hg.findDOMNode(this);if(!o||XF.disabled){this.safeSetState({status:vu},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:LI},function(){i.props.onExiting(u),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:vu},function(){i.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(u){a&&(a=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Hg.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!a||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],f=c[0],d=c[1];this.props.addEndListener(f,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Xh)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=Oa(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return N(i0.Provider,{value:null,children:typeof a=="function"?a(i,u):Re.cloneElement(Re.Children.only(a),u)})},t}(Re.Component);Ss.contextType=i0;Ss.propTypes={};function ec(){}Ss.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ec,onEntering:ec,onEntered:ec,onExit:ec,onExiting:ec,onExited:ec};Ss.UNMOUNTED=Xh;Ss.EXITED=vu;Ss.ENTERING=gu;Ss.ENTERED=oc;Ss.EXITING=LI;const epe=Ss;function UR(e,t){var n=function(o){return t&&x.exports.isValidElement(o)?t(o):o},r=Object.create(null);return e&&x.exports.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function tpe(e,t){e=e||{},t=t||{};function n(d){return d in t?t[d]:e[d]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,u={};for(var c in t){if(r[c])for(a=0;a<r[c].length;a++){var f=r[c][a];u[r[c][a]]=n(f)}u[c]=n(c)}for(a=0;a<i.length;a++)u[i[a]]=n(i[a]);return u}function Au(e,t,n){return n[t]!=null?n[t]:e.props[t]}function npe(e,t){return UR(e.children,function(n){return x.exports.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Au(n,"appear",e),enter:Au(n,"enter",e),exit:Au(n,"exit",e)})})}function rpe(e,t,n){var r=UR(e.children),i=tpe(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(!!x.exports.isValidElement(a)){var u=o in t,c=o in r,f=t[o],d=x.exports.isValidElement(f)&&!f.props.in;c&&(!u||d)?i[o]=x.exports.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Au(a,"exit",e),enter:Au(a,"enter",e)}):!c&&u&&!d?i[o]=x.exports.cloneElement(a,{in:!1}):c&&u&&x.exports.isValidElement(f)&&(i[o]=x.exports.cloneElement(a,{onExited:n.bind(null,a),in:f.props.in,exit:Au(a,"exit",e),enter:Au(a,"enter",e)}))}}),i}var ipe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ope={component:"div",childFactory:function(t){return t}},jR=function(e){Gr(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=o.handleExited.bind(II(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,u=o.handleExited,c=o.firstRender;return{children:c?npe(i,u):rpe(i,a,u),firstRender:!1}},n.handleExited=function(i,o){var a=UR(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(u){var c=ee({},u.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,o=i.component,a=i.childFactory,u=Oa(i,["component","childFactory"]),c=this.state.contextValue,f=ipe(this.state.children).map(a);return delete u.appear,delete u.enter,delete u.exit,o===null?N(i0.Provider,{value:c,children:f}):N(i0.Provider,{value:c,children:N(o,{...u,children:f})})},t}(Re.Component);jR.propTypes={};jR.defaultProps=ope;const spe=jR;var ape=function(t){return t.scrollTop};function JF(e,t){var n=e.timeout,r=e.style,i=r===void 0?{}:r;return{duration:i.transitionDuration||typeof n=="number"?n:n[t.mode]||0,delay:i.transitionDelay}}var upe=function(t){var n={};return t.shadows.forEach(function(r,i){n["elevation".concat(i)]={boxShadow:r}}),ee({root:{backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},rounded:{borderRadius:t.shape.borderRadius},outlined:{border:"1px solid ".concat(t.palette.divider)}},n)},lpe=x.exports.forwardRef(function(t,n){var r=t.classes,i=t.className,o=t.component,a=o===void 0?"div":o,u=t.square,c=u===void 0?!1:u,f=t.elevation,d=f===void 0?1:f,p=t.variant,g=p===void 0?"elevation":p,m=Ke(t,["classes","className","component","square","elevation","variant"]);return N(a,{className:tt(r.root,i,g==="outlined"?r.outlined:r["elevation".concat(d)],!c&&r.rounded),ref:n,...m})});const cpe=Zt(upe,{name:"MuiPaper"})(lpe);var fpe=typeof window>"u"?x.exports.useEffect:x.exports.useLayoutEffect;function hpe(e){var t=e.classes,n=e.pulsate,r=n===void 0?!1:n,i=e.rippleX,o=e.rippleY,a=e.rippleSize,u=e.in,c=e.onExited,f=c===void 0?function(){}:c,d=e.timeout,p=x.exports.useState(!1),g=p[0],m=p[1],w=tt(t.ripple,t.rippleVisible,r&&t.ripplePulsate),_={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},T=tt(t.child,g&&t.childLeaving,r&&t.childPulsate),b=ta(f);return fpe(function(){if(!u){m(!0);var S=setTimeout(b,d);return function(){clearTimeout(S)}}},[b,u,d]),N("span",{className:w,style:_,children:N("span",{className:T})})}var FI=550,dpe=80,ppe=function(t){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(FI,"ms ").concat(t.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(t.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(FI,"ms ").concat(t.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(t.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},vpe=x.exports.forwardRef(function(t,n){var r=t.center,i=r===void 0?!1:r,o=t.classes,a=t.className,u=Ke(t,["center","classes","className"]),c=x.exports.useState([]),f=c[0],d=c[1],p=x.exports.useRef(0),g=x.exports.useRef(null);x.exports.useEffect(function(){g.current&&(g.current(),g.current=null)},[f]);var m=x.exports.useRef(!1),w=x.exports.useRef(null),_=x.exports.useRef(null),T=x.exports.useRef(null);x.exports.useEffect(function(){return function(){clearTimeout(w.current)}},[]);var b=x.exports.useCallback(function(P){var R=P.pulsate,F=P.rippleX,L=P.rippleY,$=P.rippleSize,k=P.cb;d(function(H){return[].concat(xR(H),[N(hpe,{classes:o,timeout:FI,pulsate:R,rippleX:F,rippleY:L,rippleSize:$},p.current)])}),p.current+=1,g.current=k},[o]),S=x.exports.useCallback(function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=arguments.length>2?arguments[2]:void 0,L=R.pulsate,$=L===void 0?!1:L,k=R.center,H=k===void 0?i||R.pulsate:k,J=R.fakeElement,ae=J===void 0?!1:J;if(P.type==="mousedown"&&m.current){m.current=!1;return}P.type==="touchstart"&&(m.current=!0);var ne=ae?null:T.current,se=ne?ne.getBoundingClientRect():{width:0,height:0,left:0,top:0},pe,Te,U;if(H||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)pe=Math.round(se.width/2),Te=Math.round(se.height/2);else{var V=P.touches?P.touches[0]:P,j=V.clientX,G=V.clientY;pe=Math.round(j-se.left),Te=Math.round(G-se.top)}if(H)U=Math.sqrt((2*Math.pow(se.width,2)+Math.pow(se.height,2))/3),U%2===0&&(U+=1);else{var Q=Math.max(Math.abs((ne?ne.clientWidth:0)-pe),pe)*2+2,de=Math.max(Math.abs((ne?ne.clientHeight:0)-Te),Te)*2+2;U=Math.sqrt(Math.pow(Q,2)+Math.pow(de,2))}P.touches?_.current===null&&(_.current=function(){b({pulsate:$,rippleX:pe,rippleY:Te,rippleSize:U,cb:F})},w.current=setTimeout(function(){_.current&&(_.current(),_.current=null)},dpe)):b({pulsate:$,rippleX:pe,rippleY:Te,rippleSize:U,cb:F})},[i,b]),C=x.exports.useCallback(function(){S({},{pulsate:!0})},[S]),O=x.exports.useCallback(function(P,R){if(clearTimeout(w.current),P.type==="touchend"&&_.current){P.persist(),_.current(),_.current=null,w.current=setTimeout(function(){O(P,R)});return}_.current=null,d(function(F){return F.length>0?F.slice(1):F}),g.current=R},[]);return x.exports.useImperativeHandle(n,function(){return{pulsate:C,start:S,stop:O}},[C,S,O]),N("span",{className:tt(o.root,a),ref:T,...u,children:N(spe,{component:null,exit:!0,children:f})})});const gpe=Zt(ppe,{flip:!1,name:"MuiTouchRipple"})(x.exports.memo(vpe));var mpe={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},ype=x.exports.forwardRef(function(t,n){var r=t.action,i=t.buttonRef,o=t.centerRipple,a=o===void 0?!1:o,u=t.children,c=t.classes,f=t.className,d=t.component,p=d===void 0?"button":d,g=t.disabled,m=g===void 0?!1:g,w=t.disableRipple,_=w===void 0?!1:w,T=t.disableTouchRipple,b=T===void 0?!1:T,S=t.focusRipple,C=S===void 0?!1:S,O=t.focusVisibleClassName,P=t.onBlur,R=t.onClick,F=t.onFocus,L=t.onFocusVisible,$=t.onKeyDown,k=t.onKeyUp,H=t.onMouseDown,J=t.onMouseLeave,ae=t.onMouseUp,ne=t.onTouchEnd,se=t.onTouchMove,pe=t.onTouchStart,Te=t.onDragLeave,U=t.tabIndex,V=U===void 0?0:U,j=t.TouchRippleProps,G=t.type,Q=G===void 0?"button":G,de=Ke(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),ce=x.exports.useRef(null);function Ie(){return pi.exports.findDOMNode(ce.current)}var ve=x.exports.useRef(null),Me=x.exports.useState(!1),ye=Me[0],Rt=Me[1];m&&ye&&Rt(!1);var _n=Nz(),Oe=_n.isFocusVisible,We=_n.onBlurVisible,lt=_n.ref;x.exports.useImperativeHandle(r,function(){return{focusVisible:function(){Rt(!0),ce.current.focus()}}},[]),x.exports.useEffect(function(){ye&&C&&!_&&ve.current.pulsate()},[_,C,ye]);function Ae(we,Ts){var yi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b;return ta(function(Sl){Ts&&Ts(Sl);var kv=yi;return!kv&&ve.current&&ve.current[we](Sl),!0})}var _t=Ae("start",H),Ee=Ae("stop",Te),nt=Ae("stop",ae),St=Ae("stop",function(we){ye&&we.preventDefault(),J&&J(we)}),pr=Ae("start",pe),Xn=Ae("stop",ne),Yr=Ae("stop",se),bn=Ae("stop",function(we){ye&&(We(we),Rt(!1)),P&&P(we)},!1),zt=ta(function(we){ce.current||(ce.current=we.currentTarget),Oe(we)&&(Rt(!0),L&&L(we)),F&&F(we)}),Tt=function(){var Ts=Ie();return p&&p!=="button"&&!(Ts.tagName==="A"&&Ts.href)},Jn=x.exports.useRef(!1),Dn=ta(function(we){C&&!Jn.current&&ye&&ve.current&&we.key===" "&&(Jn.current=!0,we.persist(),ve.current.stop(we,function(){ve.current.start(we)})),we.target===we.currentTarget&&Tt()&&we.key===" "&&we.preventDefault(),$&&$(we),we.target===we.currentTarget&&Tt()&&we.key==="Enter"&&!m&&(we.preventDefault(),R&&R(we))}),Je=ta(function(we){C&&we.key===" "&&ve.current&&ye&&!we.defaultPrevented&&(Jn.current=!1,we.persist(),ve.current.stop(we,function(){ve.current.pulsate(we)})),k&&k(we),R&&we.target===we.currentTarget&&Tt()&&we.key===" "&&!we.defaultPrevented&&R(we)}),fn=p;fn==="button"&&de.href&&(fn="a");var Ze={};fn==="button"?(Ze.type=Q,Ze.disabled=m):((fn!=="a"||!de.href)&&(Ze.role="button"),Ze["aria-disabled"]=m);var ji=Rr(i,n),Vi=Rr(lt,ce),ke=Rr(ji,Vi),Ne=x.exports.useState(!1),gt=Ne[0],It=Ne[1];x.exports.useEffect(function(){It(!0)},[]);var Bo=gt&&!_&&!m;return re(fn,{className:tt(c.root,f,ye&&[c.focusVisible,O],m&&c.disabled),onBlur:bn,onClick:R,onFocus:zt,onKeyDown:Dn,onKeyUp:Je,onMouseDown:_t,onMouseLeave:St,onMouseUp:nt,onDragLeave:Ee,onTouchEnd:Xn,onTouchMove:Yr,onTouchStart:pr,ref:ke,tabIndex:m?-1:V,...Ze,...de,children:[u,Bo?N(gpe,{ref:ve,center:a,...j}):null]})});const wpe=Zt(mpe,{name:"MuiButtonBase"})(ype);var _pe=function(t){return{root:ee({},t.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,color:t.palette.text.primary,transition:t.transitions.create(["background-color","box-shadow","border"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:lu(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:lu(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:lu(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(t.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(t.palette.action.disabledBackground)}},outlinedPrimary:{color:t.palette.primary.main,border:"1px solid ".concat(lu(t.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.primary.main),backgroundColor:lu(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:t.palette.secondary.main,border:"1px solid ".concat(lu(t.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.secondary.main),backgroundColor:lu(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(t.palette.action.disabled)}},contained:{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2],"&:hover":{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]},"&$disabled":{backgroundColor:t.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:t.shadows[6]},"&:active":{boxShadow:t.shadows[8]},"&$disabled":{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},containedPrimary:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},containedSecondary:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},bpe=x.exports.forwardRef(function(t,n){var r=t.children,i=t.classes,o=t.className,a=t.color,u=a===void 0?"default":a,c=t.component,f=c===void 0?"button":c,d=t.disabled,p=d===void 0?!1:d,g=t.disableElevation,m=g===void 0?!1:g,w=t.disableFocusRipple,_=w===void 0?!1:w,T=t.endIcon,b=t.focusVisibleClassName,S=t.fullWidth,C=S===void 0?!1:S,O=t.size,P=O===void 0?"medium":O,R=t.startIcon,F=t.type,L=F===void 0?"button":F,$=t.variant,k=$===void 0?"text":$,H=Ke(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),J=R&&N("span",{className:tt(i.startIcon,i["iconSize".concat(Tr(P))]),children:R}),ae=T&&N("span",{className:tt(i.endIcon,i["iconSize".concat(Tr(P))]),children:T});return N(wpe,{className:tt(i.root,i[k],o,u==="inherit"?i.colorInherit:u!=="default"&&i["".concat(k).concat(Tr(u))],P!=="medium"&&[i["".concat(k,"Size").concat(Tr(P))],i["size".concat(Tr(P))]],m&&i.disableElevation,p&&i.disabled,C&&i.fullWidth),component:f,disabled:p,focusRipple:!_,focusVisibleClassName:tt(i.focusVisible,b),ref:n,type:L,...H,children:re("span",{className:i.label,children:[J,r,ae]})})});const Lz=Zt(_pe,{name:"MuiButton"})(bpe);var Fz=x.exports.createContext();function Epe(){return x.exports.useContext(Fz)}const VR=Fz;function Cv(){return x.exports.useContext(VR)}var Us=44,Spe=function(t){return{root:{display:"inline-block"},static:{transition:t.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:t.transitions.create("transform")},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:t.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:t.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}},Tpe=x.exports.forwardRef(function(t,n){var r=t.classes,i=t.className,o=t.color,a=o===void 0?"primary":o,u=t.disableShrink,c=u===void 0?!1:u,f=t.size,d=f===void 0?40:f,p=t.style,g=t.thickness,m=g===void 0?3.6:g,w=t.value,_=w===void 0?0:w,T=t.variant,b=T===void 0?"indeterminate":T,S=Ke(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),C={},O={},P={};if(b==="determinate"||b==="static"){var R=2*Math.PI*((Us-m)/2);C.strokeDasharray=R.toFixed(3),P["aria-valuenow"]=Math.round(_),C.strokeDashoffset="".concat(((100-_)/100*R).toFixed(3),"px"),O.transform="rotate(-90deg)"}return N("div",{className:tt(r.root,i,a!=="inherit"&&r["color".concat(Tr(a))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[b]),style:ee({width:d,height:d},O,p),ref:n,role:"progressbar",...P,...S,children:N("svg",{className:r.svg,viewBox:"".concat(Us/2," ").concat(Us/2," ").concat(Us," ").concat(Us),children:N("circle",{className:tt(r.circle,c&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[b]),style:C,cx:Us,cy:Us,r:(Us-m)/2,fill:"none",strokeWidth:m})})})});const BR=Zt(Spe,{name:"MuiCircularProgress",flip:!1})(Tpe);function Ipe(e){return e=typeof e=="function"?e():e,pi.exports.findDOMNode(e)}var aS=typeof window<"u"?x.exports.useLayoutEffect:x.exports.useEffect,Cpe=x.exports.forwardRef(function(t,n){var r=t.children,i=t.container,o=t.disablePortal,a=o===void 0?!1:o,u=t.onRendered,c=x.exports.useState(null),f=c[0],d=c[1],p=Rr(x.exports.isValidElement(r)?r.ref:null,n);return aS(function(){a||d(Ipe(i)||document.body)},[i,a]),aS(function(){if(f&&!a)return gf(n,f),function(){gf(n,null)}},[n,f,a]),aS(function(){u&&(f||a)&&u()},[u,f,a]),a?x.exports.isValidElement(r)?x.exports.cloneElement(r,{ref:p}):r:f&&pi.exports.createPortal(r,f)});const kpe=Cpe;function $z(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function xpe(e){var t=Uo(e);return t.body===e?FR(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function xd(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ZF(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function e4(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(xR(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,function(u){u.nodeType===1&&o.indexOf(u)===-1&&a.indexOf(u.tagName)===-1&&xd(u,i)})}function uS(e,t){var n=-1;return e.some(function(r,i){return t(r)?(n=i,!0):!1}),n}function Rpe(e,t){var n=[],r=[],i=e.container,o;if(!t.disableScrollLock){if(xpe(i)){var a=$z();n.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(ZF(i)+a,"px"),o=Uo(i).querySelectorAll(".mui-fixed"),[].forEach.call(o,function(d){r.push(d.style.paddingRight),d.style.paddingRight="".concat(ZF(d)+a,"px")})}var u=i.parentElement,c=u.nodeName==="HTML"&&window.getComputedStyle(u)["overflow-y"]==="scroll"?u:i;n.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}var f=function(){o&&[].forEach.call(o,function(p,g){r[g]?p.style.paddingRight=r[g]:p.style.removeProperty("padding-right")}),n.forEach(function(p){var g=p.value,m=p.el,w=p.key;g?m.style.setProperty(w,g):m.style.removeProperty(w)})};return f}function Npe(e){var t=[];return[].forEach.call(e.children,function(n){n.getAttribute&&n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}var Ape=function(){function e(){Tde(this,e),this.modals=[],this.containers=[]}return RR(e,[{key:"add",value:function(n,r){var i=this.modals.indexOf(n);if(i!==-1)return i;i=this.modals.length,this.modals.push(n),n.modalRef&&xd(n.modalRef,!1);var o=Npe(r);e4(r,n.mountNode,n.modalRef,o,!0);var a=uS(this.containers,function(u){return u.container===r});return a!==-1?(this.containers[a].modals.push(n),i):(this.containers.push({modals:[n],container:r,restore:null,hiddenSiblingNodes:o}),i)}},{key:"mount",value:function(n,r){var i=uS(this.containers,function(a){return a.modals.indexOf(n)!==-1}),o=this.containers[i];o.restore||(o.restore=Rpe(o,r))}},{key:"remove",value:function(n){var r=this.modals.indexOf(n);if(r===-1)return r;var i=uS(this.containers,function(u){return u.modals.indexOf(n)!==-1}),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(n),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),n.modalRef&&xd(n.modalRef,!0),e4(o.container,n.mountNode,n.modalRef,o.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var a=o.modals[o.modals.length-1];a.modalRef&&xd(a.modalRef,!1)}return r}},{key:"isTopModal",value:function(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}]),e}();function Ppe(e){var t=e.children,n=e.disableAutoFocus,r=n===void 0?!1:n,i=e.disableEnforceFocus,o=i===void 0?!1:i,a=e.disableRestoreFocus,u=a===void 0?!1:a,c=e.getDoc,f=e.isEnabled,d=e.open,p=x.exports.useRef(),g=x.exports.useRef(null),m=x.exports.useRef(null),w=x.exports.useRef(),_=x.exports.useRef(null),T=x.exports.useCallback(function(C){_.current=pi.exports.findDOMNode(C)},[]),b=Rr(t.ref,T),S=x.exports.useRef();return x.exports.useEffect(function(){S.current=d},[d]),!S.current&&d&&typeof window<"u"&&(w.current=c().activeElement),x.exports.useEffect(function(){if(!!d){var C=Uo(_.current);!r&&_.current&&!_.current.contains(C.activeElement)&&(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex",-1),_.current.focus());var O=function(){var L=_.current;if(L!==null){if(!C.hasFocus()||o||!f()||p.current){p.current=!1;return}_.current&&!_.current.contains(C.activeElement)&&_.current.focus()}},P=function(L){o||!f()||L.keyCode!==9||C.activeElement===_.current&&(p.current=!0,L.shiftKey?m.current.focus():g.current.focus())};C.addEventListener("focus",O,!0),C.addEventListener("keydown",P,!0);var R=setInterval(function(){O()},50);return function(){clearInterval(R),C.removeEventListener("focus",O,!0),C.removeEventListener("keydown",P,!0),u||(w.current&&w.current.focus&&w.current.focus(),w.current=null)}}},[r,o,u,f,d]),re(ba,{children:[N("div",{tabIndex:0,ref:g,"data-test":"sentinelStart"}),x.exports.cloneElement(t,{ref:b}),N("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"})]})}var t4={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Ope=x.exports.forwardRef(function(t,n){var r=t.invisible,i=r===void 0?!1:r,o=t.open,a=Ke(t,["invisible","open"]);return o?N("div",{"aria-hidden":!0,ref:n,...a,style:ee({},t4.root,i?t4.invisible:{},a.style)}):null});const Dpe=Ope;function Mpe(e){return e=typeof e=="function"?e():e,pi.exports.findDOMNode(e)}function Lpe(e){return e.children?e.children.props.hasOwnProperty("in"):!1}var Fpe=new Ape,$pe=function(t){return{root:{position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},Upe=x.exports.forwardRef(function(t,n){var r=Yw(),i=cz({name:"MuiModal",props:ee({},t),theme:r}),o=i.BackdropComponent,a=o===void 0?Dpe:o,u=i.BackdropProps,c=i.children,f=i.closeAfterTransition,d=f===void 0?!1:f,p=i.container,g=i.disableAutoFocus,m=g===void 0?!1:g,w=i.disableBackdropClick,_=w===void 0?!1:w,T=i.disableEnforceFocus,b=T===void 0?!1:T,S=i.disableEscapeKeyDown,C=S===void 0?!1:S,O=i.disablePortal,P=O===void 0?!1:O,R=i.disableRestoreFocus,F=R===void 0?!1:R,L=i.disableScrollLock,$=L===void 0?!1:L,k=i.hideBackdrop,H=k===void 0?!1:k,J=i.keepMounted,ae=J===void 0?!1:J,ne=i.manager,se=ne===void 0?Fpe:ne,pe=i.onBackdropClick,Te=i.onClose,U=i.onEscapeKeyDown,V=i.onRendered,j=i.open,G=Ke(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Q=x.exports.useState(!0),de=Q[0],ce=Q[1],Ie=x.exports.useRef({}),ve=x.exports.useRef(null),Me=x.exports.useRef(null),ye=Rr(Me,n),Rt=Lpe(i),_n=function(){return Uo(ve.current)},Oe=function(){return Ie.current.modalRef=Me.current,Ie.current.mountNode=ve.current,Ie.current},We=function(){se.mount(Oe(),{disableScrollLock:$}),Me.current.scrollTop=0},lt=ta(function(){var zt=Mpe(p)||_n().body;se.add(Oe(),zt),Me.current&&We()}),Ae=x.exports.useCallback(function(){return se.isTopModal(Oe())},[se]),_t=ta(function(zt){ve.current=zt,zt&&(V&&V(),j&&Ae()?We():xd(Me.current,!0))}),Ee=x.exports.useCallback(function(){se.remove(Oe())},[se]);if(x.exports.useEffect(function(){return function(){Ee()}},[Ee]),x.exports.useEffect(function(){j?lt():(!Rt||!d)&&Ee()},[j,Ee,Rt,d,lt]),!ae&&!j&&(!Rt||de))return null;var nt=function(){ce(!1)},St=function(){ce(!0),d&&Ee()},pr=function(Tt){Tt.target===Tt.currentTarget&&(pe&&pe(Tt),!_&&Te&&Te(Tt,"backdropClick"))},Xn=function(Tt){Tt.key!=="Escape"||!Ae()||(U&&U(Tt),C||(Tt.stopPropagation(),Te&&Te(Tt,"escapeKeyDown")))},Yr=$pe(r||{zIndex:lz}),bn={};return c.props.tabIndex===void 0&&(bn.tabIndex=c.props.tabIndex||"-1"),Rt&&(bn.onEnter=r0(nt,c.props.onEnter),bn.onExited=r0(St,c.props.onExited)),N(kpe,{ref:_t,container:p,disablePortal:P,children:re("div",{ref:ye,onKeyDown:Xn,role:"presentation",...G,style:ee({},Yr.root,!j&&de?Yr.hidden:{},G.style),children:[H?null:N(a,{open:j,onClick:pr,...u}),N(Ppe,{disableEnforceFocus:b,disableAutoFocus:m,disableRestoreFocus:F,getDoc:_n,isEnabled:Ae,open:j,children:x.exports.cloneElement(c,bn)})]})})});const jpe=Upe;function Uf(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce(function(i,o){return i[o]=t[o],r&&typeof t[o]>"u"&&(i[o]=r[o]),i},{})}function fm(e,t){return parseInt(e[t],10)||0}var Vpe=typeof window<"u"?x.exports.useLayoutEffect:x.exports.useEffect,Bpe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},zpe=x.exports.forwardRef(function(t,n){var r=t.onChange,i=t.rows,o=t.rowsMax,a=t.rowsMin,u=t.maxRows,c=t.minRows,f=c===void 0?1:c,d=t.style,p=t.value,g=Ke(t,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),m=u||o,w=i||a||f,_=x.exports.useRef(p!=null),T=_.current,b=x.exports.useRef(null),S=Rr(n,b),C=x.exports.useRef(null),O=x.exports.useRef(0),P=x.exports.useState({}),R=P[0],F=P[1],L=x.exports.useCallback(function(){var k=b.current,H=window.getComputedStyle(k),J=C.current;J.style.width=H.width,J.value=k.value||t.placeholder||"x",J.value.slice(-1)===`
`&&(J.value+=" ");var ae=H["box-sizing"],ne=fm(H,"padding-bottom")+fm(H,"padding-top"),se=fm(H,"border-bottom-width")+fm(H,"border-top-width"),pe=J.scrollHeight-ne;J.value="x";var Te=J.scrollHeight-ne,U=pe;w&&(U=Math.max(Number(w)*Te,U)),m&&(U=Math.min(Number(m)*Te,U)),U=Math.max(U,Te);var V=U+(ae==="border-box"?ne+se:0),j=Math.abs(U-pe)<=1;F(function(G){return O.current<20&&(V>0&&Math.abs((G.outerHeightStyle||0)-V)>1||G.overflow!==j)?(O.current+=1,{overflow:j,outerHeightStyle:V}):G})},[m,w,t.placeholder]);x.exports.useEffect(function(){var k=LR(function(){O.current=0,L()});return window.addEventListener("resize",k),function(){k.clear(),window.removeEventListener("resize",k)}},[L]),Vpe(function(){L()}),x.exports.useEffect(function(){O.current=0},[p]);var $=function(H){O.current=0,T||L(),r&&r(H)};return re(ba,{children:[N("textarea",{value:p,onChange:$,ref:S,rows:w,style:ee({height:R.outerHeightStyle,overflow:R.overflow?"hidden":null},d),...g}),N("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:C,tabIndex:-1,style:ee({},Bpe.shadow,d)})]})});const qpe=zpe;function n4(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function zR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e&&(n4(e.value)&&e.value!==""||t&&n4(e.defaultValue)&&e.defaultValue!=="")}function Wpe(e){return e.startAdornment}var Hpe=function(t){var n=t.palette.type==="light",r={color:"currentColor",opacity:n?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},o={opacity:n?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:ee({},t.typography.body1,{color:t.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:t.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),"&$marginDense":{paddingTop:4-1}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:4-1},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},Kpe=typeof window>"u"?x.exports.useEffect:x.exports.useLayoutEffect,Gpe=x.exports.forwardRef(function(t,n){var r=t["aria-describedby"],i=t.autoComplete,o=t.autoFocus,a=t.classes,u=t.className;t.color;var c=t.defaultValue,f=t.disabled,d=t.endAdornment;t.error;var p=t.fullWidth,g=p===void 0?!1:p,m=t.id,w=t.inputComponent,_=w===void 0?"input":w,T=t.inputProps,b=T===void 0?{}:T,S=t.inputRef;t.margin;var C=t.multiline,O=C===void 0?!1:C,P=t.name,R=t.onBlur,F=t.onChange,L=t.onClick,$=t.onFocus,k=t.onKeyDown,H=t.onKeyUp,J=t.placeholder,ae=t.readOnly,ne=t.renderSuffix,se=t.rows,pe=t.rowsMax,Te=t.rowsMin,U=t.maxRows,V=t.minRows,j=t.startAdornment,G=t.type,Q=G===void 0?"text":G,de=t.value,ce=Ke(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Ie=b.value!=null?b.value:de,ve=x.exports.useRef(Ie!=null),Me=ve.current,ye=x.exports.useRef(),Rt=x.exports.useCallback(function(fn){},[]),_n=Rr(b.ref,Rt),Oe=Rr(S,_n),We=Rr(ye,Oe),lt=x.exports.useState(!1),Ae=lt[0],_t=lt[1],Ee=Epe(),nt=Uf({props:t,muiFormControl:Ee,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});nt.focused=Ee?Ee.focused:Ae,x.exports.useEffect(function(){!Ee&&f&&Ae&&(_t(!1),R&&R())},[Ee,f,Ae,R]);var St=Ee&&Ee.onFilled,pr=Ee&&Ee.onEmpty,Xn=x.exports.useCallback(function(fn){zR(fn)?St&&St():pr&&pr()},[St,pr]);Kpe(function(){Me&&Xn({value:Ie})},[Ie,Xn,Me]);var Yr=function(Ze){if(nt.disabled){Ze.stopPropagation();return}$&&$(Ze),b.onFocus&&b.onFocus(Ze),Ee&&Ee.onFocus?Ee.onFocus(Ze):_t(!0)},bn=function(Ze){R&&R(Ze),b.onBlur&&b.onBlur(Ze),Ee&&Ee.onBlur?Ee.onBlur(Ze):_t(!1)},zt=function(Ze){if(!Me){var ji=Ze.target||ye.current;if(ji==null)throw new Error(vf(1));Xn({value:ji.value})}for(var Vi=arguments.length,ke=new Array(Vi>1?Vi-1:0),Ne=1;Ne<Vi;Ne++)ke[Ne-1]=arguments[Ne];b.onChange&&b.onChange.apply(b,[Ze].concat(ke)),F&&F.apply(void 0,[Ze].concat(ke))};x.exports.useEffect(function(){Xn(ye.current)},[]);var Tt=function(Ze){ye.current&&Ze.currentTarget===Ze.target&&ye.current.focus(),L&&L(Ze)},Jn=_,Dn=ee({},b,{ref:We});typeof Jn!="string"?Dn=ee({inputRef:We,type:Q},Dn,{ref:null}):O?se&&!U&&!V&&!pe&&!Te?Jn="textarea":(Dn=ee({minRows:se||V,rowsMax:pe,maxRows:U},Dn),Jn=qpe):Dn=ee({type:Q},Dn);var Je=function(Ze){Xn(Ze.animationName==="mui-auto-fill-cancel"?ye.current:{value:"x"})};return x.exports.useEffect(function(){Ee&&Ee.setAdornedStart(Boolean(j))},[Ee,j]),re("div",{className:tt(a.root,a["color".concat(Tr(nt.color||"primary"))],u,nt.disabled&&a.disabled,nt.error&&a.error,g&&a.fullWidth,nt.focused&&a.focused,Ee&&a.formControl,O&&a.multiline,j&&a.adornedStart,d&&a.adornedEnd,nt.margin==="dense"&&a.marginDense),onClick:Tt,ref:n,...ce,children:[j,N(VR.Provider,{value:null,children:N(Jn,{"aria-invalid":nt.error,"aria-describedby":r,autoComplete:i,autoFocus:o,defaultValue:c,disabled:nt.disabled,id:m,onAnimationStart:Je,name:P,placeholder:J,readOnly:ae,required:nt.required,rows:se,value:Ie,onKeyDown:k,onKeyUp:H,...Dn,className:tt(a.input,b.className,nt.disabled&&a.disabled,O&&a.inputMultiline,nt.hiddenLabel&&a.inputHiddenLabel,j&&a.inputAdornedStart,d&&a.inputAdornedEnd,Q==="search"&&a.inputTypeSearch,nt.margin==="dense"&&a.inputMarginDense),onBlur:bn,onChange:zt,onFocus:Yr})}),d,ne?ne(ee({},nt,{startAdornment:j})):null]})});const qR=Zt(Hpe,{name:"MuiInputBase"})(Gpe);var Qpe=function(t){var n=t.palette.type==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:n?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(t.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:t.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.type==="light"?null:"#fff",caretColor:t.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},Uz=x.exports.forwardRef(function(t,n){var r=t.disableUnderline,i=t.classes,o=t.fullWidth,a=o===void 0?!1:o,u=t.inputComponent,c=u===void 0?"input":u,f=t.multiline,d=f===void 0?!1:f,p=t.type,g=p===void 0?"text":p,m=Ke(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return N(qR,{classes:ee({},i,{root:tt(i.root,!r&&i.underline),underline:null}),fullWidth:a,inputComponent:c,multiline:d,ref:n,type:g,...m})});Uz.muiName="Input";const jz=Zt(Qpe,{name:"MuiFilledInput"})(Uz);var Ype={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},Xpe=x.exports.forwardRef(function(t,n){var r=t.children,i=t.classes,o=t.className,a=t.color,u=a===void 0?"primary":a,c=t.component,f=c===void 0?"div":c,d=t.disabled,p=d===void 0?!1:d,g=t.error,m=g===void 0?!1:g,w=t.fullWidth,_=w===void 0?!1:w,T=t.focused,b=t.hiddenLabel,S=b===void 0?!1:b,C=t.margin,O=C===void 0?"none":C,P=t.required,R=P===void 0?!1:P,F=t.size,L=t.variant,$=L===void 0?"standard":L,k=Ke(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),H=x.exports.useState(function(){var Ie=!1;return r&&x.exports.Children.forEach(r,function(ve){if(!!Lm(ve,["Input","Select"])){var Me=Lm(ve,["Select"])?ve.props.input:ve;Me&&Wpe(Me.props)&&(Ie=!0)}}),Ie}),J=H[0],ae=H[1],ne=x.exports.useState(function(){var Ie=!1;return r&&x.exports.Children.forEach(r,function(ve){!Lm(ve,["Input","Select"])||zR(ve.props,!0)&&(Ie=!0)}),Ie}),se=ne[0],pe=ne[1],Te=x.exports.useState(!1),U=Te[0],V=Te[1],j=T!==void 0?T:U;p&&j&&V(!1);var G,Q=x.exports.useCallback(function(){pe(!0)},[]),de=x.exports.useCallback(function(){pe(!1)},[]),ce={adornedStart:J,setAdornedStart:ae,color:u,disabled:p,error:m,filled:se,focused:j,fullWidth:_,hiddenLabel:S,margin:(F==="small"?"dense":void 0)||O,onBlur:function(){V(!1)},onEmpty:de,onFilled:Q,onFocus:function(){V(!0)},registerEffect:G,required:R,variant:$};return N(VR.Provider,{value:ce,children:N(f,{className:tt(i.root,o,O!=="none"&&i["margin".concat(Tr(O))],_&&i.fullWidth),ref:n,...k,children:r})})});const Jpe=Zt(Ype,{name:"MuiFormControl"})(Xpe);var Zpe=function(t){return{root:ee({color:t.palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}},eve=x.exports.forwardRef(function(t,n){var r=t.children,i=t.classes,o=t.className,a=t.component,u=a===void 0?"p":a;t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant;var c=Ke(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"]),f=Cv(),d=Uf({props:t,muiFormControl:f,states:["variant","margin","disabled","error","filled","focused","required"]});return N(u,{className:tt(i.root,(d.variant==="filled"||d.variant==="outlined")&&i.contained,o,d.disabled&&i.disabled,d.error&&i.error,d.filled&&i.filled,d.focused&&i.focused,d.required&&i.required,d.margin==="dense"&&i.marginDense),ref:n,...c,children:r===" "?N("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r})});const tve=Zt(Zpe,{name:"MuiFormHelperText"})(eve);var nve=function(t){return{root:ee({color:t.palette.text.secondary},t.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),colorSecondary:{"&$focused":{color:t.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:t.palette.error.main}}}},rve=x.exports.forwardRef(function(t,n){var r=t.children,i=t.classes,o=t.className;t.color;var a=t.component,u=a===void 0?"label":a;t.disabled,t.error,t.filled,t.focused,t.required;var c=Ke(t,["children","classes","className","color","component","disabled","error","filled","focused","required"]),f=Cv(),d=Uf({props:t,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]});return re(u,{className:tt(i.root,i["color".concat(Tr(d.color||"primary"))],o,d.disabled&&i.disabled,d.error&&i.error,d.filled&&i.filled,d.focused&&i.focused,d.required&&i.required),ref:n,...c,children:[r,d.required&&re("span",{"aria-hidden":!0,className:tt(i.asterisk,d.error&&i.error),children:["\u2009","*"]})]})});const ive=Zt(nve,{name:"MuiFormLabel"})(rve);function $I(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var ove={entering:{opacity:1,transform:$I(1)},entered:{opacity:1,transform:"none"}},Vz=x.exports.forwardRef(function(t,n){var r=t.children,i=t.disableStrictModeCompat,o=i===void 0?!1:i,a=t.in,u=t.onEnter,c=t.onEntered,f=t.onEntering,d=t.onExit,p=t.onExited,g=t.onExiting,m=t.style,w=t.timeout,_=w===void 0?"auto":w,T=t.TransitionComponent,b=T===void 0?epe:T,S=Ke(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=x.exports.useRef(),O=x.exports.useRef(),P=MR(),R=P.unstable_strictMode&&!o,F=x.exports.useRef(null),L=Rr(r.ref,n),$=Rr(R?F:void 0,L),k=function(V){return function(j,G){if(V){var Q=R?[F.current,j]:[j,G],de=uz(Q,2),ce=de[0],Ie=de[1];Ie===void 0?V(ce):V(ce,Ie)}}},H=k(f),J=k(function(U,V){ape(U);var j=JF({style:m,timeout:_},{mode:"enter"}),G=j.duration,Q=j.delay,de;_==="auto"?(de=P.transitions.getAutoHeightDuration(U.clientHeight),O.current=de):de=G,U.style.transition=[P.transitions.create("opacity",{duration:de,delay:Q}),P.transitions.create("transform",{duration:de*.666,delay:Q})].join(","),u&&u(U,V)}),ae=k(c),ne=k(g),se=k(function(U){var V=JF({style:m,timeout:_},{mode:"exit"}),j=V.duration,G=V.delay,Q;_==="auto"?(Q=P.transitions.getAutoHeightDuration(U.clientHeight),O.current=Q):Q=j,U.style.transition=[P.transitions.create("opacity",{duration:Q,delay:G}),P.transitions.create("transform",{duration:Q*.666,delay:G||Q*.333})].join(","),U.style.opacity="0",U.style.transform=$I(.75),d&&d(U)}),pe=k(p),Te=function(V,j){var G=R?V:j;_==="auto"&&(C.current=setTimeout(G,O.current||0))};return x.exports.useEffect(function(){return function(){clearTimeout(C.current)}},[]),N(b,{appear:!0,in:a,nodeRef:R?F:void 0,onEnter:J,onEntered:ae,onEntering:H,onExit:se,onExited:pe,onExiting:ne,addEndListener:Te,timeout:_==="auto"?null:_,...S,children:function(U,V){return x.exports.cloneElement(r,ee({style:ee({opacity:0,transform:$I(.75),visibility:U==="exited"&&!a?"hidden":void 0},ove[U],m,r.props.style),ref:$},V))}})});Vz.muiSupportAuto=!0;const sve=Vz;var ave=function(t){var n=t.palette.type==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(t.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},Bz=x.exports.forwardRef(function(t,n){var r=t.disableUnderline,i=t.classes,o=t.fullWidth,a=o===void 0?!1:o,u=t.inputComponent,c=u===void 0?"input":u,f=t.multiline,d=f===void 0?!1:f,p=t.type,g=p===void 0?"text":p,m=Ke(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return N(qR,{classes:ee({},i,{root:tt(i.root,!r&&i.underline),underline:null}),fullWidth:a,inputComponent:c,multiline:d,ref:n,type:g,...m})});Bz.muiName="Input";const WR=Zt(ave,{name:"MuiInput"})(Bz);var uve=function(t){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:t.transitions.create(["color","transform"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},lve=x.exports.forwardRef(function(t,n){var r=t.classes,i=t.className,o=t.disableAnimation,a=o===void 0?!1:o;t.margin;var u=t.shrink;t.variant;var c=Ke(t,["classes","className","disableAnimation","margin","shrink","variant"]),f=Cv(),d=u;typeof d>"u"&&f&&(d=f.filled||f.focused||f.adornedStart);var p=Uf({props:t,muiFormControl:f,states:["margin","variant"]});return N(ive,{"data-shrink":d,className:tt(r.root,i,f&&r.formControl,!a&&r.animated,d&&r.shrink,p.margin==="dense"&&r.marginDense,{filled:r.filled,outlined:r.outlined}[p.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n,...c})});const cve=Zt(uve,{name:"MuiInputLabel"})(lve);var fve=x.exports.createContext({});const hve=fve;var dve={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},pve=x.exports.forwardRef(function(t,n){var r=t.children,i=t.classes,o=t.className,a=t.component,u=a===void 0?"ul":a,c=t.dense,f=c===void 0?!1:c,d=t.disablePadding,p=d===void 0?!1:d,g=t.subheader,m=Ke(t,["children","classes","className","component","dense","disablePadding","subheader"]),w=x.exports.useMemo(function(){return{dense:f}},[f]);return N(hve.Provider,{value:w,children:re(u,{className:tt(i.root,o,f&&i.dense,!p&&i.padding,g&&i.subheader),ref:n,...m,children:[g,r]})})});const vve=Zt(dve,{name:"MuiList"})(pve);function r4(e,t){var n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function i4(e,t){var n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function o4(e){return[e.horizontal,e.vertical].map(function(t){return typeof t=="number"?"".concat(t,"px"):t}).join(" ")}function gve(e,t){for(var n=t,r=0;n&&n!==e;)n=n.parentElement,r+=n.scrollTop;return r}function lS(e){return typeof e=="function"?e():e}var mve={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},yve=x.exports.forwardRef(function(t,n){var r=t.action,i=t.anchorEl,o=t.anchorOrigin,a=o===void 0?{vertical:"top",horizontal:"left"}:o,u=t.anchorPosition,c=t.anchorReference,f=c===void 0?"anchorEl":c,d=t.children,p=t.classes,g=t.className,m=t.container,w=t.elevation,_=w===void 0?8:w,T=t.getContentAnchorEl,b=t.marginThreshold,S=b===void 0?16:b,C=t.onEnter,O=t.onEntered,P=t.onEntering,R=t.onExit,F=t.onExited,L=t.onExiting,$=t.open,k=t.PaperProps,H=k===void 0?{}:k,J=t.transformOrigin,ae=J===void 0?{vertical:"top",horizontal:"left"}:J,ne=t.TransitionComponent,se=ne===void 0?sve:ne,pe=t.transitionDuration,Te=pe===void 0?"auto":pe,U=t.TransitionProps,V=U===void 0?{}:U,j=Ke(t,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),G=x.exports.useRef(),Q=x.exports.useCallback(function(Oe){if(f==="anchorPosition")return u;var We=lS(i),lt=We&&We.nodeType===1?We:Uo(G.current).body,Ae=lt.getBoundingClientRect(),_t=Oe===0?a.vertical:"center";return{top:Ae.top+r4(Ae,_t),left:Ae.left+i4(Ae,a.horizontal)}},[i,a.horizontal,a.vertical,u,f]),de=x.exports.useCallback(function(Oe){var We=0;if(T&&f==="anchorEl"){var lt=T(Oe);if(lt&&Oe.contains(lt)){var Ae=gve(Oe,lt);We=lt.offsetTop+lt.clientHeight/2-Ae||0}}return We},[a.vertical,f,T]),ce=x.exports.useCallback(function(Oe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:r4(Oe,ae.vertical)+We,horizontal:i4(Oe,ae.horizontal)}},[ae.horizontal,ae.vertical]),Ie=x.exports.useCallback(function(Oe){var We=de(Oe),lt={width:Oe.offsetWidth,height:Oe.offsetHeight},Ae=ce(lt,We);if(f==="none")return{top:null,left:null,transformOrigin:o4(Ae)};var _t=Q(We),Ee=_t.top-Ae.vertical,nt=_t.left-Ae.horizontal,St=Ee+lt.height,pr=nt+lt.width,Xn=FR(lS(i)),Yr=Xn.innerHeight-S,bn=Xn.innerWidth-S;if(Ee<S){var zt=Ee-S;Ee-=zt,Ae.vertical+=zt}else if(St>Yr){var Tt=St-Yr;Ee-=Tt,Ae.vertical+=Tt}if(nt<S){var Jn=nt-S;nt-=Jn,Ae.horizontal+=Jn}else if(pr>bn){var Dn=pr-bn;nt-=Dn,Ae.horizontal+=Dn}return{top:"".concat(Math.round(Ee),"px"),left:"".concat(Math.round(nt),"px"),transformOrigin:o4(Ae)}},[i,f,Q,de,ce,S]),ve=x.exports.useCallback(function(){var Oe=G.current;if(!!Oe){var We=Ie(Oe);We.top!==null&&(Oe.style.top=We.top),We.left!==null&&(Oe.style.left=We.left),Oe.style.transformOrigin=We.transformOrigin}},[Ie]),Me=function(We,lt){P&&P(We,lt),ve()},ye=x.exports.useCallback(function(Oe){G.current=pi.exports.findDOMNode(Oe)},[]);x.exports.useEffect(function(){$&&ve()}),x.exports.useImperativeHandle(r,function(){return $?{updatePosition:function(){ve()}}:null},[$,ve]),x.exports.useEffect(function(){if(!!$){var Oe=LR(function(){ve()});return window.addEventListener("resize",Oe),function(){Oe.clear(),window.removeEventListener("resize",Oe)}}},[$,ve]);var Rt=Te;Te==="auto"&&!se.muiSupportAuto&&(Rt=void 0);var _n=m||(i?Uo(lS(i)).body:void 0);return N(jpe,{container:_n,open:$,ref:n,BackdropProps:{invisible:!0},className:tt(p.root,g),...j,children:N(se,{appear:!0,in:$,onEnter:C,onEntered:O,onExit:R,onExited:F,onExiting:L,timeout:Rt,...V,onEntering:r0(Me,V.onEntering),children:N(cpe,{elevation:_,ref:ye,...H,className:tt(p.paper,H.className),children:d})})})});const wve=Zt(mve,{name:"MuiPopover"})(yve);function cS(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function s4(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function zz(e,t){if(t===void 0)return!0;var n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Vh(e,t,n,r,i,o){for(var a=!1,u=i(e,t,t?n:!1);u;){if(u===e.firstChild){if(a)return;a=!0}var c=r?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!zz(u,o)||c)u=i(e,u,n);else{u.focus();return}}}var _ve=typeof window>"u"?x.exports.useEffect:x.exports.useLayoutEffect,bve=x.exports.forwardRef(function(t,n){var r=t.actions,i=t.autoFocus,o=i===void 0?!1:i,a=t.autoFocusItem,u=a===void 0?!1:a,c=t.children,f=t.className,d=t.disabledItemsFocusable,p=d===void 0?!1:d,g=t.disableListWrap,m=g===void 0?!1:g,w=t.onKeyDown,_=t.variant,T=_===void 0?"selectedMenu":_,b=Ke(t,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),S=x.exports.useRef(null),C=x.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});_ve(function(){o&&S.current.focus()},[o]),x.exports.useImperativeHandle(r,function(){return{adjustStyleForScrollbar:function(k,H){var J=!S.current.style.width;if(k.clientHeight<S.current.clientHeight&&J){var ae="".concat($z(),"px");S.current.style[H.direction==="rtl"?"paddingLeft":"paddingRight"]=ae,S.current.style.width="calc(100% + ".concat(ae,")")}return S.current}}},[]);var O=function(k){var H=S.current,J=k.key,ae=Uo(H).activeElement;if(J==="ArrowDown")k.preventDefault(),Vh(H,ae,m,p,cS);else if(J==="ArrowUp")k.preventDefault(),Vh(H,ae,m,p,s4);else if(J==="Home")k.preventDefault(),Vh(H,null,m,p,cS);else if(J==="End")k.preventDefault(),Vh(H,null,m,p,s4);else if(J.length===1){var ne=C.current,se=J.toLowerCase(),pe=performance.now();ne.keys.length>0&&(pe-ne.lastTime>500?(ne.keys=[],ne.repeating=!0,ne.previousKeyMatched=!0):ne.repeating&&se!==ne.keys[0]&&(ne.repeating=!1)),ne.lastTime=pe,ne.keys.push(se);var Te=ae&&!ne.repeating&&zz(ae,ne);ne.previousKeyMatched&&(Te||Vh(H,ae,!1,p,cS,ne))?k.preventDefault():ne.previousKeyMatched=!1}w&&w(k)},P=x.exports.useCallback(function($){S.current=pi.exports.findDOMNode($)},[]),R=Rr(P,n),F=-1;x.exports.Children.forEach(c,function($,k){!x.exports.isValidElement($)||$.props.disabled||(T==="selectedMenu"&&$.props.selected||F===-1)&&(F=k)});var L=x.exports.Children.map(c,function($,k){if(k===F){var H={};return u&&(H.autoFocus=!0),$.props.tabIndex===void 0&&T==="selectedMenu"&&(H.tabIndex=0),x.exports.cloneElement($,H)}return $});return N(vve,{role:"menu",ref:R,className:f,onKeyDown:O,tabIndex:o?0:-1,...b,children:L})});const Eve=bve;var a4={vertical:"top",horizontal:"right"},u4={vertical:"top",horizontal:"left"},Sve={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},Tve=x.exports.forwardRef(function(t,n){var r=t.autoFocus,i=r===void 0?!0:r,o=t.children,a=t.classes,u=t.disableAutoFocusItem,c=u===void 0?!1:u,f=t.MenuListProps,d=f===void 0?{}:f,p=t.onClose,g=t.onEntering,m=t.open,w=t.PaperProps,_=w===void 0?{}:w,T=t.PopoverClasses,b=t.transitionDuration,S=b===void 0?"auto":b,C=t.TransitionProps;C=C===void 0?{}:C;var O=C.onEntering,P=Ke(C,["onEntering"]),R=t.variant,F=R===void 0?"selectedMenu":R,L=Ke(t,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),$=MR(),k=i&&!c&&m,H=x.exports.useRef(null),J=x.exports.useRef(null),ae=function(){return J.current},ne=function(V,j){H.current&&H.current.adjustStyleForScrollbar(V,$),g&&g(V,j),O&&O(V,j)},se=function(V){V.key==="Tab"&&(V.preventDefault(),p&&p(V,"tabKeyDown"))},pe=-1;x.exports.Children.map(o,function(U,V){!x.exports.isValidElement(U)||U.props.disabled||(F!=="menu"&&U.props.selected||pe===-1)&&(pe=V)});var Te=x.exports.Children.map(o,function(U,V){return V===pe?x.exports.cloneElement(U,{ref:function(G){J.current=pi.exports.findDOMNode(G),gf(U.ref,G)}}):U});return N(wve,{getContentAnchorEl:ae,classes:T,onClose:p,TransitionProps:ee({onEntering:ne},P),anchorOrigin:$.direction==="rtl"?a4:u4,transformOrigin:$.direction==="rtl"?a4:u4,PaperProps:ee({},_,{classes:ee({},_.classes,{root:a.paper})}),open:m,ref:n,transitionDuration:S,...L,children:N(Eve,{onKeyDown:se,actions:H,autoFocus:i&&(pe===-1||c),autoFocusItem:k,variant:F,...d,className:tt(a.list,d.className),children:Te})})});const Ive=Zt(Sve,{name:"MuiMenu"})(Tve);var Cve=x.exports.forwardRef(function(t,n){var r=t.classes,i=t.className,o=t.disabled,a=t.IconComponent,u=t.inputRef,c=t.variant,f=c===void 0?"standard":c,d=Ke(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return re(ba,{children:[N("select",{className:tt(r.root,r.select,r[f],i,o&&r.disabled),disabled:o,ref:u||n,...d}),t.multiple?null:N(a,{className:tt(r.icon,r["icon".concat(Tr(f))],o&&r.disabled)})]})});const qz=Cve,Wz=xz(N("path",{d:"M7 10l5 5 5-5z"}));var Hz=function(t){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:t.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:t.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:t.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:t.palette.action.active,"&$disabled":{color:t.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},kve=N(WR,{}),Kz=x.exports.forwardRef(function(t,n){var r=t.children,i=t.classes,o=t.IconComponent,a=o===void 0?Wz:o,u=t.input,c=u===void 0?kve:u,f=t.inputProps;t.variant;var d=Ke(t,["children","classes","IconComponent","input","inputProps","variant"]),p=Cv(),g=Uf({props:t,muiFormControl:p,states:["variant"]});return x.exports.cloneElement(c,ee({inputComponent:qz,inputProps:ee({children:r,classes:i,IconComponent:a,variant:g.variant,type:void 0},f,c?c.props.inputProps:{}),ref:n},d))});Kz.muiName="Select";Zt(Hz,{name:"MuiNativeSelect"})(Kz);var xve=function(t){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}},Rve=x.exports.forwardRef(function(t,n){t.children;var r=t.classes,i=t.className,o=t.label,a=t.labelWidth,u=t.notched,c=t.style,f=Ke(t,["children","classes","className","label","labelWidth","notched","style"]),d=MR(),p=d.direction==="rtl"?"right":"left";if(o!==void 0)return N("fieldset",{"aria-hidden":!0,className:tt(r.root,i),ref:n,style:c,...f,children:N("legend",{className:tt(r.legendLabelled,u&&r.legendNotched),children:o?N("span",{children:o}):N("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})})});var g=a>0?a*.75+8:.01;return N("fieldset",{"aria-hidden":!0,style:ee(Id({},"padding".concat(Tr(p)),8),c),className:tt(r.root,i),ref:n,...f,children:N("legend",{className:r.legend,style:{width:u?g:.01},children:N("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})})})});const Nve=Zt(xve,{name:"PrivateNotchedOutline"})(Rve);var Ave=function(t){var n=t.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:t.shape.borderRadius,"&:hover $notchedOutline":{borderColor:t.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:n}},"&$focused $notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:t.palette.error.main},"&$disabled $notchedOutline":{borderColor:t.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:t.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:n},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:t.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.type==="light"?null:"#fff",caretColor:t.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},Gz=x.exports.forwardRef(function(t,n){var r=t.classes,i=t.fullWidth,o=i===void 0?!1:i,a=t.inputComponent,u=a===void 0?"input":a,c=t.label,f=t.labelWidth,d=f===void 0?0:f,p=t.multiline,g=p===void 0?!1:p,m=t.notched,w=t.type,_=w===void 0?"text":w,T=Ke(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return N(qR,{renderSuffix:function(S){return N(Nve,{className:r.notchedOutline,label:c,labelWidth:d,notched:typeof m<"u"?m:Boolean(S.startAdornment||S.filled||S.focused)})},classes:ee({},r,{root:tt(r.root,r.underline),notchedOutline:null}),fullWidth:o,inputComponent:u,multiline:g,ref:n,type:_,...T})});Gz.muiName="Input";const Qz=Zt(Ave,{name:"MuiOutlinedInput"})(Gz);function l4(e,t){return t0(t)==="object"&&t!==null?e===t:String(e)===String(t)}function Pve(e){return e==null||typeof e=="string"&&!e.trim()}var Ove=x.exports.forwardRef(function(t,n){var r=t["aria-label"],i=t.autoFocus,o=t.autoWidth,a=t.children,u=t.classes,c=t.className,f=t.defaultValue,d=t.disabled,p=t.displayEmpty,g=t.IconComponent,m=t.inputRef,w=t.labelId,_=t.MenuProps,T=_===void 0?{}:_,b=t.multiple,S=t.name,C=t.onBlur,O=t.onChange,P=t.onClose,R=t.onFocus,F=t.onOpen,L=t.open,$=t.readOnly,k=t.renderValue,H=t.SelectDisplayProps,J=H===void 0?{}:H,ae=t.tabIndex;t.type;var ne=t.value,se=t.variant,pe=se===void 0?"standard":se,Te=Ke(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),U=Rz({controlled:ne,default:f,name:"Select"}),V=uz(U,2),j=V[0],G=V[1],Q=x.exports.useRef(null),de=x.exports.useState(null),ce=de[0],Ie=de[1],ve=x.exports.useRef(L!=null),Me=ve.current,ye=x.exports.useState(),Rt=ye[0],_n=ye[1],Oe=x.exports.useState(!1),We=Oe[0],lt=Oe[1],Ae=Rr(n,m);x.exports.useImperativeHandle(Ae,function(){return{focus:function(){ce.focus()},node:Q.current,value:j}},[ce,j]),x.exports.useEffect(function(){i&&ce&&ce.focus()},[i,ce]),x.exports.useEffect(function(){if(ce){var ke=Uo(ce).getElementById(w);if(ke){var Ne=function(){getSelection().isCollapsed&&ce.focus()};return ke.addEventListener("click",Ne),function(){ke.removeEventListener("click",Ne)}}}},[w,ce]);var _t=function(Ne,gt){Ne?F&&F(gt):P&&P(gt),Me||(_n(o?null:ce.clientWidth),lt(Ne))},Ee=function(Ne){Ne.button===0&&(Ne.preventDefault(),ce.focus(),_t(!0,Ne))},nt=function(Ne){_t(!1,Ne)},St=x.exports.Children.toArray(a),pr=function(Ne){var gt=St.map(function(Bo){return Bo.props.value}).indexOf(Ne.target.value);if(gt!==-1){var It=St[gt];G(It.props.value),O&&O(Ne,It)}},Xn=function(Ne){return function(gt){b||_t(!1,gt);var It;if(b){It=Array.isArray(j)?j.slice():[];var Bo=j.indexOf(Ne.props.value);Bo===-1?It.push(Ne.props.value):It.splice(Bo,1)}else It=Ne.props.value;Ne.props.onClick&&Ne.props.onClick(gt),j!==It&&(G(It),O&&(gt.persist(),Object.defineProperty(gt,"target",{writable:!0,value:{value:It,name:S}}),O(gt,Ne)))}},Yr=function(Ne){if(!$){var gt=[" ","ArrowUp","ArrowDown","Enter"];gt.indexOf(Ne.key)!==-1&&(Ne.preventDefault(),_t(!0,Ne))}},bn=ce!==null&&(Me?L:We),zt=function(Ne){!bn&&C&&(Ne.persist(),Object.defineProperty(Ne,"target",{writable:!0,value:{value:j,name:S}}),C(Ne))};delete Te["aria-invalid"];var Tt,Jn,Dn=[],Je=!1;(zR({value:j})||p)&&(k?Tt=k(j):Je=!0);var fn=St.map(function(ke){if(!x.exports.isValidElement(ke))return null;var Ne;if(b){if(!Array.isArray(j))throw new Error(vf(2));Ne=j.some(function(gt){return l4(gt,ke.props.value)}),Ne&&Je&&Dn.push(ke.props.children)}else Ne=l4(j,ke.props.value),Ne&&Je&&(Jn=ke.props.children);return x.exports.cloneElement(ke,{"aria-selected":Ne?"true":void 0,onClick:Xn(ke),onKeyUp:function(It){It.key===" "&&It.preventDefault(),ke.props.onKeyUp&&ke.props.onKeyUp(It)},role:"option",selected:Ne,value:void 0,"data-value":ke.props.value})});Je&&(Tt=b?Dn.join(", "):Jn);var Ze=Rt;!o&&Me&&ce&&(Ze=ce.clientWidth);var ji;typeof ae<"u"?ji=ae:ji=d?null:0;var Vi=J.id||(S?"mui-component-select-".concat(S):void 0);return re(ba,{children:[N("div",{className:tt(u.root,u.select,u.selectMenu,u[pe],c,d&&u.disabled),ref:Ie,tabIndex:ji,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":bn?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[w,Vi].filter(Boolean).join(" ")||void 0,onKeyDown:Yr,onMouseDown:d||$?null:Ee,onBlur:zt,onFocus:R,...J,id:Vi,children:Pve(Tt)?N("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):Tt}),N("input",{value:Array.isArray(j)?j.join(","):j,name:S,ref:Q,"aria-hidden":!0,onChange:pr,tabIndex:-1,className:u.nativeInput,autoFocus:i,...Te}),N(g,{className:tt(u.icon,u["icon".concat(Tr(pe))],bn&&u.iconOpen,d&&u.disabled)}),N(Ive,{id:"menu-".concat(S||""),anchorEl:ce,open:bn,onClose:nt,...T,MenuListProps:ee({"aria-labelledby":w,role:"listbox",disableListWrap:!0},T.MenuListProps),PaperProps:ee({},T.PaperProps,{style:ee({minWidth:Ze},T.PaperProps!=null?T.PaperProps.style:null)}),children:fn})]})});const Dve=Ove;var Mve=Hz,Lve=N(WR,{}),Fve=N(jz,{}),Yz=x.exports.forwardRef(function e(t,n){var r=t.autoWidth,i=r===void 0?!1:r,o=t.children,a=t.classes,u=t.displayEmpty,c=u===void 0?!1:u,f=t.IconComponent,d=f===void 0?Wz:f,p=t.id,g=t.input,m=t.inputProps,w=t.label,_=t.labelId,T=t.labelWidth,b=T===void 0?0:T,S=t.MenuProps,C=t.multiple,O=C===void 0?!1:C,P=t.native,R=P===void 0?!1:P,F=t.onClose,L=t.onOpen,$=t.open,k=t.renderValue,H=t.SelectDisplayProps,J=t.variant,ae=J===void 0?"standard":J,ne=Ke(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),se=R?qz:Dve,pe=Cv(),Te=Uf({props:t,muiFormControl:pe,states:["variant"]}),U=Te.variant||ae,V=g||{standard:Lve,outlined:N(Qz,{label:w,labelWidth:b}),filled:Fve}[U];return x.exports.cloneElement(V,ee({inputComponent:se,inputProps:ee({children:o,IconComponent:d,variant:U,type:void 0,multiple:O},R?{id:p}:{autoWidth:i,displayEmpty:c,labelId:_,MenuProps:S,onClose:F,onOpen:L,open:$,renderValue:k,SelectDisplayProps:ee({id:p},H)},m,{classes:m?DR({baseClasses:a,newClasses:m.classes,Component:e}):a},g?g.props.inputProps:{}),ref:n},ne))});Yz.muiName="Select";const $ve=Zt(Mve,{name:"MuiSelect"})(Yz);var Uve={standard:WR,filled:jz,outlined:Qz},jve={root:{}},Vve=x.exports.forwardRef(function(t,n){var r=t.autoComplete,i=t.autoFocus,o=i===void 0?!1:i,a=t.children,u=t.classes,c=t.className,f=t.color,d=f===void 0?"primary":f,p=t.defaultValue,g=t.disabled,m=g===void 0?!1:g,w=t.error,_=w===void 0?!1:w,T=t.FormHelperTextProps,b=t.fullWidth,S=b===void 0?!1:b,C=t.helperText,O=t.hiddenLabel,P=t.id,R=t.InputLabelProps,F=t.inputProps,L=t.InputProps,$=t.inputRef,k=t.label,H=t.multiline,J=H===void 0?!1:H,ae=t.name,ne=t.onBlur,se=t.onChange,pe=t.onFocus,Te=t.placeholder,U=t.required,V=U===void 0?!1:U,j=t.rows,G=t.rowsMax,Q=t.maxRows,de=t.minRows,ce=t.select,Ie=ce===void 0?!1:ce,ve=t.SelectProps,Me=t.type,ye=t.value,Rt=t.variant,_n=Rt===void 0?"standard":Rt,Oe=Ke(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]),We={};if(_n==="outlined"&&(R&&typeof R.shrink<"u"&&(We.notched=R.shrink),k)){var lt,Ae=(lt=R==null?void 0:R.required)!==null&&lt!==void 0?lt:V;We.label=re(ba,{children:[k,Ae&&"\xA0*"]})}Ie&&((!ve||!ve.native)&&(We.id=void 0),We["aria-describedby"]=void 0);var _t=C&&P?"".concat(P,"-helper-text"):void 0,Ee=k&&P?"".concat(P,"-label"):void 0,nt=Uve[_n],St=N(nt,{"aria-describedby":_t,autoComplete:r,autoFocus:o,defaultValue:p,fullWidth:S,multiline:J,name:ae,rows:j,rowsMax:G,maxRows:Q,minRows:de,type:Me,value:ye,id:P,inputRef:$,onBlur:ne,onChange:se,onFocus:pe,placeholder:Te,inputProps:F,...We,...L});return re(Jpe,{className:tt(u.root,c),disabled:m,error:_,fullWidth:S,hiddenLabel:O,ref:n,required:V,color:d,variant:_n,...Oe,children:[k&&N(cve,{htmlFor:P,id:Ee,...R,children:k}),Ie?N($ve,{"aria-describedby":_t,id:P,labelId:Ee,value:ye,input:St,...ve,children:a}):St,C&&N(tve,{id:_t,...T,children:C})]})});const Jo=Zt(jve,{name:"MuiTextField"})(Vve);var HR={},en={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(en);var tn={exports:{}},Xz={exports:{}};(function(e){function t(n){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Xz);(function(e){var t=Xz.exports.default;function n(i){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(n=function(c){return c?a:o})(i)}function r(i,o){if(!o&&i&&i.__esModule)return i;if(i===null||t(i)!=="object"&&typeof i!="function")return{default:i};var a=n(o);if(a&&a.has(i))return a.get(i);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in i)if(f!=="default"&&Object.prototype.hasOwnProperty.call(i,f)){var d=c?Object.getOwnPropertyDescriptor(i,f):null;d&&(d.get||d.set)?Object.defineProperty(u,f,d):u[f]=i[f]}return u.default=i,a&&a.set(i,u),u}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(tn);var fS={};const Bve=yK(Vde);var c4;function cn(){return c4||(c4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Bve}(fS)),fS}var zve=en.exports,qve=tn.exports;Object.defineProperty(HR,"__esModule",{value:!0});var e_=HR.default=void 0,Wve=qve(x.exports),Hve=zve(cn()),Kve=(0,Hve.default)(Wve.createElement("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");e_=HR.default=Kve;function Gve(){let[e,t]=x.exports.useState(""),[n,r]=x.exports.useState(""),[i,o]=x.exports.useState(null);return N("div",{className:"auth login",children:re("div",{className:"auth__container",children:[N("div",{className:"twittericon",children:N(e_,{})}),N("h1",{children:"Log in to Twitter"}),re("form",{className:"auth__form",onSubmit:u=>{u.preventDefault(),Kw.signInWithEmailAndPassword(e,n).then(()=>{o(null)}).catch(c=>{o(c)})},children:[N(Jo,{required:!0,label:"Email",variant:"outlined",type:"email",value:e,onChange:u=>t(u.target.value)}),N(Jo,{required:!0,label:"Password",variant:"outlined",type:"password",value:n,onChange:u=>r(u.target.value)}),i?N("p",{className:"error",children:i.message}):"",N("button",{type:"submit",className:"auth__submit",children:"Login"})]}),N(Pi,{to:"/register",children:"Sign up for Twitter"})]})})}const jf="/assets/blank_profile_img.c6176daa.png",Qve=e=>{let[t,n]=x.exports.useState(null),[r,i]=x.exports.useState(!0),[o,a]=x.exports.useState(null);return x.exports.useEffect(()=>{if(e===null)i(!1);else{i(!0);let u=$ce.ref("profileimages/"+e.name);u.put(e).then(async()=>{const c=await u.getDownloadURL();console.log(c),n(c),i(!1),a(null)}).catch(c=>{a(c),i(!1)})}},[e]),{URL:t,loading:r,error:o}};function ro(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ra(e){return!!e&&!!e[Ot]}function ms(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===ige}(e)||Array.isArray(e)||!!e[m4]||!!e.constructor[m4]||KR(e)||GR(e))}function sl(e,t,n){n===void 0&&(n=!1),Vf(e)===0?(n?Object.keys:Oc)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Vf(e){var t=e[Ot];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:KR(e)?2:GR(e)?3:0}function Pc(e,t){return Vf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Yve(e,t){return Vf(e)===2?e.get(t):e[t]}function Jz(e,t,n){var r=Vf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function Zz(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function KR(e){return nge&&e instanceof Map}function GR(e){return rge&&e instanceof Set}function mu(e){return e.o||e.t}function QR(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=tq(e);delete t[Ot];for(var n=Oc(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function YR(e,t){return t===void 0&&(t=!1),XR(e)||Ra(e)||!ms(e)||(Vf(e)>1&&(e.set=e.add=e.clear=e.delete=Xve),Object.freeze(e),t&&sl(e,function(n,r){return YR(r,!0)},!0)),e}function Xve(){ro(2)}function XR(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Do(e){var t=BI[e];return t||ro(18,e),t}function Jve(e,t){BI[e]||(BI[e]=t)}function UI(){return Ep}function hS(e,t){t&&(Do("Patches"),e.u=[],e.s=[],e.v=t)}function o0(e){jI(e),e.p.forEach(Zve),e.p=null}function jI(e){e===Ep&&(Ep=e.l)}function f4(e){return Ep={p:[],l:Ep,h:e,m:!0,_:0}}function Zve(e){var t=e[Ot];t.i===0||t.i===1?t.j():t.O=!0}function dS(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Do("ES5").S(t,e,r),r?(n[Ot].P&&(o0(t),ro(4)),ms(e)&&(e=s0(t,e),t.l||a0(t,e)),t.u&&Do("Patches").M(n[Ot].t,e,t.u,t.s)):e=s0(t,n,[]),o0(t),t.u&&t.v(t.u,t.s),e!==eq?e:void 0}function s0(e,t,n){if(XR(t))return t;var r=t[Ot];if(!r)return sl(t,function(o,a){return h4(e,r,t,o,a,n)},!0),t;if(r.A!==e)return t;if(!r.P)return a0(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=QR(r.k):r.o;sl(r.i===3?new Set(i):i,function(o,a){return h4(e,r,i,o,a,n)}),a0(e,i,!1),n&&e.u&&Do("Patches").R(r,n,e.u,e.s)}return r.o}function h4(e,t,n,r,i,o){if(Ra(i)){var a=s0(e,i,o&&t&&t.i!==3&&!Pc(t.D,r)?o.concat(r):void 0);if(Jz(n,r,a),!Ra(a))return;e.m=!1}if(ms(i)&&!XR(i)){if(!e.h.F&&e._<1)return;s0(e,i),t&&t.A.l||a0(e,i)}}function a0(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&YR(t,n)}function pS(e,t){var n=e[Ot];return(n?mu(n):e)[t]}function d4(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Xs(e){e.P||(e.P=!0,e.l&&Xs(e.l))}function vS(e){e.o||(e.o=QR(e.t))}function VI(e,t,n){var r=KR(t)?Do("MapSet").N(t,n):GR(t)?Do("MapSet").T(t,n):e.g?function(i,o){var a=Array.isArray(i),u={i:a?1:0,A:o?o.A:UI(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},c=u,f=Sp;a&&(c=[u],f=Jh);var d=Proxy.revocable(c,f),p=d.revoke,g=d.proxy;return u.k=g,u.j=p,g}(t,n):Do("ES5").J(t,n);return(n?n.A:UI()).p.push(r),r}function ege(e){return Ra(e)||ro(22,e),function t(n){if(!ms(n))return n;var r,i=n[Ot],o=Vf(n);if(i){if(!i.P&&(i.i<4||!Do("ES5").K(i)))return i.t;i.I=!0,r=p4(n,o),i.I=!1}else r=p4(n,o);return sl(r,function(a,u){i&&Yve(i.t,a)===u||Jz(r,a,t(u))}),o===3?new Set(r):r}(e)}function p4(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return QR(e)}function tge(){function e(o,a){var u=i[o];return u?u.enumerable=a:i[o]=u={configurable:!0,enumerable:a,get:function(){var c=this[Ot];return Sp.get(c,o)},set:function(c){var f=this[Ot];Sp.set(f,o,c)}},u}function t(o){for(var a=o.length-1;a>=0;a--){var u=o[a][Ot];if(!u.P)switch(u.i){case 5:r(u)&&Xs(u);break;case 4:n(u)&&Xs(u)}}}function n(o){for(var a=o.t,u=o.k,c=Oc(u),f=c.length-1;f>=0;f--){var d=c[f];if(d!==Ot){var p=a[d];if(p===void 0&&!Pc(a,d))return!0;var g=u[d],m=g&&g[Ot];if(m?m.t!==p:!Zz(g,p))return!0}}var w=!!a[Ot];return c.length!==Oc(a).length+(w?0:1)}function r(o){var a=o.k;if(a.length!==o.t.length)return!0;var u=Object.getOwnPropertyDescriptor(a,a.length-1);if(u&&!u.get)return!0;for(var c=0;c<a.length;c++)if(!a.hasOwnProperty(c))return!0;return!1}var i={};Jve("ES5",{J:function(o,a){var u=Array.isArray(o),c=function(d,p){if(d){for(var g=Array(p.length),m=0;m<p.length;m++)Object.defineProperty(g,""+m,e(m,!0));return g}var w=tq(p);delete w[Ot];for(var _=Oc(w),T=0;T<_.length;T++){var b=_[T];w[b]=e(b,d||!!w[b].enumerable)}return Object.create(Object.getPrototypeOf(p),w)}(u,o),f={i:u?5:4,A:a?a.A:UI(),P:!1,I:!1,D:{},l:a,t:o,k:c,o:null,O:!1,C:!1};return Object.defineProperty(c,Ot,{value:f,writable:!0}),c},S:function(o,a,u){u?Ra(a)&&a[Ot].A===o&&t(o.p):(o.u&&function c(f){if(f&&typeof f=="object"){var d=f[Ot];if(d){var p=d.t,g=d.k,m=d.D,w=d.i;if(w===4)sl(g,function(C){C!==Ot&&(p[C]!==void 0||Pc(p,C)?m[C]||c(g[C]):(m[C]=!0,Xs(d)))}),sl(p,function(C){g[C]!==void 0||Pc(g,C)||(m[C]=!1,Xs(d))});else if(w===5){if(r(d)&&(Xs(d),m.length=!0),g.length<p.length)for(var _=g.length;_<p.length;_++)m[_]=!1;else for(var T=p.length;T<g.length;T++)m[T]=!0;for(var b=Math.min(g.length,p.length),S=0;S<b;S++)g.hasOwnProperty(S)||(m[S]=!0),m[S]===void 0&&c(g[S])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var v4,Ep,JR=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",nge=typeof Map<"u",rge=typeof Set<"u",g4=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",eq=JR?Symbol.for("immer-nothing"):((v4={})["immer-nothing"]=!0,v4),m4=JR?Symbol.for("immer-draftable"):"__$immer_draftable",Ot=JR?Symbol.for("immer-state"):"__$immer_state",ige=""+Object.prototype.constructor,Oc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,tq=Object.getOwnPropertyDescriptors||function(e){var t={};return Oc(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},BI={},Sp={get:function(e,t){if(t===Ot)return e;var n=mu(e);if(!Pc(n,t))return function(i,o,a){var u,c=d4(o,a);return c?"value"in c?c.value:(u=c.get)===null||u===void 0?void 0:u.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!ms(r)?r:r===pS(e.t,t)?(vS(e),e.o[t]=VI(e.A.h,r,e)):r},has:function(e,t){return t in mu(e)},ownKeys:function(e){return Reflect.ownKeys(mu(e))},set:function(e,t,n){var r=d4(mu(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=pS(mu(e),t),o=i==null?void 0:i[Ot];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Zz(n,i)&&(n!==void 0||Pc(e.t,t)))return!0;vS(e),Xs(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return pS(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,vS(e),Xs(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=mu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ro(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ro(12)}},Jh={};sl(Sp,function(e,t){Jh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Jh.deleteProperty=function(e,t){return Jh.set.call(this,e,t,void 0)},Jh.set=function(e,t,n){return Sp.set.call(this,e[0],t,n,e[0])};var oge=function(){function e(n){var r=this;this.g=g4,this.F=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var u=o;o=i;var c=r;return function(_){var T=this;_===void 0&&(_=u);for(var b=arguments.length,S=Array(b>1?b-1:0),C=1;C<b;C++)S[C-1]=arguments[C];return c.produce(_,function(O){var P;return(P=o).call.apply(P,[T,O].concat(S))})}}var f;if(typeof o!="function"&&ro(6),a!==void 0&&typeof a!="function"&&ro(7),ms(i)){var d=f4(r),p=VI(r,i,void 0),g=!0;try{f=o(p),g=!1}finally{g?o0(d):jI(d)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(_){return hS(d,a),dS(_,d)},function(_){throw o0(d),_}):(hS(d,a),dS(f,d))}if(!i||typeof i!="object"){if((f=o(i))===void 0&&(f=i),f===eq&&(f=void 0),r.F&&YR(f,!0),a){var m=[],w=[];Do("Patches").M(i,f,m,w),a(m,w)}return f}ro(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(f){for(var d=arguments.length,p=Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];return r.produceWithPatches(f,function(m){return i.apply(void 0,[m].concat(p))})};var a,u,c=r.produce(i,o,function(f,d){a=f,u=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(f){return[f,a,u]}):[c,a,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){ms(n)||ro(8),Ra(n)&&(n=ege(n));var r=f4(this),i=VI(this,n,void 0);return i[Ot].C=!0,jI(r),i},t.finishDraft=function(n,r){var i=n&&n[Ot],o=i.A;return hS(o,r),dS(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!g4&&ro(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var a=Do("Patches").$;return Ra(n)?a(n,r):this.produce(n,function(u){return a(u,r)})},e}(),di=new oge,nq=di.produce;di.produceWithPatches.bind(di);di.setAutoFreeze.bind(di);di.setUseProxies.bind(di);di.applyPatches.bind(di);di.createDraft.bind(di);di.finishDraft.bind(di);function y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(n),!0).forEach(function(r){Id(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _4=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),gS=function(){return Math.random().toString(36).substring(7).split("").join(".")},u0={INIT:"@@redux/INIT"+gS(),REPLACE:"@@redux/REPLACE"+gS(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+gS()}};function sge(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rq(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nr(1));return n(rq)(e,t)}if(typeof e!="function")throw new Error(nr(2));var i=e,o=t,a=[],u=a,c=!1;function f(){u===a&&(u=a.slice())}function d(){if(c)throw new Error(nr(3));return o}function p(_){if(typeof _!="function")throw new Error(nr(4));if(c)throw new Error(nr(5));var T=!0;return f(),u.push(_),function(){if(!!T){if(c)throw new Error(nr(6));T=!1,f();var S=u.indexOf(_);u.splice(S,1),a=null}}}function g(_){if(!sge(_))throw new Error(nr(7));if(typeof _.type>"u")throw new Error(nr(8));if(c)throw new Error(nr(9));try{c=!0,o=i(o,_)}finally{c=!1}for(var T=a=u,b=0;b<T.length;b++){var S=T[b];S()}return _}function m(_){if(typeof _!="function")throw new Error(nr(10));i=_,g({type:u0.REPLACE})}function w(){var _,T=p;return _={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(nr(11));function C(){S.next&&S.next(d())}C();var O=T(C);return{unsubscribe:O}}},_[_4]=function(){return this},_}return g({type:u0.INIT}),r={dispatch:g,subscribe:p,getState:d,replaceReducer:m},r[_4]=w,r}function age(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:u0.INIT});if(typeof r>"u")throw new Error(nr(12));if(typeof n(void 0,{type:u0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function uge(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),a;try{age(n)}catch(u){a=u}return function(c,f){if(c===void 0&&(c={}),a)throw a;for(var d=!1,p={},g=0;g<o.length;g++){var m=o[g],w=n[m],_=c[m],T=w(_,f);if(typeof T>"u")throw f&&f.type,new Error(nr(14));p[m]=T,d=d||T!==_}return d=d||o.length!==Object.keys(c).length,d?p:c}}function l0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function lge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(nr(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=t.map(function(c){return c(a)});return o=l0.apply(void 0,u)(i.dispatch),w4(w4({},i),{},{dispatch:o})}}}function iq(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(a){return function(u){return typeof u=="function"?u(i,o,e):a(u)}}};return t}var oq=iq();oq.withExtraArgument=iq;const b4=oq;var cge=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fge=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(d){return c([f,d])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(d){f=[6,d],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},c0=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},hge=Object.defineProperty,dge=Object.defineProperties,pge=Object.getOwnPropertyDescriptors,E4=Object.getOwnPropertySymbols,vge=Object.prototype.hasOwnProperty,gge=Object.prototype.propertyIsEnumerable,S4=function(e,t,n){return t in e?hge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ga=function(e,t){for(var n in t||(t={}))vge.call(t,n)&&S4(e,n,t[n]);if(E4)for(var r=0,i=E4(t);r<i.length;r++){var n=i[r];gge.call(t,n)&&S4(e,n,t[n])}return e},mS=function(e,t){return dge(e,pge(t))},mge=function(e,t,n){return new Promise(function(r,i){var o=function(c){try{u(n.next(c))}catch(f){i(f)}},a=function(c){try{u(n.throw(c))}catch(f){i(f)}},u=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(o,a)};u((n=n.apply(e,t)).next())})},yge=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?l0:l0.apply(null,arguments)};function wge(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var _ge=function(e){cge(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,c0([void 0],n[0].concat(this)))):new(t.bind.apply(t,c0([void 0],n.concat(this))))},t}(Array);function zI(e){return ms(e)?nq(e,function(){}):e}function bge(e){return typeof e=="boolean"}function Ege(){return function(t){return Sge(t)}}function Sge(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new _ge;return n&&(bge(n)?r.push(b4):r.push(b4.withExtraArgument(n.extraArgument))),r}var Tge=!0;function Ige(e){var t=Ege(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,a=o===void 0?t():o,u=n.devTools,c=u===void 0?!0:u,f=n.preloadedState,d=f===void 0?void 0:f,p=n.enhancers,g=p===void 0?void 0:p,m;if(typeof i=="function")m=i;else if(wge(i))m=uge(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var w=a;typeof w=="function"&&(w=w(t));var _=lge.apply(void 0,w),T=l0;c&&(T=yge(ga({trace:!Tge},typeof c=="object"&&c)));var b=[_];Array.isArray(g)?b=c0([_],g):typeof g=="function"&&(b=g(b));var S=T.apply(void 0,b);return rq(m,d,S)}function ma(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return ga(ga({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function sq(e){var t={},n=[],r,i={addCase:function(o,a){var u=typeof o=="string"?o:o.type;if(u in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[u]=a,i},addMatcher:function(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function Cge(e){return typeof e=="function"}function kge(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?sq(t):[t,n,r],o=i[0],a=i[1],u=i[2],c;if(Cge(e))c=function(){return zI(e())};else{var f=zI(e);c=function(){return f}}function d(p,g){p===void 0&&(p=c());var m=c0([o[g.type]],a.filter(function(w){var _=w.matcher;return _(g)}).map(function(w){var _=w.reducer;return _}));return m.filter(function(w){return!!w}).length===0&&(m=[u]),m.reduce(function(w,_){if(_)if(Ra(w)){var T=w,b=_(T,g);return b===void 0?w:b}else{if(ms(w))return nq(w,function(S){return _(S,g)});var b=_(w,g);if(b===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}return w},p)}return d.getInitialState=c,d}function xge(e,t){return e+"/"+t}function Rge(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:zI(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},a={},u={};i.forEach(function(d){var p=r[d],g=xge(t,d),m,w;"reducer"in p?(m=p.reducer,w=p.prepare):m=p,o[d]=m,a[g]=m,u[d]=w?ma(g,w):ma(g)});function c(){var d=typeof e.extraReducers=="function"?sq(e.extraReducers):[e.extraReducers],p=d[0],g=p===void 0?{}:p,m=d[1],w=m===void 0?[]:m,_=d[2],T=_===void 0?void 0:_,b=ga(ga({},g),a);return kge(n,b,w,T)}var f;return{name:t,reducer:function(d,p){return f||(f=c()),f(d,p)},actions:u,caseReducers:o,getInitialState:function(){return f||(f=c()),f.getInitialState()}}}var Nge="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Age=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=Nge[Math.random()*64|0];return t},Pge=["name","message","stack","code"],yS=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),T4=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Oge=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=Pge;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};function Dge(e,t,n){var r=ma(e+"/fulfilled",function(c,f,d,p){return{payload:c,meta:mS(ga({},p||{}),{arg:d,requestId:f,requestStatus:"fulfilled"})}}),i=ma(e+"/pending",function(c,f,d){return{payload:void 0,meta:mS(ga({},d||{}),{arg:f,requestId:c,requestStatus:"pending"})}}),o=ma(e+"/rejected",function(c,f,d,p,g){return{payload:p,error:(n&&n.serializeError||Oge)(c||"Rejected"),meta:mS(ga({},g||{}),{arg:d,requestId:f,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function u(c){return function(f,d,p){var g=n!=null&&n.idGenerator?n.idGenerator(c):Age(),m=new a,w,_=new Promise(function(C,O){return m.signal.addEventListener("abort",function(){return O({name:"AbortError",message:w||"Aborted"})})}),T=!1;function b(C){T&&(w=C,m.abort())}var S=function(){return mge(this,null,function(){var C,O,P,R,F,L;return fge(this,function($){switch($.label){case 0:return $.trys.push([0,4,,5]),R=(C=n==null?void 0:n.condition)==null?void 0:C.call(n,c,{getState:d,extra:p}),Lge(R)?[4,R]:[3,2];case 1:R=$.sent(),$.label=2;case 2:if(R===!1)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=!0,f(i(g,c,(O=n==null?void 0:n.getPendingMeta)==null?void 0:O.call(n,{requestId:g,arg:c},{getState:d,extra:p}))),[4,Promise.race([_,Promise.resolve(t(c,{dispatch:f,getState:d,extra:p,requestId:g,signal:m.signal,rejectWithValue:function(k,H){return new yS(k,H)},fulfillWithValue:function(k,H){return new T4(k,H)}})).then(function(k){if(k instanceof yS)throw k;return k instanceof T4?r(k.payload,g,c,k.meta):r(k,g,c)})])];case 3:return P=$.sent(),[3,5];case 4:return F=$.sent(),P=F instanceof yS?o(null,g,c,F.payload,F.meta):o(F,g,c),[3,5];case 5:return L=n&&!n.dispatchConditionRejection&&o.match(P)&&P.meta.condition,L||f(P),[2,P]}})})}();return Object.assign(S,{abort:b,requestId:g,arg:c,unwrap:function(){return S.then(Mge)}})}}return Object.assign(u,{pending:i,rejected:o,fulfilled:r,typePrefix:e})}function Mge(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Lge(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var ZR="listenerMiddleware";ma(ZR+"/add");ma(ZR+"/removeAll");ma(ZR+"/remove");tge();const Fge={user:null,dataStatus:"loading"},Rd=Dge("counter/login",async e=>{const n=(await Xt.collection("users").doc(e.uid).get()).data();return{user:e,data:n}}),aq=Rge({name:"user",initialState:Fge,reducers:{addAuthData:(e,t)=>{e.userData=t.payload.userData},logout:e=>{e.user=null,e.userData=null,e.dataStatus="idle"}},extraReducers:e=>{e.addCase(Rd.pending,t=>{t.dataStatus="loading"}).addCase(Rd.fulfilled,(t,n)=>{t.dataStatus="idle",t.user=n.payload.user,t.userData=n.payload.data}).addCase(Rd.rejected,t=>{t.dataStatus="idle",t.user=null,t.userData=null})}}),{addAuthData:Vye,logout:uq}=aq.actions,Ba=e=>e.user,$ge=aq.reducer;function Uge(){let[e,t]=x.exports.useState(""),[n,r]=x.exports.useState(""),[i,o]=x.exports.useState(""),[a,u]=x.exports.useState(""),[c,f]=x.exports.useState(""),[d,p]=x.exports.useState(null),[g,m]=x.exports.useState(""),[w,_]=x.exports.useState(null),[T,b]=x.exports.useState(!1),[S,C]=x.exports.useState(!0);const O=qC();let{URL:P,loading:R,error:F}=Qve(d);var[L,$]=x.exports.useState([]);x.exports.useEffect(()=>{(async()=>{let J=await Xt.collection("usernames").doc("usernames").get();$(J.data().usernames),console.log(L)})()},[]);const k=J=>{const ae=J.target.files[0];p(ae)};return N("div",{className:"auth register",children:re("div",{className:"auth__container",children:[N("div",{className:"twittericon",children:N(e_,{})}),N("h1",{children:"Sign Up for Twitter"}),re("form",{className:"auth__form",onSubmit:J=>{if(J.preventDefault(),!S||R||T)return;const ae=new Date,ne={fname:e,lname:n,username:i,email:a,photoURL:P,bday:g,joinedAt:ae.toUTCString(),tweets:[],likes:[],comments:[],following:[],followers:[],isVerified:!1,uid:null};Kw.createUserWithEmailAndPassword(a,c).then(se=>{ne.uid=se.user.uid,se.user.updateProfile({displayName:e+" "+n,photoURL:P}).then(()=>Xt.collection("users").doc(se.user.uid).set(ne).then(()=>(O(Rd(se.user)),Xt.collection("usernames").doc("usernames").update({usernames:Uce.FieldValue.arrayUnion(i)})))).then(()=>{Xt.collection("notifications").add({event:"New User Joined!",eventAuthor:ne.uid})})}).catch(se=>{_(se)})},children:[re("div",{className:"register__image"+(R?" uploading":"")+(w?" error":""),children:[N("input",{color:"primary",accept:"image/*",type:"file",onChange:k,id:"icon-button-file",style:{display:"none"}}),N("label",{htmlFor:"icon-button-file",children:N("img",{src:P===null?jf:P,alt:"profile_image",className:"register__image"})})]}),re("div",{className:"register__name",children:[N(Jo,{label:"First Name",variant:"outlined",type:"text",value:e,onChange:J=>t(J.target.value),required:!0}),N(Jo,{label:"Last Name",variant:"outlined",type:"text",value:n,onChange:J=>r(J.target.value)})]}),N(Jo,{label:"Username",variant:"outlined",type:"text",value:i,onChange:J=>{const ae=J.target.value.trim();console.log(L),L.includes(ae)?b("This username is already taken"):i.includes(" ")?b("No spaces allowed in username"):b(!1),o(ae)},required:!0}),T?N("p",{className:"register__validate",children:T}):"",N(Jo,{label:"Email",variant:"outlined",type:"email",value:a,onChange:J=>u(J.target.value),required:!0}),N(Jo,{label:"Password",variant:"outlined",type:"password",value:c,onChange:J=>f(J.target.value),required:!0}),N(Jo,{label:"Birthday",type:"date",InputLabelProps:{shrink:!0},value:g,required:!0,onChange:J=>{m(J.target.value);var ae=new Date,ne=new Date(J.target.value),se=ae.getFullYear()-ne.getFullYear(),pe=ae.getMonth()-ne.getMonth();(pe<0||pe===0&&ae.getDate()<ne.getDate())&&se--,se<13?C(!1):C(!0)}}),S?"":N("p",{className:"register__validate",children:"You should be atleast 13 years old"}),w?N("p",{className:"error",children:w.message}):"",F?N("p",{className:"error",children:F.message}):"",N("button",{type:"submit",className:"auth__submit",disabled:!S||T||R,children:"Register"})]}),N(Pi,{to:"/login",children:"Already have an account?"})]})})}var eN={},jge=en.exports,Vge=tn.exports;Object.defineProperty(eN,"__esModule",{value:!0});var lq=eN.default=void 0,Bge=Vge(x.exports),zge=jge(cn()),qge=(0,zge.default)(Bge.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 14H6l-2 2V5c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1z"}),"ChatBubbleOutlineRounded");lq=eN.default=qge;var tN={},Wge=en.exports,Hge=tn.exports;Object.defineProperty(tN,"__esModule",{value:!0});var cq=tN.default=void 0,Kge=Hge(x.exports),Gge=Wge(cn()),Qge=(0,Gge.default)(Kge.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Loop");cq=tN.default=Qge;var nN={},Yge=en.exports,Xge=tn.exports;Object.defineProperty(nN,"__esModule",{value:!0});var rN=nN.default=void 0,Jge=Xge(x.exports),Zge=Yge(cn()),eme=(0,Zge.default)(Jge.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");rN=nN.default=eme;var iN={},tme=en.exports,nme=tn.exports;Object.defineProperty(iN,"__esModule",{value:!0});var oN=iN.default=void 0,rme=nme(x.exports),ime=tme(cn()),ome=(0,ime.default)(rme.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");oN=iN.default=ome;var sN={},sme=en.exports,ame=tn.exports;Object.defineProperty(sN,"__esModule",{value:!0});var fq=sN.default=void 0,ume=ame(x.exports),lme=sme(cn()),cme=(0,lme.default)(ume.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");fq=sN.default=cme;function fme({comment:e}){const{author:t,commentContent:n,likes:r,time:i,id:o}=e,a=t.uid;let u=Da(Ba),c=r.includes(u.user.uid);const f=()=>{};return N("div",{className:"comment",children:re("div",{className:"comment__content",children:[re(Pi,{to:"/profile/"+a,className:"tweet__authorInfo",children:[N("h5",{children:t.fname+" "+t.lname}),re("p",{children:["@",t.username]}),N("span",{children:"\xB7"}),N("p",{children:i.toString()})]}),re("div",{className:"comment__details",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[N("p",{children:n}),Zh(c?oN:rN,r==null?void 0:r.length,"red",f,"Like",c)]})]})})}const hq=()=>N("div",{className:"loading__container",children:N(BR,{})}),Zh=(e,t,n,r,i,o=!1)=>re("div",{className:"tweet__button active-"+n+(o?" active-btn":""),onClick:r,"data-tooltip":i,children:[N(e,{}),N("p",{children:t})]});function aN({isSubTweet:e=!1,id:t,user:n,tweet:r,likes:i,comments:o,retweets:a,time:u,commentsOpen:c=!1}){const f=Da(Ba);let[d,p]=x.exports.useState(!0),[g,m]=x.exports.useState(null),w=i.includes(f.user.uid),[_,T]=x.exports.useState(""),[b,S]=x.exports.useState(c);const C=[];x.exports.useEffect(()=>{Xt.collection("users").doc(n).get().then($=>{m($.data()),p(!1)})},[t]);const O=$=>{w?(Xt.collection("users").doc(f.user.uid).update({likes:[...f.userData.likes.filter(k=>k!==t)]}),Xt.collection("tweets").doc(t).update({likes:[...i.filter(k=>k!==f.user.uid)]})):(Xt.collection("users").doc(f.user.uid).update({likes:[...f.userData.likes,t]}),Xt.collection("tweets").doc(t).update({likes:[...i,f.user.uid]}))},P=()=>{},R=()=>{S($=>!$)},F=()=>{},L=$=>{$.preventDefault();const k=new Date().toUTCString(),H={author:{uid:f.userData.uid,fname:f.userData.fname,lname:f.userData.lname},time:k,likes:[],commentContent:_,id:o[o.length-1]?o[o.length-1].id+1:0};Xt.collection("tweets").doc(t).update({comments:[...o,H]}),T("")};return N(Pi,{to:"/tweet/"+t,className:"tweet",children:d?N(hq,{}):re(ba,{children:[N(Pi,{to:"/profile/"+n,className:"tweet__authorImg",children:N("img",{src:g.photoURL?g.photoURL:jf,alt:""})}),re("div",{className:"tweet__content",children:[re(Pi,{to:"/profile/"+n,className:"tweet__authorInfo",children:[N("h5",{children:g.fname+" "+g.lname}),re("p",{children:["@",g.username]}),N("span",{children:"\xB7"}),N("p",{children:u.toString()})]}),re("div",{className:"tweet__main",children:[N("p",{className:"tweet__text",children:r.tweetText}),N("div",{className:"tweet__attachments",children:C?C.map($=>N("div",{className:"tweet__attachment",children:N("img",{src:$.url,alt:""})})):""})]}),e?"":re(ba,{children:[re("div",{className:"tweet__buttons",onClick:$=>$.preventDefault(),children:[Zh(lq,o?o.length:"","blue",R,"Comment"),Zh(cq,a==null?void 0:a.length,"green",P,"ReTweet"),Zh(w?oN:rN,i==null?void 0:i.length,"red",O,"Like",w),Zh(fq,"","blue",F,"Share")]}),b?re("div",{className:"tweet__comments",children:[re("form",{className:"tweet__commentsInput",onSubmit:L,children:[N("input",{type:"text",value:_,onChange:$=>{T($.target.value)}}),N("button",{type:"submit",children:"Comment"})]}),o.map($=>N(fme,{comment:$}))]}):""]})]})]})})}function ed({filterFunc:e=()=>!0}){qC(uq());let[t,n]=x.exports.useState([]),[r,i]=x.exports.useState(!0);return x.exports.useEffect(()=>{Xt.collection("tweets").orderBy("time","desc").get().then(o=>{let a=[];o.forEach(u=>{let f={...u.data()};f.id=u.id,a.push({...f})}),n(a),i(!1)})}),N("div",{className:"feed",children:r?N(hq,{}):t.length>0?t.filter(e).map(o=>N(aN,{...o},o.id)):N("p",{children:"No Tweets to show"})})}var uN={},hme=en.exports,dme=tn.exports;Object.defineProperty(uN,"__esModule",{value:!0});var dq=uN.default=void 0,pme=dme(x.exports),vme=hme(cn()),gme=(0,vme.default)(pme.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"}),"Stars");dq=uN.default=gme;var lN={},mme=en.exports,yme=tn.exports;Object.defineProperty(lN,"__esModule",{value:!0});var pq=lN.default=void 0,wme=yme(x.exports),_me=mme(cn()),bme=(0,_me.default)(wme.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L9 13.14 6 17h12l-3.86-5.14z"}),"InsertPhotoOutlined");pq=lN.default=bme;var cN={},Eme=en.exports,Sme=tn.exports;Object.defineProperty(cN,"__esModule",{value:!0});var vq=cN.default=void 0,Tme=Sme(x.exports),Ime=Eme(cn()),Cme=(0,Ime.default)(Tme.createElement("path",{d:"M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zM19 10.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"}),"Gif");vq=cN.default=Cme;var fN={},kme=en.exports,xme=tn.exports;Object.defineProperty(fN,"__esModule",{value:!0});var gq=fN.default=void 0,Rme=xme(x.exports),Nme=kme(cn()),Ame=(0,Nme.default)(Rme.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}),"Poll");gq=fN.default=Ame;var hN={},Pme=en.exports,Ome=tn.exports;Object.defineProperty(hN,"__esModule",{value:!0});var mq=hN.default=void 0,Dme=Ome(x.exports),Mme=Pme(cn()),Lme=(0,Mme.default)(Dme.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}),"InsertEmoticonOutlined");mq=hN.default=Lme;var dN={},Fme=en.exports,$me=tn.exports;Object.defineProperty(dN,"__esModule",{value:!0});var yq=dN.default=void 0,Ume=$me(x.exports),jme=Fme(cn()),Vme=(0,jme.default)(Ume.createElement("path",{d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"}),"DateRangeOutlined");yq=dN.default=Vme;function Bh(e,t,n=!1){return N("div",{className:"tweetForm__icon",onClick:t,children:N(e,{})})}function Bme(){let[e,t]=x.exports.useState("");const n=Da(Ba);return re("form",{className:"tweetForm",onSubmit:i=>{i.preventDefault(),Xt.collection("tweets").add({user:n.user.uid,tweet:{tweetText:e},likes:[],comments:[],retweets:[],time:new Date().toUTCString()}).then(o=>{Xt.collection("users").doc(n.user.uid).update({tweets:[...n.userData.tweets,o.id]})}),t("")},children:[N("div",{className:"tweetForm__img",children:N("img",{src:n.user.photoURL?n.user.photoURL:jf,alt:""})}),re("div",{className:"tweetForm__main",children:[N("div",{className:"tweetForm__input",children:N("textarea",{rows:"2",cols:"60",type:"text",placeholder:"What's Happening?",className:"tweetForm__text",value:e,onChange:i=>{t(i.target.value)}})}),re("div",{className:"tweetForm__bottom",children:[re("div",{className:"tweetForm__icons",children:[Bh(pq,()=>{},!0),Bh(vq,()=>{}),Bh(gq,()=>{}),Bh(mq,()=>{}),Bh(yq,()=>{})]}),N("button",{type:"submit",children:"Tweet"})]})]})]})}function zme(){return re("div",{className:"home",children:[re("header",{className:"home__header",children:[N("h2",{children:"Home"}),N(dq,{})]}),N(Bme,{}),N("div",{className:"home__feed",children:N(ed,{})})]})}var pN={},qme=en.exports,Wme=tn.exports;Object.defineProperty(pN,"__esModule",{value:!0});var wq=pN.default=void 0,Hme=Wme(x.exports),Kme=qme(cn()),Gme=(0,Kme.default)(Hme.createElement("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}),"NotificationsNone");wq=pN.default=Gme;var vN={},Qme=en.exports,Yme=tn.exports;Object.defineProperty(vN,"__esModule",{value:!0});var _q=vN.default=void 0,Xme=Yme(x.exports),Jme=Qme(cn()),Zme=(0,Jme.default)(Xme.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline");_q=vN.default=Zme;var gN={},eye=en.exports,tye=tn.exports;Object.defineProperty(gN,"__esModule",{value:!0});var bq=gN.default=void 0,nye=tye(x.exports),rye=eye(cn()),iye=(0,rye.default)(nye.createElement("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PersonOutline");bq=gN.default=iye;var mN={},oye=en.exports,sye=tn.exports;Object.defineProperty(mN,"__esModule",{value:!0});var yN=mN.default=void 0,aye=sye(x.exports),uye=oye(cn()),lye=(0,uye.default)(aye.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");yN=mN.default=lye;var wN={},cye=en.exports,fye=tn.exports;Object.defineProperty(wN,"__esModule",{value:!0});var Eq=wN.default=void 0,hye=fye(x.exports),dye=cye(cn()),pye=(0,dye.default)(hye.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");Eq=wN.default=pye;var _N={},vye=en.exports,gye=tn.exports;Object.defineProperty(_N,"__esModule",{value:!0});var Sq=_N.default=void 0,mye=gye(x.exports),yye=vye(cn()),wye=(0,yye.default)(mye.createElement("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"}),"Explore");Sq=_N.default=wye;function _ye(){const e=Da(Ba);return re("div",{className:"profile",children:[N("div",{className:"profile__img",children:N("img",{src:e.user.photoURL?e.user.photoURL:jf,alt:""})}),re("div",{className:"profile__info",children:[N("h4",{children:e.user.displayName}),re("p",{children:["@",e.userData.username]})]}),N("div",{className:"moreicon",children:N(yN,{})})]})}const tc=(e,t,n)=>{let r=cQ();return re(Pi,{to:n,className:"navbar__item"+(n===r.pathname?" active":""),children:[N(e,{}),N("h3",{children:t})]})};function bye(){return re("nav",{className:"navbar",children:[N("div",{className:"twittericon",children:N(Pi,{to:"/",children:N(e_,{})})}),tc(Eq,"Home","/"),tc(Sq,"Explore","/explore"),tc(wq,"Notifications","/notifications"),tc(_q,"Messages","/messages"),tc(bq,"Profile","/profile"),tc(yN,"More","/more"),N("button",{className:"navbar__tweet",children:"Tweet"}),N("div",{className:"navbar__profile",children:N(Pi,{to:"profile",children:N(_ye,{})})})]})}function Eye(){return re("div",{className:"sidebar",children:[N("h3",{children:"What's this?"}),re("ul",{children:[N("li",{children:"A twitter clone"}),N("li",{children:"Made using React, Redux and Firebase"}),re("li",{children:["Made by"," ",N("a",{href:"https://www.linkedin.com/in/jagritvats/",target:"_blank",style:{color:"blue"},children:"Jagrit"})]})]})]})}var bN={},Sye=en.exports,Tye=tn.exports;Object.defineProperty(bN,"__esModule",{value:!0});var EN=bN.default=void 0,Iye=Tye(x.exports),Cye=Sye(cn()),kye=(0,Cye.default)(Iye.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");EN=bN.default=kye;var SN={},xye=en.exports,Rye=tn.exports;Object.defineProperty(SN,"__esModule",{value:!0});var Tq=SN.default=void 0,Nye=Rye(x.exports),Aye=xye(cn()),Pye=(0,Aye.default)(Nye.createElement("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Event");Tq=SN.default=Pye;function Iq({userProfile:e}){const t=Da(Ba);let n=null,r=!0;e?t.userData.uid===e.uid?(n=t,r=!1):n={userData:e}:(n=t,r=!1);const i=n.userData.fname+" "+n.userData.lname,o=new Date(Date.parse(n.userData.joinedAt)),a=o.toLocaleString("default",{month:"long"});let u=sU(),[c,f]=x.exports.useState("Tweets");return re("div",{className:"profilePage",children:[re("header",{className:"profilePage__header",children:[N(EN,{onClick:()=>{u.goBack()}}),re("div",{className:"profilePage__headerSummary",children:[N("h3",{children:i}),re("p",{children:[n.userData.tweets.length," tweets"]})]})]}),re("div",{className:"profilePage__info",children:[N("div",{className:"profilePage__cover",children:N("img",{src:"",alt:""})}),re("div",{className:"profilePage__details",children:[N("div",{className:"profilePage__profImg",children:N("img",{src:n.userData.photoURL?n.userData.photoURL:jf,alt:""})}),r?N("button",{className:"profilePage__editProfileBtn",children:"Follow"}):N("button",{className:"profilePage__editProfileBtn",children:"Edit Profile"}),N("h3",{children:i}),re("p",{className:"profilePage__username",children:["@",n.userData.username]}),N("p",{className:"bio",children:"This is an empty bio, add some bio so that people can get to know you better!"}),re("div",{className:"joined",children:[N(Tq,{}),re("p",{children:[" ","Joined ",a," ",o.getFullYear()]})]}),re("div",{className:"profilePage__followState",children:[re("p",{className:"following",children:[N("strong",{children:n.userData.following.length})," ","following"]}),re("p",{className:"followers",children:[N("strong",{children:n.userData.followers.length})," ","followers"]}),r?"":N(Lz,{onClick:()=>{Kw.signOut()},variant:"outlined",color:"secondary",children:"Sign Out"})]})]})]}),re("div",{className:"profilePage__tabs",children:[N("div",{className:"profilePage__tab"+(c==="Tweets"?" active":""),onClick:()=>f("Tweets"),children:"Tweets"}),N("div",{className:"profilePage__tab"+(c==="Tweets & Replies"?" active":""),children:"Tweets & Replies"}),N("div",{className:"profilePage__tab"+(c==="Media"?" active":""),children:"Media"}),N("div",{className:"profilePage__tab"+(c==="Likes"?" active":""),onClick:()=>f("Likes"),children:"Likes"})]}),re("div",{className:"profilePage__tabContent",children:[c==="Tweets"?N(ed,{filterFunc:d=>d.user===n.userData.uid}):"",c==="Tweets & Replies"?N(ed,{filterFunc:d=>d.user===n.userData.uid}):"",c==="Media"?N(ed,{filterFunc:d=>d.user===n.userData.uid}):"",c==="Likes"?N(ed,{filterFunc:d=>d.likes.includes(n.userData.uid)}):""]})]})}function Oye({heading:e}){let t=sU();return re("header",{className:"header",children:[N(EN,{onClick:()=>{t.goBack()}}),N("div",{className:"header__summary",children:N("h3",{children:e})})]})}function Dye(){let e=aU(),[t,n]=x.exports.useState(null),r=e.id;return x.exports.useEffect(()=>{Xt.collection("tweets").doc(r).get().then(i=>{const o=i.data();n(o)})},[r]),re("div",{children:[N(Oye,{heading:"Tweet"}),N("div",{children:t?N(aN,{...t,commentsOpen:!0}):""})]})}const js=e=>{const t=Da(Ba);return N(Cm,{...e,children:t.user?e.children:N(vT,{to:"login"})})};function Mye(){var e=aU().id;let[t,n]=x.exports.useState(null);return x.exports.useEffect(()=>{console.log(e),Xt.collection("users").doc(e).get().then(r=>{const i=r.data();n(i)})},[e]),N(ba,{children:t?N("div",{children:N(Iq,{userProfile:t})}):N(BR,{})})}function Lye(){let[e,t]=x.exports.useState(null),[n,r]=x.exports.useState(null);return x.exports.useEffect(()=>{Xt.collection("users").orderBy("joinedAt","desc").limit(4).get().then(i=>{var o=[];i.forEach(a=>{let u=a.data();o.push(u)}),t(o)}),Xt.collection("tweets").orderBy("time","desc").limit(4).get().then(i=>{var o=[];i.forEach(a=>{let u=a.data();o.push(u)}),r(o)})},[]),re("div",{children:[N("header",{className:"explore__header",children:N("h2",{children:"Explore, Find Users"})}),re("div",{className:"explore__content",children:[re("div",{className:"expore__users",children:[N("h3",{children:"Explore Users"}),e?e.map(i=>re(Pi,{to:"/profile/"+i.uid,className:"tweet__authorInfo",children:[N("img",{src:i.photoURL?i.photoURL:jf,alt:"",className:"tweet__authorImg"}),N("h5",{children:i.fname+" "+i.lname}),re("p",{children:["@",i.username]})]},i.uid)):"loading"]}),re("div",{className:"explore__tweets",children:[N("h3",{children:"Explore Tweets"}),N("div",{children:n?n.map(i=>N(aN,{...i,isSubTweet:!0},i.id)):"loading"})]})]})]})}function Fye(){let[e,t]=x.exports.useState(null),[n,r]=x.exports.useState("");const[i,o]=x.exports.useState(!0),[a,u]=x.exports.useState(!1);x.exports.useState(!1);const c=x.exports.useRef(null);let f=Da(Ba);x.exports.useEffect(()=>{let p;try{p=Xt.collection("messages").orderBy("time","asc").onSnapshot(g=>{var m=[];g.forEach(w=>{m.push(w.data())}),t(m),o(!1)}),setTimeout(()=>{c.current.scrollIntoView({behavior:"smooth"})},1e3)}catch{u(!0)}return()=>p()},[]);const d=p=>{p.preventDefault();const g=new Date().toUTCString(),m={author:{uid:f.userData.uid,fname:f.userData.fname},txt:n,time:g};Xt.collection("messages").add(m).then(()=>{r(""),setTimeout(()=>{c.current.scrollIntoView({behavior:"smooth"})},1e3)})};return a?N("div",{children:N("p",{color:"red",children:"Error Occured"})}):(!i&&c.previous&&c.current.scrollIntoView({behavior:"smooth"}),re("div",{className:"messages",children:[N("header",{className:"messages__header",children:N("h2",{children:"Live Chat"})}),re("div",{className:"messages__list",children:[e?e.map(p=>re("div",{className:"message"+(p.author.uid===f.userData.uid?" your__msg":""),children:[re("div",{className:"message__author",children:[N("h4",{children:p.author.fname}),N("span",{children:"."}),N("span",{children:p.time})]}),N("div",{className:"message__content",children:N("p",{children:p.txt})})]})):"Loading",N("div",{id:"endmsgs",ref:c})]}),N("footer",{className:"message__send",children:re("form",{onSubmit:d,children:[N(Jo,{autoFocus:!0,type:"text",className:"message__box",value:n,onChange:p=>{r(p.target.value)},variant:"outlined",placeholder:"Enter your message"}),N(Lz,{variant:"contained",color:"primary",type:"submit",children:"Send"})]})}),N("div",{})]}))}function $ye(){let[e,t]=x.exports.useState(null);return x.exports.useEffect(()=>{Xt.collection("notifications").get().then(n=>{var r=[];n.forEach(i=>{const o=i.data();r.push(o)}),t(r)})},[]),re("div",{className:"notifications",children:[N("header",{className:"notifications__header",children:N("h2",{children:"Notifications"})}),N("div",{className:"notifications__content",children:e?e.map(n=>N(Pi,{to:"/profile/"+n.eventAuthor,className:"notification",children:N("h3",{children:n.event})})):"Loading"})]})}function Uye(){const e=Da(Ba),t=qC();return x.exports.useEffect(()=>{const n=Kw.onAuthStateChanged(r=>{r?r.displayName&&t(Rd({uid:r.uid,email:r.email,displayName:r.displayName,photoURL:r.photoURL})):t(uq())});return()=>n()},[]),N("div",{className:"App",children:e.dataStatus==="loading"?N(BR,{}):N(fQ,{children:re(lQ,{children:[N(Cm,{exact:!0,path:"/login",children:e.user?N(vT,{to:"/"}):N(Gve,{})}),N(Cm,{exact:!0,path:"/register",children:e.user?N(vT,{to:"/"}):N(Uge,{})}),re(js,{path:"/",children:[e.user?N(bye,{}):"",re("div",{className:"App__content",children:[N(js,{exact:!0,path:"/",children:N(zme,{})}),N(js,{exact:!0,path:"/profile",children:N(Iq,{})}),N(js,{exact:!0,path:"/explore",children:N(Lye,{})}),N(js,{exact:!0,path:"/messages",children:N(Fye,{})}),N(js,{exact:!0,path:"/notifications",children:N($ye,{})}),N(js,{exact:!0,path:"/profile/:id",children:N(Mye,{})}),N(js,{exact:!0,path:"/tweet/:id",children:N(Dye,{})})]}),e.user?N(Eye,{}):""]}),N(Cm,{children:N("p",{children:"404"})})]})})})}const jye=Ige({reducer:{user:$ge}});wS.createRoot(document.getElementById("root")).render(N(Re.StrictMode,{children:N(Y9,{store:jye,children:N(Uye,{})})}));
